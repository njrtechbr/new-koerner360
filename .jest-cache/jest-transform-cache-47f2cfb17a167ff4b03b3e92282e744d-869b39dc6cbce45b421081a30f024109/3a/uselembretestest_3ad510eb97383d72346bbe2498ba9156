8192a0ad3bc6c8713dc2ea932e723c17
"use strict";
// Mock do hook useToast
jest.mock('../use-toast', ()=>({
        useToast: jest.fn(()=>({
                toast: jest.fn()
            }))
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _uselembretes = require("../use-lembretes");
const _usetoast = require("../use-toast");
// Mock do fetch global
const mockFetch = jest.fn();
global.fetch = mockFetch;
// Mock dos dados de teste
const mockLembretes = [
    {
        id: '1',
        tipo: 'AVALIACAO_PENDENTE',
        titulo: 'Lembrete de Avaliação',
        mensagem: 'Você tem uma avaliação pendente',
        dataEnvio: new Date().toISOString(),
        enviado: false,
        tentativas: 0,
        ultimaTentativa: null,
        proximaTentativa: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),
        erro: null,
        criadoEm: new Date().toISOString(),
        atualizadoEm: new Date().toISOString(),
        usuario: {
            id: '1',
            nome: 'João Silva',
            email: 'joao@teste.com'
        },
        avaliacao: {
            id: '1',
            titulo: 'Avaliação Q1 2024',
            prazo: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()
        }
    }
];
const mockResultadoLembretes = {
    lembretes: mockLembretes,
    total: 1,
    pagina: 1,
    totalPaginas: 1,
    porPagina: 10
};
(0, _globals.describe)('useLembretes', ()=>{
    const mockToast = jest.fn();
    (0, _globals.beforeEach)(()=>{
        jest.clearAllMocks();
        _usetoast.useToast.mockReturnValue({
            toast: mockToast
        });
    });
    (0, _globals.afterEach)(()=>{
        jest.resetAllMocks();
    });
    (0, _globals.describe)('buscarLembretes', ()=>{
        (0, _globals.it)('deve buscar lembretes com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockResultadoLembretes
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes();
            });
            (0, _globals.expect)(result.current.lembretes).toEqual(mockLembretes);
            (0, _globals.expect)(result.current.total).toBe(1);
            (0, _globals.expect)(result.current.carregando).toBe(false);
            (0, _globals.expect)(result.current.erro).toBeNull();
        });
        (0, _globals.it)('deve lidar com erro na busca', async ()=>{
            const errorMessage = 'Erro ao buscar lembretes';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes();
            });
            (0, _globals.expect)(result.current.lembretes).toEqual([]);
            (0, _globals.expect)(result.current.carregando).toBe(false);
            (0, _globals.expect)(result.current.erro).toBe(errorMessage);
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
        (0, _globals.it)('deve aplicar filtros corretamente', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockResultadoLembretes
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const filtros = {
                tipo: 'AVALIACAO_PENDENTE',
                status: 'pendente',
                usuarioId: '1',
                avaliacaoId: '1',
                dataInicio: new Date('2024-01-01'),
                dataFim: new Date('2024-12-31')
            };
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes(filtros);
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith(_globals.expect.stringContaining('/api/lembretes'), _globals.expect.objectContaining({
                method: 'GET'
            }));
            // Verificar se os parâmetros de query foram construídos corretamente
            const url = mockFetch.mock.calls[0][0];
            (0, _globals.expect)(url).toContain('tipo=AVALIACAO_PENDENTE');
            (0, _globals.expect)(url).toContain('status=pendente');
            (0, _globals.expect)(url).toContain('usuarioId=1');
            (0, _globals.expect)(url).toContain('avaliacaoId=1');
        });
    });
    (0, _globals.describe)('buscarLembrete', ()=>{
        (0, _globals.it)('deve buscar lembrete específico com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockLembretes[0]
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembrete;
            await (0, _react.act)(async ()=>{
                lembrete = await result.current.buscarLembrete('1');
            });
            (0, _globals.expect)(lembrete).toEqual(mockLembretes[0]);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'GET'
            }));
        });
        (0, _globals.it)('deve lidar com erro ao buscar lembrete específico', async ()=>{
            const errorMessage = 'Lembrete não encontrado';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembrete;
            await (0, _react.act)(async ()=>{
                lembrete = await result.current.buscarLembrete('999');
            });
            (0, _globals.expect)(lembrete).toBeNull();
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
    });
    (0, _globals.describe)('criarLembrete', ()=>{
        (0, _globals.it)('deve criar lembrete com sucesso', async ()=>{
            const novoLembrete = {
                tipo: 'LEMBRETE_PERSONALIZADO',
                titulo: 'Novo Lembrete',
                mensagem: 'Mensagem do lembrete',
                dataEnvio: new Date().toISOString(),
                usuarioId: '1',
                avaliacaoId: '1'
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...novoLembrete,
                        id: '2'
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembreteCreated;
            await (0, _react.act)(async ()=>{
                lembreteCreated = await result.current.criarLembrete(novoLembrete);
            });
            (0, _globals.expect)(lembreteCreated).toEqual({
                ...novoLembrete,
                id: '2'
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes', _globals.expect.objectContaining({
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(novoLembrete)
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete criado com sucesso'
            });
        });
        (0, _globals.it)('deve lidar com erro ao criar lembrete', async ()=>{
            const errorMessage = 'Erro ao criar lembrete';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const novoLembrete = {
                tipo: 'LEMBRETE_PERSONALIZADO',
                titulo: 'Novo Lembrete',
                mensagem: 'Mensagem do lembrete',
                dataEnvio: new Date().toISOString(),
                usuarioId: '1'
            };
            let lembreteCreated;
            await (0, _react.act)(async ()=>{
                lembreteCreated = await result.current.criarLembrete(novoLembrete);
            });
            (0, _globals.expect)(lembreteCreated).toBeNull();
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
    });
    (0, _globals.describe)('atualizarLembrete', ()=>{
        (0, _globals.it)('deve atualizar lembrete com sucesso', async ()=>{
            const dadosAtualizacao = {
                titulo: 'Título Atualizado',
                mensagem: 'Mensagem atualizada'
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...mockLembretes[0],
                        ...dadosAtualizacao
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembreteAtualizado;
            await (0, _react.act)(async ()=>{
                lembreteAtualizado = await result.current.atualizarLembrete('1', dadosAtualizacao);
            });
            (0, _globals.expect)(lembreteAtualizado).toEqual({
                ...mockLembretes[0],
                ...dadosAtualizacao
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dadosAtualizacao)
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete atualizado com sucesso'
            });
        });
    });
    (0, _globals.describe)('removerLembrete', ()=>{
        (0, _globals.it)('deve remover lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.removerLembrete('1');
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'DELETE'
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete removido com sucesso'
            });
        });
    });
    (0, _globals.describe)('removerLembretesEmLote', ()=>{
        (0, _globals.it)('deve remover lembretes em lote com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        removidos: 3
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const filtros = {
                ids: [
                    '1',
                    '2',
                    '3'
                ]
            };
            let resultado;
            await (0, _react.act)(async ()=>{
                resultado = await result.current.removerLembretesEmLote(filtros);
            });
            (0, _globals.expect)(resultado).toEqual({
                removidos: 3
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes', _globals.expect.objectContaining({
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(filtros)
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: '3 lembretes removidos com sucesso'
            });
        });
    });
    (0, _globals.describe)('executarAcao', ()=>{
        (0, _globals.it)('deve reenviar lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'reenviar');
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    acao: 'reenviar'
                })
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete reenviado com sucesso'
            });
        });
        (0, _globals.it)('deve marcar como enviado com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'marcar_enviado');
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete marcado como enviado'
            });
        });
        (0, _globals.it)('deve reagendar lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const novaData = new Date(Date.now() + 24 * 60 * 60 * 1000);
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'reagendar', {
                    novaData
                });
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    acao: 'reagendar',
                    novaData: novaData.toISOString()
                })
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete reagendado com sucesso'
            });
        });
    });
    (0, _globals.describe)('estados de carregamento', ()=>{
        (0, _globals.it)('deve gerenciar estado de carregamento corretamente', async ()=>{
            let resolvePromise;
            const promise = new Promise((resolve)=>{
                resolvePromise = resolve;
            });
            mockFetch.mockReturnValueOnce(promise);
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            // Iniciar busca
            (0, _react.act)(()=>{
                result.current.buscarLembretes();
            });
            // Verificar que está carregando
            (0, _globals.expect)(result.current.carregando).toBe(true);
            // Resolver promise
            await (0, _react.act)(async ()=>{
                resolvePromise({
                    ok: true,
                    json: async ()=>mockResultadoLembretes
                });
            });
            // Verificar que não está mais carregando
            (0, _globals.expect)(result.current.carregando).toBe(false);
        });
    });
    (0, _globals.describe)('paginação', ()=>{
        (0, _globals.it)('deve gerenciar paginação corretamente', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...mockResultadoLembretes,
                        pagina: 2,
                        totalPaginas: 3
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes({}, {
                    pagina: 2,
                    porPagina: 10
                });
            });
            (0, _globals.expect)(result.current.pagina).toBe(2);
            (0, _globals.expect)(result.current.totalPaginas).toBe(3);
            (0, _globals.expect)(result.current.porPagina).toBe(10);
            // Verificar se os parâmetros de paginação foram enviados
            const url = mockFetch.mock.calls[0][0];
            (0, _globals.expect)(url).toContain('pagina=2');
            (0, _globals.expect)(url).toContain('porPagina=10');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTmVyZXUgSnJcXERvY3VtZW50c1xcRGV2XFxuZXdcXHNyY1xcaG9va3NcXF9fdGVzdHNfX1xcdXNlLWxlbWJyZXRlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgdXNlTGVtYnJldGVzIH0gZnJvbSAnLi4vdXNlLWxlbWJyZXRlcyc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJy4uL3VzZS10b2FzdCc7XG5cbi8vIE1vY2sgZG8gaG9vayB1c2VUb2FzdFxuamVzdC5tb2NrKCcuLi91c2UtdG9hc3QnLCAoKSA9PiAoe1xuICB1c2VUb2FzdDogamVzdC5mbigoKSA9PiAoe1xuICAgIHRvYXN0OiBqZXN0LmZuKCksXG4gIH0pKSxcbn0pKTtcblxuLy8gTW9jayBkbyBmZXRjaCBnbG9iYWxcbmNvbnN0IG1vY2tGZXRjaCA9IGplc3QuZm4oKTtcbmdsb2JhbC5mZXRjaCA9IG1vY2tGZXRjaDtcblxuLy8gTW9jayBkb3MgZGFkb3MgZGUgdGVzdGVcbmNvbnN0IG1vY2tMZW1icmV0ZXMgPSBbXG4gIHtcbiAgICBpZDogJzEnLFxuICAgIHRpcG86ICdBVkFMSUFDQU9fUEVOREVOVEUnIGFzIGNvbnN0LFxuICAgIHRpdHVsbzogJ0xlbWJyZXRlIGRlIEF2YWxpYcOnw6NvJyxcbiAgICBtZW5zYWdlbTogJ1ZvY8OqIHRlbSB1bWEgYXZhbGlhw6fDo28gcGVuZGVudGUnLFxuICAgIGRhdGFFbnZpbzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGVudmlhZG86IGZhbHNlLFxuICAgIHRlbnRhdGl2YXM6IDAsXG4gICAgdWx0aW1hVGVudGF0aXZhOiBudWxsLFxuICAgIHByb3hpbWFUZW50YXRpdmE6IG5ldyBEYXRlKERhdGUubm93KCkgKyAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgIGVycm86IG51bGwsXG4gICAgY3JpYWRvRW06IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBhdHVhbGl6YWRvRW06IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICB1c3VhcmlvOiB7XG4gICAgICBpZDogJzEnLFxuICAgICAgbm9tZTogJ0pvw6NvIFNpbHZhJyxcbiAgICAgIGVtYWlsOiAnam9hb0B0ZXN0ZS5jb20nLFxuICAgIH0sXG4gICAgYXZhbGlhY2FvOiB7XG4gICAgICBpZDogJzEnLFxuICAgICAgdGl0dWxvOiAnQXZhbGlhw6fDo28gUTEgMjAyNCcsXG4gICAgICBwcmF6bzogbmV3IERhdGUoRGF0ZS5ub3coKSArIDcgKiAyNCAqIDYwICogNjAgKiAxMDAwKS50b0lTT1N0cmluZygpLFxuICAgIH0sXG4gIH0sXG5dO1xuXG5jb25zdCBtb2NrUmVzdWx0YWRvTGVtYnJldGVzID0ge1xuICBsZW1icmV0ZXM6IG1vY2tMZW1icmV0ZXMsXG4gIHRvdGFsOiAxLFxuICBwYWdpbmE6IDEsXG4gIHRvdGFsUGFnaW5hczogMSxcbiAgcG9yUGFnaW5hOiAxMCxcbn07XG5cbmRlc2NyaWJlKCd1c2VMZW1icmV0ZXMnLCAoKSA9PiB7XG4gIGNvbnN0IG1vY2tUb2FzdCA9IGplc3QuZm4oKTtcblxuICBiZWZvcmVFYWNoKCgpID0+IHtcbiAgICBqZXN0LmNsZWFyQWxsTW9ja3MoKTtcbiAgICAodXNlVG9hc3QgYXMgYW55KS5tb2NrUmV0dXJuVmFsdWUoeyB0b2FzdDogbW9ja1RvYXN0IH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIGplc3QucmVzZXRBbGxNb2NrcygpO1xuICB9KTtcblxuICBkZXNjcmliZSgnYnVzY2FyTGVtYnJldGVzJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIGJ1c2NhciBsZW1icmV0ZXMgY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tSZXN1bHRhZG9MZW1icmV0ZXMsXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5idXNjYXJMZW1icmV0ZXMoKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQubGVtYnJldGVzKS50b0VxdWFsKG1vY2tMZW1icmV0ZXMpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnRvdGFsKS50b0JlKDEpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnJlZ2FuZG8pLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm8pLnRvQmVOdWxsKCk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2ZSBsaWRhciBjb20gZXJybyBuYSBidXNjYScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdFcnJvIGFvIGJ1c2NhciBsZW1icmV0ZXMnO1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZWplY3RlZFZhbHVlT25jZShuZXcgRXJyb3IoZXJyb3JNZXNzYWdlKSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGVzKCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxlbWJyZXRlcykudG9FcXVhbChbXSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuY2FycmVnYW5kbykudG9CZShmYWxzZSk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQuZXJybykudG9CZShlcnJvck1lc3NhZ2UpO1xuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ0Vycm8nLFxuICAgICAgICBkZXNjcmlwdGlvbjogZXJyb3JNZXNzYWdlLFxuICAgICAgICB2YXJpYW50OiAnZGVzdHJ1Y3RpdmUnLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2ZSBhcGxpY2FyIGZpbHRyb3MgY29ycmV0YW1lbnRlJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUmVzdWx0YWRvTGVtYnJldGVzLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgY29uc3QgZmlsdHJvcyA9IHtcbiAgICAgICAgdGlwbzogJ0FWQUxJQUNBT19QRU5ERU5URScgYXMgY29uc3QsXG4gICAgICAgIHN0YXR1czogJ3BlbmRlbnRlJyBhcyBjb25zdCxcbiAgICAgICAgdXN1YXJpb0lkOiAnMScsXG4gICAgICAgIGF2YWxpYWNhb0lkOiAnMScsXG4gICAgICAgIGRhdGFJbmljaW86IG5ldyBEYXRlKCcyMDI0LTAxLTAxJyksXG4gICAgICAgIGRhdGFGaW06IG5ldyBEYXRlKCcyMDI0LTEyLTMxJyksXG4gICAgICB9O1xuXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCByZXN1bHQuY3VycmVudC5idXNjYXJMZW1icmV0ZXMoZmlsdHJvcyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgIGV4cGVjdC5zdHJpbmdDb250YWluaW5nKCcvYXBpL2xlbWJyZXRlcycpLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIC8vIFZlcmlmaWNhciBzZSBvcyBwYXLDom1ldHJvcyBkZSBxdWVyeSBmb3JhbSBjb25zdHJ1w61kb3MgY29ycmV0YW1lbnRlXG4gICAgICBjb25zdCB1cmwgPSBtb2NrRmV0Y2gubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGV4cGVjdCh1cmwpLnRvQ29udGFpbigndGlwbz1BVkFMSUFDQU9fUEVOREVOVEUnKTtcbiAgICAgIGV4cGVjdCh1cmwpLnRvQ29udGFpbignc3RhdHVzPXBlbmRlbnRlJyk7XG4gICAgICBleHBlY3QodXJsKS50b0NvbnRhaW4oJ3VzdWFyaW9JZD0xJyk7XG4gICAgICBleHBlY3QodXJsKS50b0NvbnRhaW4oJ2F2YWxpYWNhb0lkPTEnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2J1c2NhckxlbWJyZXRlJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIGJ1c2NhciBsZW1icmV0ZSBlc3BlY8OtZmljbyBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja0xlbWJyZXRlc1swXSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBsZW1icmV0ZTtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGxlbWJyZXRlID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGUoJzEnKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobGVtYnJldGUpLnRvRXF1YWwobW9ja0xlbWJyZXRlc1swXSk7XG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJy9hcGkvbGVtYnJldGVzLzEnLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2ZSBsaWRhciBjb20gZXJybyBhbyBidXNjYXIgbGVtYnJldGUgZXNwZWPDrWZpY28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnTGVtYnJldGUgbsOjbyBlbmNvbnRyYWRvJztcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBsZW1icmV0ZTtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGxlbWJyZXRlID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGUoJzk5OScpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChsZW1icmV0ZSkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdFcnJvJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnY3JpYXJMZW1icmV0ZScsICgpID0+IHtcbiAgICBpdCgnZGV2ZSBjcmlhciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IG5vdm9MZW1icmV0ZSA9IHtcbiAgICAgICAgdGlwbzogJ0xFTUJSRVRFX1BFUlNPTkFMSVpBRE8nIGFzIGNvbnN0LFxuICAgICAgICB0aXR1bG86ICdOb3ZvIExlbWJyZXRlJyxcbiAgICAgICAgbWVuc2FnZW06ICdNZW5zYWdlbSBkbyBsZW1icmV0ZScsXG4gICAgICAgIGRhdGFFbnZpbzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1c3VhcmlvSWQ6ICcxJyxcbiAgICAgICAgYXZhbGlhY2FvSWQ6ICcxJyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgLi4ubm92b0xlbWJyZXRlLCBpZDogJzInIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgbGV0IGxlbWJyZXRlQ3JlYXRlZDtcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGxlbWJyZXRlQ3JlYXRlZCA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmNyaWFyTGVtYnJldGUobm92b0xlbWJyZXRlKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobGVtYnJldGVDcmVhdGVkKS50b0VxdWFsKHsgLi4ubm92b0xlbWJyZXRlLCBpZDogJzInIH0pO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcycsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobm92b0xlbWJyZXRlKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdTdWNlc3NvJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMZW1icmV0ZSBjcmlhZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBpdCgnZGV2ZSBsaWRhciBjb20gZXJybyBhbyBjcmlhciBsZW1icmV0ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9ICdFcnJvIGFvIGNyaWFyIGxlbWJyZXRlJztcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGNvbnN0IG5vdm9MZW1icmV0ZSA9IHtcbiAgICAgICAgdGlwbzogJ0xFTUJSRVRFX1BFUlNPTkFMSVpBRE8nIGFzIGNvbnN0LFxuICAgICAgICB0aXR1bG86ICdOb3ZvIExlbWJyZXRlJyxcbiAgICAgICAgbWVuc2FnZW06ICdNZW5zYWdlbSBkbyBsZW1icmV0ZScsXG4gICAgICAgIGRhdGFFbnZpbzogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgICAgICB1c3VhcmlvSWQ6ICcxJyxcbiAgICAgIH07XG5cbiAgICAgIGxldCBsZW1icmV0ZUNyZWF0ZWQ7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZUNyZWF0ZWQgPSBhd2FpdCByZXN1bHQuY3VycmVudC5jcmlhckxlbWJyZXRlKG5vdm9MZW1icmV0ZSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGxlbWJyZXRlQ3JlYXRlZCkudG9CZU51bGwoKTtcbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdFcnJvJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnYXR1YWxpemFyTGVtYnJldGUnLCAoKSA9PiB7XG4gICAgaXQoJ2RldmUgYXR1YWxpemFyIGxlbWJyZXRlIGNvbSBzdWNlc3NvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZGFkb3NBdHVhbGl6YWNhbyA9IHtcbiAgICAgICAgdGl0dWxvOiAnVMOtdHVsbyBBdHVhbGl6YWRvJyxcbiAgICAgICAgbWVuc2FnZW06ICdNZW5zYWdlbSBhdHVhbGl6YWRhJyxcbiAgICAgIH07XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgLi4ubW9ja0xlbWJyZXRlc1swXSwgLi4uZGFkb3NBdHVhbGl6YWNhbyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBsZW1icmV0ZUF0dWFsaXphZG87XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZUF0dWFsaXphZG8gPSBhd2FpdCByZXN1bHQuY3VycmVudC5hdHVhbGl6YXJMZW1icmV0ZSgnMScsIGRhZG9zQXR1YWxpemFjYW8pO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChsZW1icmV0ZUF0dWFsaXphZG8pLnRvRXF1YWwoeyAuLi5tb2NrTGVtYnJldGVzWzBdLCAuLi5kYWRvc0F0dWFsaXphY2FvIH0pO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcy8xJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRhZG9zQXR1YWxpemFjYW8pLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIGF0dWFsaXphZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdyZW1vdmVyTGVtYnJldGUnLCAoKSA9PiB7XG4gICAgaXQoJ2RldmUgcmVtb3ZlciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBzdWNlc3NvO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgc3VjZXNzbyA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LnJlbW92ZXJMZW1icmV0ZSgnMScpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzdWNlc3NvKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcy8xJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnU3VjZXNzbycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTGVtYnJldGUgcmVtb3ZpZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdyZW1vdmVyTGVtYnJldGVzRW1Mb3RlJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIHJlbW92ZXIgbGVtYnJldGVzIGVtIGxvdGUgY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHJlbW92aWRvczogMyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGNvbnN0IGZpbHRyb3MgPSB7XG4gICAgICAgIGlkczogWycxJywgJzInLCAnMyddLFxuICAgICAgfTtcblxuICAgICAgbGV0IHJlc3VsdGFkbztcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc3VsdGFkbyA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LnJlbW92ZXJMZW1icmV0ZXNFbUxvdGUoZmlsdHJvcyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdGFkbykudG9FcXVhbCh7IHJlbW92aWRvczogMyB9KTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMnLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZmlsdHJvcyksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnU3VjZXNzbycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnMyBsZW1icmV0ZXMgcmVtb3ZpZG9zIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgnZXhlY3V0YXJBY2FvJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIHJlZW52aWFyIGxlbWJyZXRlIGNvbSBzdWNlc3NvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgbGV0IHN1Y2Vzc287XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBzdWNlc3NvID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuZXhlY3V0YXJBY2FvKCcxJywgJ3JlZW52aWFyJyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHN1Y2Vzc28pLnRvQmUodHJ1ZSk7XG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJy9hcGkvbGVtYnJldGVzLzEnLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGFjYW86ICdyZWVudmlhcicgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnU3VjZXNzbycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTGVtYnJldGUgcmVlbnZpYWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgbWFyY2FyIGNvbW8gZW52aWFkbyBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBzdWNlc3NvO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgc3VjZXNzbyA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmV4ZWN1dGFyQWNhbygnMScsICdtYXJjYXJfZW52aWFkbycpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzdWNlc3NvKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIG1hcmNhZG8gY29tbyBlbnZpYWRvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgcmVhZ2VuZGFyIGxlbWJyZXRlIGNvbSBzdWNlc3NvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyBzdWNjZXNzOiB0cnVlIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgY29uc3Qgbm92YURhdGEgPSBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCk7XG5cbiAgICAgIGxldCBzdWNlc3NvO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgc3VjZXNzbyA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmV4ZWN1dGFyQWNhbygnMScsICdyZWFnZW5kYXInLCB7IG5vdmFEYXRhIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzdWNlc3NvKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcy8xJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY2FvOiAncmVhZ2VuZGFyJywgbm92YURhdGE6IG5vdmFEYXRhLnRvSVNPU3RyaW5nKCkgfSksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnU3VjZXNzbycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTGVtYnJldGUgcmVhZ2VuZGFkbyBjb20gc3VjZXNzbycsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2VzdGFkb3MgZGUgY2FycmVnYW1lbnRvJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIGdlcmVuY2lhciBlc3RhZG8gZGUgY2FycmVnYW1lbnRvIGNvcnJldGFtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIGxldCByZXNvbHZlUHJvbWlzZTogKHZhbHVlOiBhbnkpID0+IHZvaWQ7XG4gICAgICBjb25zdCBwcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgcmVzb2x2ZVByb21pc2UgPSByZXNvbHZlO1xuICAgICAgfSk7XG5cbiAgICAgIG1vY2tGZXRjaC5tb2NrUmV0dXJuVmFsdWVPbmNlKHByb21pc2UpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIC8vIEluaWNpYXIgYnVzY2FcbiAgICAgIGFjdCgoKSA9PiB7XG4gICAgICAgIHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlcygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgZXN0w6EgY2FycmVnYW5kb1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnJlZ2FuZG8pLnRvQmUodHJ1ZSk7XG5cbiAgICAgIC8vIFJlc29sdmVyIHByb21pc2VcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlISh7XG4gICAgICAgICAgb2s6IHRydWUsXG4gICAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyxcbiAgICAgICAgfSk7XG4gICAgICB9KTtcblxuICAgICAgLy8gVmVyaWZpY2FyIHF1ZSBuw6NvIGVzdMOhIG1haXMgY2FycmVnYW5kb1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnJlZ2FuZG8pLnRvQmUoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncGFnaW5hw6fDo28nLCAoKSA9PiB7XG4gICAgaXQoJ2RldmUgZ2VyZW5jaWFyIHBhZ2luYcOnw6NvIGNvcnJldGFtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHtcbiAgICAgICAgICAuLi5tb2NrUmVzdWx0YWRvTGVtYnJldGVzLFxuICAgICAgICAgIHBhZ2luYTogMixcbiAgICAgICAgICB0b3RhbFBhZ2luYXM6IDMsXG4gICAgICAgIH0pLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGVzKHt9LCB7IHBhZ2luYTogMiwgcG9yUGFnaW5hOiAxMCB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucGFnaW5hKS50b0JlKDIpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnRvdGFsUGFnaW5hcykudG9CZSgzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5wb3JQYWdpbmEpLnRvQmUoMTApO1xuXG4gICAgICAvLyBWZXJpZmljYXIgc2Ugb3MgcGFyw6JtZXRyb3MgZGUgcGFnaW5hw6fDo28gZm9yYW0gZW52aWFkb3NcbiAgICAgIGNvbnN0IHVybCA9IG1vY2tGZXRjaC5tb2NrLmNhbGxzWzBdWzBdO1xuICAgICAgZXhwZWN0KHVybCkudG9Db250YWluKCdwYWdpbmE9MicpO1xuICAgICAgZXhwZWN0KHVybCkudG9Db250YWluKCdwb3JQYWdpbmE9MTAnKTtcbiAgICB9KTtcbiAgfSk7XG59KTsiXSwibmFtZXMiOlsiamVzdCIsIm1vY2siLCJ1c2VUb2FzdCIsImZuIiwidG9hc3QiLCJtb2NrRmV0Y2giLCJnbG9iYWwiLCJmZXRjaCIsIm1vY2tMZW1icmV0ZXMiLCJpZCIsInRpcG8iLCJ0aXR1bG8iLCJtZW5zYWdlbSIsImRhdGFFbnZpbyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVudmlhZG8iLCJ0ZW50YXRpdmFzIiwidWx0aW1hVGVudGF0aXZhIiwicHJveGltYVRlbnRhdGl2YSIsIm5vdyIsImVycm8iLCJjcmlhZG9FbSIsImF0dWFsaXphZG9FbSIsInVzdWFyaW8iLCJub21lIiwiZW1haWwiLCJhdmFsaWFjYW8iLCJwcmF6byIsIm1vY2tSZXN1bHRhZG9MZW1icmV0ZXMiLCJsZW1icmV0ZXMiLCJ0b3RhbCIsInBhZ2luYSIsInRvdGFsUGFnaW5hcyIsInBvclBhZ2luYSIsImRlc2NyaWJlIiwibW9ja1RvYXN0IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJyZXNldEFsbE1vY2tzIiwiaXQiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJvayIsImpzb24iLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlTGVtYnJldGVzIiwiYWN0IiwiY3VycmVudCIsImJ1c2NhckxlbWJyZXRlcyIsImV4cGVjdCIsInRvRXF1YWwiLCJ0b0JlIiwiY2FycmVnYW5kbyIsInRvQmVOdWxsIiwiZXJyb3JNZXNzYWdlIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwiZmlsdHJvcyIsInN0YXR1cyIsInVzdWFyaW9JZCIsImF2YWxpYWNhb0lkIiwiZGF0YUluaWNpbyIsImRhdGFGaW0iLCJzdHJpbmdDb250YWluaW5nIiwib2JqZWN0Q29udGFpbmluZyIsIm1ldGhvZCIsInVybCIsImNhbGxzIiwidG9Db250YWluIiwibGVtYnJldGUiLCJidXNjYXJMZW1icmV0ZSIsIm5vdm9MZW1icmV0ZSIsImxlbWJyZXRlQ3JlYXRlZCIsImNyaWFyTGVtYnJldGUiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYWRvc0F0dWFsaXphY2FvIiwibGVtYnJldGVBdHVhbGl6YWRvIiwiYXR1YWxpemFyTGVtYnJldGUiLCJzdWNjZXNzIiwic3VjZXNzbyIsInJlbW92ZXJMZW1icmV0ZSIsInJlbW92aWRvcyIsImlkcyIsInJlc3VsdGFkbyIsInJlbW92ZXJMZW1icmV0ZXNFbUxvdGUiLCJleGVjdXRhckFjYW8iLCJhY2FvIiwibm92YURhdGEiLCJyZXNvbHZlUHJvbWlzZSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiXSwibWFwcGluZ3MiOiI7QUFLQSx3QkFBd0I7QUFDeEJBLEtBQUtDLElBQUksQ0FBQyxnQkFBZ0IsSUFBTyxDQUFBO1FBQy9CQyxVQUFVRixLQUFLRyxFQUFFLENBQUMsSUFBTyxDQUFBO2dCQUN2QkMsT0FBT0osS0FBS0csRUFBRTtZQUNoQixDQUFBO0lBQ0YsQ0FBQTs7Ozt1QkFWZ0M7eUJBQzRCOzhCQUMvQjswQkFDSjtBQVN6Qix1QkFBdUI7QUFDdkIsTUFBTUUsWUFBWUwsS0FBS0csRUFBRTtBQUN6QkcsT0FBT0MsS0FBSyxHQUFHRjtBQUVmLDBCQUEwQjtBQUMxQixNQUFNRyxnQkFBZ0I7SUFDcEI7UUFDRUMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7UUFDakNDLFNBQVM7UUFDVEMsWUFBWTtRQUNa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