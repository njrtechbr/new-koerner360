{"version":3,"names":["PaginaLogin","cov_1nqltzfmu6","f","email","setEmail","s","_react","useState","senha","setSenha","mostrarSenha","setMostrarSenha","carregando","setCarregando","router","_navigation","useRouter","handleSubmit","e","preventDefault","resultado","_react1","signIn","redirect","error","b","_sonner","toast","success","sessao","getSession","push","refresh","console","_jsxruntime","jsx","className","jsxs","_card","Card","CardHeader","CardTitle","CardDescription","CardContent","onSubmit","_label","Label","htmlFor","_input","Input","id","type","placeholder","value","onChange","target","required","disabled","_button","Button","variant","size","onClick","_lucidereact","EyeOff","Eye","Fragment","Loader2","_link","default","href"],"sources":["C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\app\\auth\\login\\page.tsx"],"sourcesContent":["'use client';\n\nimport { useState } from 'react';\nimport { signIn, getSession } from 'next-auth/react';\nimport { useRouter } from 'next/navigation';\nimport { Button } from '@/components/ui/button';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Card,\n  CardContent,\n  CardDescription,\n  CardHeader,\n  CardTitle,\n} from '@/components/ui/card';\nimport { toast } from 'sonner';\nimport { Eye, EyeOff, Loader2 } from 'lucide-react';\nimport Link from 'next/link';\n\nexport default function PaginaLogin() {\n  const [email, setEmail] = useState('');\n  const [senha, setSenha] = useState('');\n  const [mostrarSenha, setMostrarSenha] = useState(false);\n  const [carregando, setCarregando] = useState(false);\n  const router = useRouter();\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    setCarregando(true);\n\n    try {\n      const resultado = await signIn('credentials', {\n        email,\n        senha,\n        redirect: false,\n      });\n\n      if (resultado?.error) {\n        toast.error('Credenciais inválidas. Verifique seu email e senha.');\n      } else {\n        toast.success('Login realizado com sucesso!');\n\n        // Aguarda a sessão ser atualizada\n        const sessao = await getSession();\n        if (sessao) {\n          router.push('/dashboard');\n          router.refresh();\n        }\n      }\n    } catch (error) {\n      console.error('Erro no login:', error);\n      toast.error('Erro interno do servidor. Tente novamente.');\n    } finally {\n      setCarregando(false);\n    }\n  };\n\n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 dark:from-gray-900 dark:to-gray-800 p-4\">\n      <Card className=\"w-full max-w-md\">\n        <CardHeader className=\"space-y-1\">\n          <CardTitle className=\"text-2xl font-bold text-center\">\n            Koerner360\n          </CardTitle>\n          <CardDescription className=\"text-center\">\n            Sistema de Gestão de Atendimento\n          </CardDescription>\n        </CardHeader>\n        <CardContent>\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email\">Email</Label>\n              <Input\n                id=\"email\"\n                type=\"email\"\n                placeholder=\"seu@email.com\"\n                value={email}\n                onChange={e => setEmail(e.target.value)}\n                required\n                disabled={carregando}\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"senha\">Senha</Label>\n              <div className=\"relative\">\n                <Input\n                  id=\"senha\"\n                  type={mostrarSenha ? 'text' : 'password'}\n                  placeholder=\"Sua senha\"\n                  value={senha}\n                  onChange={e => setSenha(e.target.value)}\n                  required\n                  disabled={carregando}\n                  className=\"pr-10\"\n                />\n                <Button\n                  type=\"button\"\n                  variant=\"ghost\"\n                  size=\"sm\"\n                  className=\"absolute right-0 top-0 h-full px-3 py-2 hover:bg-transparent\"\n                  onClick={() => setMostrarSenha(!mostrarSenha)}\n                  disabled={carregando}\n                >\n                  {mostrarSenha ? (\n                    <EyeOff className=\"h-4 w-4\" />\n                  ) : (\n                    <Eye className=\"h-4 w-4\" />\n                  )}\n                </Button>\n              </div>\n            </div>\n            <Button\n              type=\"submit\"\n              className=\"w-full\"\n              disabled={carregando || !email || !senha}\n            >\n              {carregando ? (\n                <>\n                  <Loader2 className=\"mr-2 h-4 w-4 animate-spin\" />\n                  Entrando...\n                </>\n              ) : (\n                'Entrar'\n              )}\n            </Button>\n          </form>\n\n          {/* Credenciais de Desenvolvimento */}\n          <div className=\"mt-4 p-3 bg-blue-50 dark:bg-blue-950/20 rounded-lg border border-blue-200 dark:border-blue-800\">\n            <h3 className=\"text-sm font-semibold text-blue-800 dark:text-blue-200 mb-2\">\n              Credenciais de Desenvolvimento\n            </h3>\n            <div className=\"space-y-2 text-xs\">\n              <div className=\"flex justify-between items-center\">\n                <span className=\"font-medium text-blue-700 dark:text-blue-300\">\n                  Administrador:\n                </span>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"h-6 px-2 text-xs\"\n                  onClick={() => {\n                    setEmail('admin@koerner360.com');\n                    setSenha('admin123');\n                  }}\n                >\n                  Usar\n                </Button>\n              </div>\n              <div className=\"text-blue-600 dark:text-blue-400\">\n                admin@koerner360.com / admin123\n              </div>\n\n              <div className=\"flex justify-between items-center mt-2\">\n                <span className=\"font-medium text-blue-700 dark:text-blue-300\">\n                  Gestor:\n                </span>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"h-6 px-2 text-xs\"\n                  onClick={() => {\n                    setEmail('gestor@koerner360.com');\n                    setSenha('gestor123');\n                  }}\n                >\n                  Usar\n                </Button>\n              </div>\n              <div className=\"text-blue-600 dark:text-blue-400\">\n                gestor@koerner360.com / gestor123\n              </div>\n\n              <div className=\"flex justify-between items-center mt-2\">\n                <span className=\"font-medium text-blue-700 dark:text-blue-300\">\n                  Atendente:\n                </span>\n                <Button\n                  type=\"button\"\n                  variant=\"outline\"\n                  size=\"sm\"\n                  className=\"h-6 px-2 text-xs\"\n                  onClick={() => {\n                    setEmail('atendente@koerner360.com');\n                    setSenha('atendente123');\n                  }}\n                >\n                  Usar\n                </Button>\n              </div>\n              <div className=\"text-blue-600 dark:text-blue-400\">\n                atendente@koerner360.com / atendente123\n              </div>\n            </div>\n          </div>\n\n          <div className=\"mt-4 text-center text-sm space-y-2\">\n            <div>\n              <Link\n                href=\"/auth/forgot-password\"\n                className=\"text-primary hover:underline font-medium\"\n              >\n                Esqueceu sua senha?\n              </Link>\n            </div>\n            <div>\n              <span className=\"text-muted-foreground\">Não tem uma conta? </span>\n              <Link\n                href=\"/auth/register\"\n                className=\"text-primary hover:underline font-medium\"\n              >\n                Criar conta\n              </Link>\n            </div>\n          </div>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]}