dcb51d1289d5a34d31a9963ba9a986c7
"use strict";

/* istanbul ignore next */
function cov_cri6zuiww() {
  var path = "C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\app\\api\\preferencias-notificacao\\route.ts";
  var hash = "1db1a84eb96cb27253399fc62074f7a2c0ffb9de";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\app\\api\\preferencias-notificacao\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 21,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 22
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 19
        }
      },
      "6": {
        start: {
          line: 19,
          column: 8
        },
        end: {
          line: 19,
          column: 19
        }
      },
      "7": {
        start: {
          line: 22,
          column: 16
        },
        end: {
          line: 22,
          column: 38
        }
      },
      "8": {
        start: {
          line: 23,
          column: 18
        },
        end: {
          line: 23,
          column: 38
        }
      },
      "9": {
        start: {
          line: 24,
          column: 15
        },
        end: {
          line: 24,
          column: 53
        }
      },
      "10": {
        start: {
          line: 25,
          column: 33
        },
        end: {
          line: 25,
          column: 90
        }
      },
      "11": {
        start: {
          line: 26,
          column: 13
        },
        end: {
          line: 26,
          column: 27
        }
      },
      "12": {
        start: {
          line: 28,
          column: 26
        },
        end: {
          line: 86,
          column: 2
        }
      },
      "13": {
        start: {
          line: 88,
          column: 4
        },
        end: {
          line: 110,
          column: 5
        }
      },
      "14": {
        start: {
          line: 89,
          column: 24
        },
        end: {
          line: 89,
          column: 81
        }
      },
      "15": {
        start: {
          line: 90,
          column: 8
        },
        end: {
          line: 96,
          column: 9
        }
      },
      "16": {
        start: {
          line: 91,
          column: 12
        },
        end: {
          line: 95,
          column: 15
        }
      },
      "17": {
        start: {
          line: 97,
          column: 29
        },
        end: {
          line: 97,
          column: 124
        }
      },
      "18": {
        start: {
          line: 98,
          column: 8
        },
        end: {
          line: 101,
          column: 11
        }
      },
      "19": {
        start: {
          line: 103,
          column: 8
        },
        end: {
          line: 103,
          column: 76
        }
      },
      "20": {
        start: {
          line: 104,
          column: 8
        },
        end: {
          line: 109,
          column: 11
        }
      },
      "21": {
        start: {
          line: 113,
          column: 4
        },
        end: {
          line: 157,
          column: 5
        }
      },
      "22": {
        start: {
          line: 114,
          column: 24
        },
        end: {
          line: 114,
          column: 81
        }
      },
      "23": {
        start: {
          line: 115,
          column: 8
        },
        end: {
          line: 121,
          column: 9
        }
      },
      "24": {
        start: {
          line: 116,
          column: 12
        },
        end: {
          line: 120,
          column: 15
        }
      },
      "25": {
        start: {
          line: 122,
          column: 21
        },
        end: {
          line: 122,
          column: 41
        }
      },
      "26": {
        start: {
          line: 124,
          column: 33
        },
        end: {
          line: 124,
          column: 66
        }
      },
      "27": {
        start: {
          line: 125,
          column: 8
        },
        end: {
          line: 132,
          column: 9
        }
      },
      "28": {
        start: {
          line: 126,
          column: 12
        },
        end: {
          line: 131,
          column: 15
        }
      },
      "29": {
        start: {
          line: 133,
          column: 22
        },
        end: {
          line: 133,
          column: 43
        }
      },
      "30": {
        start: {
          line: 135,
          column: 8
        },
        end: {
          line: 142,
          column: 9
        }
      },
      "31": {
        start: {
          line: 136,
          column: 12
        },
        end: {
          line: 138,
          column: 13
        }
      },
      "32": {
        start: {
          line: 137,
          column: 16
        },
        end: {
          line: 137,
          column: 100
        }
      },
      "33": {
        start: {
          line: 139,
          column: 12
        },
        end: {
          line: 141,
          column: 13
        }
      },
      "34": {
        start: {
          line: 140,
          column: 16
        },
        end: {
          line: 140,
          column: 94
        }
      },
      "35": {
        start: {
          line: 143,
          column: 40
        },
        end: {
          line: 143,
          column: 135
        }
      },
      "36": {
        start: {
          line: 144,
          column: 8
        },
        end: {
          line: 148,
          column: 11
        }
      },
      "37": {
        start: {
          line: 150,
          column: 8
        },
        end: {
          line: 150,
          column: 79
        }
      },
      "38": {
        start: {
          line: 151,
          column: 8
        },
        end: {
          line: 156,
          column: 11
        }
      },
      "39": {
        start: {
          line: 160,
          column: 4
        },
        end: {
          line: 183,
          column: 5
        }
      },
      "40": {
        start: {
          line: 161,
          column: 24
        },
        end: {
          line: 161,
          column: 81
        }
      },
      "41": {
        start: {
          line: 162,
          column: 8
        },
        end: {
          line: 168,
          column: 9
        }
      },
      "42": {
        start: {
          line: 163,
          column: 12
        },
        end: {
          line: 167,
          column: 15
        }
      },
      "43": {
        start: {
          line: 169,
          column: 38
        },
        end: {
          line: 169,
          column: 135
        }
      },
      "44": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 174,
          column: 11
        }
      },
      "45": {
        start: {
          line: 176,
          column: 8
        },
        end: {
          line: 176,
          column: 77
        }
      },
      "46": {
        start: {
          line: 177,
          column: 8
        },
        end: {
          line: 182,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 18
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 15
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 18,
            column: 4
          },
          end: {
            line: 18,
            column: 5
          }
        },
        loc: {
          start: {
            line: 18,
            column: 15
          },
          end: {
            line: 20,
            column: 5
          }
        },
        line: 18
      },
      "4": {
        name: "GET",
        decl: {
          start: {
            line: 87,
            column: 15
          },
          end: {
            line: 87,
            column: 18
          }
        },
        loc: {
          start: {
            line: 87,
            column: 28
          },
          end: {
            line: 111,
            column: 1
          }
        },
        line: 87
      },
      "5": {
        name: "PUT",
        decl: {
          start: {
            line: 112,
            column: 15
          },
          end: {
            line: 112,
            column: 18
          }
        },
        loc: {
          start: {
            line: 112,
            column: 28
          },
          end: {
            line: 158,
            column: 1
          }
        },
        line: 112
      },
      "6": {
        name: "DELETE",
        decl: {
          start: {
            line: 159,
            column: 15
          },
          end: {
            line: 159,
            column: 21
          }
        },
        loc: {
          start: {
            line: 159,
            column: 31
          },
          end: {
            line: 184,
            column: 1
          }
        },
        line: 159
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 90,
            column: 8
          },
          end: {
            line: 96,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 90,
            column: 8
          },
          end: {
            line: 96,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 90
      },
      "1": {
        loc: {
          start: {
            line: 106,
            column: 21
          },
          end: {
            line: 106,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 106,
            column: 46
          },
          end: {
            line: 106,
            column: 59
          }
        }, {
          start: {
            line: 106,
            column: 62
          },
          end: {
            line: 106,
            column: 81
          }
        }],
        line: 106
      },
      "2": {
        loc: {
          start: {
            line: 115,
            column: 8
          },
          end: {
            line: 121,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 115,
            column: 8
          },
          end: {
            line: 121,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 115
      },
      "3": {
        loc: {
          start: {
            line: 125,
            column: 8
          },
          end: {
            line: 132,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 125,
            column: 8
          },
          end: {
            line: 132,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 125
      },
      "4": {
        loc: {
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 142,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 135,
            column: 8
          },
          end: {
            line: 142,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 135
      },
      "5": {
        loc: {
          start: {
            line: 136,
            column: 12
          },
          end: {
            line: 138,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 136,
            column: 12
          },
          end: {
            line: 138,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 136
      },
      "6": {
        loc: {
          start: {
            line: 139,
            column: 12
          },
          end: {
            line: 141,
            column: 13
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 139,
            column: 12
          },
          end: {
            line: 141,
            column: 13
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 139
      },
      "7": {
        loc: {
          start: {
            line: 153,
            column: 21
          },
          end: {
            line: 153,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 153,
            column: 46
          },
          end: {
            line: 153,
            column: 59
          }
        }, {
          start: {
            line: 153,
            column: 62
          },
          end: {
            line: 153,
            column: 81
          }
        }],
        line: 153
      },
      "8": {
        loc: {
          start: {
            line: 162,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 162,
            column: 8
          },
          end: {
            line: 168,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 162
      },
      "9": {
        loc: {
          start: {
            line: 179,
            column: 21
          },
          end: {
            line: 179,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 179,
            column: 46
          },
          end: {
            line: 179,
            column: 59
          }
        }, {
          start: {
            line: 179,
            column: 62
          },
          end: {
            line: 179,
            column: 81
          }
        }],
        line: 179
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0, 0],
      "6": [0, 0],
      "7": [0, 0],
      "8": [0, 0],
      "9": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\app\\api\\preferencias-notificacao\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '../auth/[...nextauth]/route';\nimport { PreferenciasNotificacaoService } from '@/lib/services/preferencias-notificacao';\nimport { PreferenciasNotificacaoInput } from '@/lib/types/preferencias-notificacao';\nimport { z } from 'zod';\n\n// Schema de valida\xE7\xE3o para atualiza\xE7\xE3o de prefer\xEAncias\nconst preferenciaSchema = z.object({\n  notificacoesAtivas: z.boolean().optional(),\n  emailAtivo: z.boolean().optional(),\n  diasAntecedenciaLembrete: z.number().min(0).max(30).optional(),\n  horarioEnvio: z.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/).optional(),\n  incluirFinsDeSemanaSemana: z.boolean().optional(),\n  incluirFeriados: z.boolean().optional(),\n  tiposNotificacao: z.object({\n    avaliacaoPendente: z.boolean().optional(),\n    avaliacaoVencida: z.boolean().optional(),\n    avaliacaoProximaVencimento: z.boolean().optional(),\n    novaAvaliacaoRecebida: z.boolean().optional(),\n    avaliacaoCompletada: z.boolean().optional(),\n    lembretePersonalizado: z.boolean().optional(),\n  }).optional(),\n  urgenciaMinima: z.enum(['BAIXA', 'MEDIA', 'ALTA']).optional(),\n  frequenciaLembretes: z.object({\n    avaliacaoPendente: z.enum(['DIARIO', 'SEMANAL', 'QUINZENAL', 'MENSAL', 'NUNCA']).optional(),\n    avaliacaoVencida: z.enum(['DIARIO', 'SEMANAL', 'NUNCA']).optional(),\n  }).optional(),\n  incluirDetalhesAvaliacao: z.boolean().optional(),\n  incluirLinkDireto: z.boolean().optional(),\n  incluirResumoEstatisticas: z.boolean().optional(),\n  formatoEmail: z.enum(['TEXTO', 'HTML']).optional(),\n  idiomaNotificacao: z.enum(['PT_BR', 'EN', 'ES']).optional(),\n  pausarNotificacoes: z.object({\n    ativo: z.boolean().optional(),\n    dataInicio: z.string().datetime().optional(),\n    dataFim: z.string().datetime().optional(),\n    motivo: z.string().optional(),\n  }).optional(),\n  filtros: z.object({\n    apenasMinhasAvaliacoes: z.boolean().optional(),\n    apenasAvaliacoesQueEuAvalio: z.boolean().optional(),\n    departamentosEspecificos: z.array(z.string()).optional(),\n    cargosEspecificos: z.array(z.string()).optional(),\n  }).optional(),\n});\n\n/**\n * GET /api/preferencias-notificacao\n * Busca as prefer\xEAncias de notifica\xE7\xE3o do usu\xE1rio autenticado\n */\nexport async function GET(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: 'N\xE3o autorizado' },\n        { status: 401 }\n      );\n    }\n\n    const preferencias = await PreferenciasNotificacaoService.buscarPorUsuario(\n      session.user.id\n    );\n\n    return NextResponse.json({\n      success: true,\n      data: preferencias,\n    });\n  } catch (error) {\n    console.error('Erro ao buscar prefer\xEAncias de notifica\xE7\xE3o:', error);\n    return NextResponse.json(\n      { \n        error: 'Erro interno do servidor',\n        details: error instanceof Error ? error.message : 'Erro desconhecido'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * PUT /api/preferencias-notificacao\n * Atualiza as prefer\xEAncias de notifica\xE7\xE3o do usu\xE1rio autenticado\n */\nexport async function PUT(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: 'N\xE3o autorizado' },\n        { status: 401 }\n      );\n    }\n\n    const body = await request.json();\n    \n    // Valida\xE7\xE3o dos dados\n    const validationResult = preferenciaSchema.safeParse(body);\n    if (!validationResult.success) {\n      return NextResponse.json(\n        { \n          error: 'Dados inv\xE1lidos',\n          details: validationResult.error.errors\n        },\n        { status: 400 }\n      );\n    }\n\n    const dados = validationResult.data as PreferenciasNotificacaoInput;\n    \n    // Converte strings de data para Date objects se necess\xE1rio\n    if (dados.pausarNotificacoes) {\n      if (dados.pausarNotificacoes.dataInicio) {\n        dados.pausarNotificacoes.dataInicio = new Date(dados.pausarNotificacoes.dataInicio);\n      }\n      if (dados.pausarNotificacoes.dataFim) {\n        dados.pausarNotificacoes.dataFim = new Date(dados.pausarNotificacoes.dataFim);\n      }\n    }\n\n    const preferenciasAtualizadas = await PreferenciasNotificacaoService.atualizar(\n      session.user.id,\n      dados\n    );\n\n    return NextResponse.json({\n      success: true,\n      data: preferenciasAtualizadas,\n      message: 'Prefer\xEAncias atualizadas com sucesso',\n    });\n  } catch (error) {\n    console.error('Erro ao atualizar prefer\xEAncias de notifica\xE7\xE3o:', error);\n    return NextResponse.json(\n      { \n        error: 'Erro interno do servidor',\n        details: error instanceof Error ? error.message : 'Erro desconhecido'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * DELETE /api/preferencias-notificacao\n * Reseta as prefer\xEAncias para os valores padr\xE3o\n */\nexport async function DELETE(request: NextRequest) {\n  try {\n    const session = await getServerSession(authOptions);\n    \n    if (!session?.user?.id) {\n      return NextResponse.json(\n        { error: 'N\xE3o autorizado' },\n        { status: 401 }\n      );\n    }\n\n    const preferenciasResetadas = await PreferenciasNotificacaoService.resetarParaDefault(\n      session.user.id\n    );\n\n    return NextResponse.json({\n      success: true,\n      data: preferenciasResetadas,\n      message: 'Prefer\xEAncias resetadas para os valores padr\xE3o',\n    });\n  } catch (error) {\n    console.error('Erro ao resetar prefer\xEAncias de notifica\xE7\xE3o:', error);\n    return NextResponse.json(\n      { \n        error: 'Erro interno do servidor',\n        details: error instanceof Error ? error.message : 'Erro desconhecido'\n      },\n      { status: 500 }\n    );\n  }\n}"],
      names: ["DELETE", "GET", "PUT", "preferenciaSchema", "z", "object", "notificacoesAtivas", "boolean", "optional", "emailAtivo", "diasAntecedenciaLembrete", "number", "min", "max", "horarioEnvio", "string", "regex", "incluirFinsDeSemanaSemana", "incluirFeriados", "tiposNotificacao", "avaliacaoPendente", "avaliacaoVencida", "avaliacaoProximaVencimento", "novaAvaliacaoRecebida", "avaliacaoCompletada", "lembretePersonalizado", "urgenciaMinima", "enum", "frequenciaLembretes", "incluirDetalhesAvaliacao", "incluirLinkDireto", "incluirResumoEstatisticas", "formatoEmail", "idiomaNotificacao", "pausarNotificacoes", "ativo", "dataInicio", "datetime", "dataFim", "motivo", "filtros", "apenasMinhasAvaliacoes", "apenasAvaliacoesQueEuAvalio", "departamentosEspecificos", "array", "cargosEspecificos", "request", "session", "getServerSession", "authOptions", "user", "id", "NextResponse", "json", "error", "status", "preferencias", "PreferenciasNotificacaoService", "buscarPorUsuario", "success", "data", "console", "details", "Error", "message", "body", "validationResult", "safeParse", "errors", "dados", "Date", "preferenciasAtualizadas", "atualizar", "preferenciasResetadas", "resetarParaDefault"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "1db1a84eb96cb27253399fc62074f7a2c0ffb9de"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_cri6zuiww = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_cri6zuiww();
cov_cri6zuiww().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_cri6zuiww().f[0]++;
  cov_cri6zuiww().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_cri6zuiww().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_cri6zuiww().s[3]++;
_export(exports, {
  get DELETE() {
    /* istanbul ignore next */
    cov_cri6zuiww().f[1]++;
    cov_cri6zuiww().s[4]++;
    return DELETE;
  },
  get GET() {
    /* istanbul ignore next */
    cov_cri6zuiww().f[2]++;
    cov_cri6zuiww().s[5]++;
    return GET;
  },
  get PUT() {
    /* istanbul ignore next */
    cov_cri6zuiww().f[3]++;
    cov_cri6zuiww().s[6]++;
    return PUT;
  }
});
const _server =
/* istanbul ignore next */
(cov_cri6zuiww().s[7]++, require("next/server"));
const _nextauth =
/* istanbul ignore next */
(cov_cri6zuiww().s[8]++, require("next-auth"));
const _route =
/* istanbul ignore next */
(cov_cri6zuiww().s[9]++, require("../auth/[...nextauth]/route"));
const _preferenciasnotificacao =
/* istanbul ignore next */
(cov_cri6zuiww().s[10]++, require("../../../lib/services/preferencias-notificacao"));
const _zod =
/* istanbul ignore next */
(cov_cri6zuiww().s[11]++, require("zod"));
// Schema de validação para atualização de preferências
const preferenciaSchema =
/* istanbul ignore next */
(cov_cri6zuiww().s[12]++, _zod.z.object({
  notificacoesAtivas: _zod.z.boolean().optional(),
  emailAtivo: _zod.z.boolean().optional(),
  diasAntecedenciaLembrete: _zod.z.number().min(0).max(30).optional(),
  horarioEnvio: _zod.z.string().regex(/^([0-1]?[0-9]|2[0-3]):[0-5][0-9]$/).optional(),
  incluirFinsDeSemanaSemana: _zod.z.boolean().optional(),
  incluirFeriados: _zod.z.boolean().optional(),
  tiposNotificacao: _zod.z.object({
    avaliacaoPendente: _zod.z.boolean().optional(),
    avaliacaoVencida: _zod.z.boolean().optional(),
    avaliacaoProximaVencimento: _zod.z.boolean().optional(),
    novaAvaliacaoRecebida: _zod.z.boolean().optional(),
    avaliacaoCompletada: _zod.z.boolean().optional(),
    lembretePersonalizado: _zod.z.boolean().optional()
  }).optional(),
  urgenciaMinima: _zod.z.enum(['BAIXA', 'MEDIA', 'ALTA']).optional(),
  frequenciaLembretes: _zod.z.object({
    avaliacaoPendente: _zod.z.enum(['DIARIO', 'SEMANAL', 'QUINZENAL', 'MENSAL', 'NUNCA']).optional(),
    avaliacaoVencida: _zod.z.enum(['DIARIO', 'SEMANAL', 'NUNCA']).optional()
  }).optional(),
  incluirDetalhesAvaliacao: _zod.z.boolean().optional(),
  incluirLinkDireto: _zod.z.boolean().optional(),
  incluirResumoEstatisticas: _zod.z.boolean().optional(),
  formatoEmail: _zod.z.enum(['TEXTO', 'HTML']).optional(),
  idiomaNotificacao: _zod.z.enum(['PT_BR', 'EN', 'ES']).optional(),
  pausarNotificacoes: _zod.z.object({
    ativo: _zod.z.boolean().optional(),
    dataInicio: _zod.z.string().datetime().optional(),
    dataFim: _zod.z.string().datetime().optional(),
    motivo: _zod.z.string().optional()
  }).optional(),
  filtros: _zod.z.object({
    apenasMinhasAvaliacoes: _zod.z.boolean().optional(),
    apenasAvaliacoesQueEuAvalio: _zod.z.boolean().optional(),
    departamentosEspecificos: _zod.z.array(_zod.z.string()).optional(),
    cargosEspecificos: _zod.z.array(_zod.z.string()).optional()
  }).optional()
}));
async function GET(request) {
  /* istanbul ignore next */
  cov_cri6zuiww().f[4]++;
  cov_cri6zuiww().s[13]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[14]++, await (0, _nextauth.getServerSession)(_route.authOptions));
    /* istanbul ignore next */
    cov_cri6zuiww().s[15]++;
    if (!session?.user?.id) {
      /* istanbul ignore next */
      cov_cri6zuiww().b[0][0]++;
      cov_cri6zuiww().s[16]++;
      return _server.NextResponse.json({
        error: 'Não autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_cri6zuiww().b[0][1]++;
    }
    const preferencias =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[17]++, await _preferenciasnotificacao.PreferenciasNotificacaoService.buscarPorUsuario(session.user.id));
    /* istanbul ignore next */
    cov_cri6zuiww().s[18]++;
    return _server.NextResponse.json({
      success: true,
      data: preferencias
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_cri6zuiww().s[19]++;
    console.error('Erro ao buscar preferências de notificação:', error);
    /* istanbul ignore next */
    cov_cri6zuiww().s[20]++;
    return _server.NextResponse.json({
      error: 'Erro interno do servidor',
      details: error instanceof Error ?
      /* istanbul ignore next */
      (cov_cri6zuiww().b[1][0]++, error.message) :
      /* istanbul ignore next */
      (cov_cri6zuiww().b[1][1]++, 'Erro desconhecido')
    }, {
      status: 500
    });
  }
}
async function PUT(request) {
  /* istanbul ignore next */
  cov_cri6zuiww().f[5]++;
  cov_cri6zuiww().s[21]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[22]++, await (0, _nextauth.getServerSession)(_route.authOptions));
    /* istanbul ignore next */
    cov_cri6zuiww().s[23]++;
    if (!session?.user?.id) {
      /* istanbul ignore next */
      cov_cri6zuiww().b[2][0]++;
      cov_cri6zuiww().s[24]++;
      return _server.NextResponse.json({
        error: 'Não autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_cri6zuiww().b[2][1]++;
    }
    const body =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[25]++, await request.json());
    // Validação dos dados
    const validationResult =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[26]++, preferenciaSchema.safeParse(body));
    /* istanbul ignore next */
    cov_cri6zuiww().s[27]++;
    if (!validationResult.success) {
      /* istanbul ignore next */
      cov_cri6zuiww().b[3][0]++;
      cov_cri6zuiww().s[28]++;
      return _server.NextResponse.json({
        error: 'Dados inválidos',
        details: validationResult.error.errors
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_cri6zuiww().b[3][1]++;
    }
    const dados =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[29]++, validationResult.data);
    // Converte strings de data para Date objects se necessário
    /* istanbul ignore next */
    cov_cri6zuiww().s[30]++;
    if (dados.pausarNotificacoes) {
      /* istanbul ignore next */
      cov_cri6zuiww().b[4][0]++;
      cov_cri6zuiww().s[31]++;
      if (dados.pausarNotificacoes.dataInicio) {
        /* istanbul ignore next */
        cov_cri6zuiww().b[5][0]++;
        cov_cri6zuiww().s[32]++;
        dados.pausarNotificacoes.dataInicio = new Date(dados.pausarNotificacoes.dataInicio);
      } else
      /* istanbul ignore next */
      {
        cov_cri6zuiww().b[5][1]++;
      }
      cov_cri6zuiww().s[33]++;
      if (dados.pausarNotificacoes.dataFim) {
        /* istanbul ignore next */
        cov_cri6zuiww().b[6][0]++;
        cov_cri6zuiww().s[34]++;
        dados.pausarNotificacoes.dataFim = new Date(dados.pausarNotificacoes.dataFim);
      } else
      /* istanbul ignore next */
      {
        cov_cri6zuiww().b[6][1]++;
      }
    } else
    /* istanbul ignore next */
    {
      cov_cri6zuiww().b[4][1]++;
    }
    const preferenciasAtualizadas =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[35]++, await _preferenciasnotificacao.PreferenciasNotificacaoService.atualizar(session.user.id, dados));
    /* istanbul ignore next */
    cov_cri6zuiww().s[36]++;
    return _server.NextResponse.json({
      success: true,
      data: preferenciasAtualizadas,
      message: 'Preferências atualizadas com sucesso'
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_cri6zuiww().s[37]++;
    console.error('Erro ao atualizar preferências de notificação:', error);
    /* istanbul ignore next */
    cov_cri6zuiww().s[38]++;
    return _server.NextResponse.json({
      error: 'Erro interno do servidor',
      details: error instanceof Error ?
      /* istanbul ignore next */
      (cov_cri6zuiww().b[7][0]++, error.message) :
      /* istanbul ignore next */
      (cov_cri6zuiww().b[7][1]++, 'Erro desconhecido')
    }, {
      status: 500
    });
  }
}
async function DELETE(request) {
  /* istanbul ignore next */
  cov_cri6zuiww().f[6]++;
  cov_cri6zuiww().s[39]++;
  try {
    const session =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[40]++, await (0, _nextauth.getServerSession)(_route.authOptions));
    /* istanbul ignore next */
    cov_cri6zuiww().s[41]++;
    if (!session?.user?.id) {
      /* istanbul ignore next */
      cov_cri6zuiww().b[8][0]++;
      cov_cri6zuiww().s[42]++;
      return _server.NextResponse.json({
        error: 'Não autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_cri6zuiww().b[8][1]++;
    }
    const preferenciasResetadas =
    /* istanbul ignore next */
    (cov_cri6zuiww().s[43]++, await _preferenciasnotificacao.PreferenciasNotificacaoService.resetarParaDefault(session.user.id));
    /* istanbul ignore next */
    cov_cri6zuiww().s[44]++;
    return _server.NextResponse.json({
      success: true,
      data: preferenciasResetadas,
      message: 'Preferências resetadas para os valores padrão'
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_cri6zuiww().s[45]++;
    console.error('Erro ao resetar preferências de notificação:', error);
    /* istanbul ignore next */
    cov_cri6zuiww().s[46]++;
    return _server.NextResponse.json({
      error: 'Erro interno do servidor',
      details: error instanceof Error ?
      /* istanbul ignore next */
      (cov_cri6zuiww().b[9][0]++, error.message) :
      /* istanbul ignore next */
      (cov_cri6zuiww().b[9][1]++, 'Erro desconhecido')
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJERUxFVEUiLCJjb3ZfY3JpNnp1aXd3IiwiZiIsInMiLCJHRVQiLCJQVVQiLCJwcmVmZXJlbmNpYVNjaGVtYSIsIl96b2QiLCJ6Iiwib2JqZWN0Iiwibm90aWZpY2Fjb2VzQXRpdmFzIiwiYm9vbGVhbiIsIm9wdGlvbmFsIiwiZW1haWxBdGl2byIsImRpYXNBbnRlY2VkZW5jaWFMZW1icmV0ZSIsIm51bWJlciIsIm1pbiIsIm1heCIsImhvcmFyaW9FbnZpbyIsInN0cmluZyIsInJlZ2V4IiwiaW5jbHVpckZpbnNEZVNlbWFuYVNlbWFuYSIsImluY2x1aXJGZXJpYWRvcyIsInRpcG9zTm90aWZpY2FjYW8iLCJhdmFsaWFjYW9QZW5kZW50ZSIsImF2YWxpYWNhb1ZlbmNpZGEiLCJhdmFsaWFjYW9Qcm94aW1hVmVuY2ltZW50byIsIm5vdmFBdmFsaWFjYW9SZWNlYmlkYSIsImF2YWxpYWNhb0NvbXBsZXRhZGEiLCJsZW1icmV0ZVBlcnNvbmFsaXphZG8iLCJ1cmdlbmNpYU1pbmltYSIsImVudW0iLCJmcmVxdWVuY2lhTGVtYnJldGVzIiwiaW5jbHVpckRldGFsaGVzQXZhbGlhY2FvIiwiaW5jbHVpckxpbmtEaXJldG8iLCJpbmNsdWlyUmVzdW1vRXN0YXRpc3RpY2FzIiwiZm9ybWF0b0VtYWlsIiwiaWRpb21hTm90aWZpY2FjYW8iLCJwYXVzYXJOb3RpZmljYWNvZXMiLCJhdGl2byIsImRhdGFJbmljaW8iLCJkYXRldGltZSIsImRhdGFGaW0iLCJtb3Rpdm8iLCJmaWx0cm9zIiwiYXBlbmFzTWluaGFzQXZhbGlhY29lcyIsImFwZW5hc0F2YWxpYWNvZXNRdWVFdUF2YWxpbyIsImRlcGFydGFtZW50b3NFc3BlY2lmaWNvcyIsImFycmF5IiwiY2FyZ29zRXNwZWNpZmljb3MiLCJyZXF1ZXN0Iiwic2Vzc2lvbiIsIl9uZXh0YXV0aCIsImdldFNlcnZlclNlc3Npb24iLCJfcm91dGUiLCJhdXRoT3B0aW9ucyIsInVzZXIiLCJpZCIsImIiLCJfc2VydmVyIiwiTmV4dFJlc3BvbnNlIiwianNvbiIsImVycm9yIiwic3RhdHVzIiwicHJlZmVyZW5jaWFzIiwiX3ByZWZlcmVuY2lhc25vdGlmaWNhY2FvIiwiUHJlZmVyZW5jaWFzTm90aWZpY2FjYW9TZXJ2aWNlIiwiYnVzY2FyUG9yVXN1YXJpbyIsInN1Y2Nlc3MiLCJkYXRhIiwiY29uc29sZSIsImRldGFpbHMiLCJFcnJvciIsIm1lc3NhZ2UiLCJib2R5IiwidmFsaWRhdGlvblJlc3VsdCIsInNhZmVQYXJzZSIsImVycm9ycyIsImRhZG9zIiwiRGF0ZSIsInByZWZlcmVuY2lhc0F0dWFsaXphZGFzIiwiYXR1YWxpemFyIiwicHJlZmVyZW5jaWFzUmVzZXRhZGFzIiwicmVzZXRhclBhcmFEZWZhdWx0Il0sInNvdXJjZXMiOlsiQzpcXFVzZXJzXFxOZXJldSBKclxcRG9jdW1lbnRzXFxEZXZcXG5ld1xcc3JjXFxhcHBcXGFwaVxccHJlZmVyZW5jaWFzLW5vdGlmaWNhY2FvXFxyb3V0ZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0UmVxdWVzdCwgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInO1xuaW1wb3J0IHsgZ2V0U2VydmVyU2Vzc2lvbiB9IGZyb20gJ25leHQtYXV0aCc7XG5pbXBvcnQgeyBhdXRoT3B0aW9ucyB9IGZyb20gJy4uL2F1dGgvWy4uLm5leHRhdXRoXS9yb3V0ZSc7XG5pbXBvcnQgeyBQcmVmZXJlbmNpYXNOb3RpZmljYWNhb1NlcnZpY2UgfSBmcm9tICdAL2xpYi9zZXJ2aWNlcy9wcmVmZXJlbmNpYXMtbm90aWZpY2FjYW8nO1xuaW1wb3J0IHsgUHJlZmVyZW5jaWFzTm90aWZpY2FjYW9JbnB1dCB9IGZyb20gJ0AvbGliL3R5cGVzL3ByZWZlcmVuY2lhcy1ub3RpZmljYWNhbyc7XG5pbXBvcnQgeyB6IH0gZnJvbSAnem9kJztcblxuLy8gU2NoZW1hIGRlIHZhbGlkYcOnw6NvIHBhcmEgYXR1YWxpemHDp8OjbyBkZSBwcmVmZXLDqm5jaWFzXG5jb25zdCBwcmVmZXJlbmNpYVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgbm90aWZpY2Fjb2VzQXRpdmFzOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBlbWFpbEF0aXZvOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBkaWFzQW50ZWNlZGVuY2lhTGVtYnJldGU6IHoubnVtYmVyKCkubWluKDApLm1heCgzMCkub3B0aW9uYWwoKSxcbiAgaG9yYXJpb0VudmlvOiB6LnN0cmluZygpLnJlZ2V4KC9eKFswLTFdP1swLTldfDJbMC0zXSk6WzAtNV1bMC05XSQvKS5vcHRpb25hbCgpLFxuICBpbmNsdWlyRmluc0RlU2VtYW5hU2VtYW5hOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBpbmNsdWlyRmVyaWFkb3M6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIHRpcG9zTm90aWZpY2FjYW86IHoub2JqZWN0KHtcbiAgICBhdmFsaWFjYW9QZW5kZW50ZTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBhdmFsaWFjYW9WZW5jaWRhOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGF2YWxpYWNhb1Byb3hpbWFWZW5jaW1lbnRvOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIG5vdmFBdmFsaWFjYW9SZWNlYmlkYTogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBhdmFsaWFjYW9Db21wbGV0YWRhOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGxlbWJyZXRlUGVyc29uYWxpemFkbzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgfSkub3B0aW9uYWwoKSxcbiAgdXJnZW5jaWFNaW5pbWE6IHouZW51bShbJ0JBSVhBJywgJ01FRElBJywgJ0FMVEEnXSkub3B0aW9uYWwoKSxcbiAgZnJlcXVlbmNpYUxlbWJyZXRlczogei5vYmplY3Qoe1xuICAgIGF2YWxpYWNhb1BlbmRlbnRlOiB6LmVudW0oWydESUFSSU8nLCAnU0VNQU5BTCcsICdRVUlOWkVOQUwnLCAnTUVOU0FMJywgJ05VTkNBJ10pLm9wdGlvbmFsKCksXG4gICAgYXZhbGlhY2FvVmVuY2lkYTogei5lbnVtKFsnRElBUklPJywgJ1NFTUFOQUwnLCAnTlVOQ0EnXSkub3B0aW9uYWwoKSxcbiAgfSkub3B0aW9uYWwoKSxcbiAgaW5jbHVpckRldGFsaGVzQXZhbGlhY2FvOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICBpbmNsdWlyTGlua0RpcmV0bzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgaW5jbHVpclJlc3Vtb0VzdGF0aXN0aWNhczogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgZm9ybWF0b0VtYWlsOiB6LmVudW0oWydURVhUTycsICdIVE1MJ10pLm9wdGlvbmFsKCksXG4gIGlkaW9tYU5vdGlmaWNhY2FvOiB6LmVudW0oWydQVF9CUicsICdFTicsICdFUyddKS5vcHRpb25hbCgpLFxuICBwYXVzYXJOb3RpZmljYWNvZXM6IHoub2JqZWN0KHtcbiAgICBhdGl2bzogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICBkYXRhSW5pY2lvOiB6LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKSxcbiAgICBkYXRhRmltOiB6LnN0cmluZygpLmRhdGV0aW1lKCkub3B0aW9uYWwoKSxcbiAgICBtb3Rpdm86IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgfSkub3B0aW9uYWwoKSxcbiAgZmlsdHJvczogei5vYmplY3Qoe1xuICAgIGFwZW5hc01pbmhhc0F2YWxpYWNvZXM6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgYXBlbmFzQXZhbGlhY29lc1F1ZUV1QXZhbGlvOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGRlcGFydGFtZW50b3NFc3BlY2lmaWNvczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGNhcmdvc0VzcGVjaWZpY29zOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gIH0pLm9wdGlvbmFsKCksXG59KTtcblxuLyoqXG4gKiBHRVQgL2FwaS9wcmVmZXJlbmNpYXMtbm90aWZpY2FjYW9cbiAqIEJ1c2NhIGFzIHByZWZlcsOqbmNpYXMgZGUgbm90aWZpY2HDp8OjbyBkbyB1c3XDoXJpbyBhdXRlbnRpY2Fkb1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XG4gIHRyeSB7XG4gICAgY29uc3Qgc2Vzc2lvbiA9IGF3YWl0IGdldFNlcnZlclNlc3Npb24oYXV0aE9wdGlvbnMpO1xuICAgIFxuICAgIGlmICghc2Vzc2lvbj8udXNlcj8uaWQpIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ07Do28gYXV0b3JpemFkbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IHByZWZlcmVuY2lhcyA9IGF3YWl0IFByZWZlcmVuY2lhc05vdGlmaWNhY2FvU2VydmljZS5idXNjYXJQb3JVc3VhcmlvKFxuICAgICAgc2Vzc2lvbi51c2VyLmlkXG4gICAgKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogcHJlZmVyZW5jaWFzLFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm8gYW8gYnVzY2FyIHByZWZlcsOqbmNpYXMgZGUgbm90aWZpY2HDp8OjbzonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6ICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InLFxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvIGRlc2NvbmhlY2lkbydcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogUFVUIC9hcGkvcHJlZmVyZW5jaWFzLW5vdGlmaWNhY2FvXG4gKiBBdHVhbGl6YSBhcyBwcmVmZXLDqm5jaWFzIGRlIG5vdGlmaWNhw6fDo28gZG8gdXN1w6FyaW8gYXV0ZW50aWNhZG9cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBVVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgICBcbiAgICBpZiAoIXNlc3Npb24/LnVzZXI/LmlkKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdOw6NvIGF1dG9yaXphZG8nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCBib2R5ID0gYXdhaXQgcmVxdWVzdC5qc29uKCk7XG4gICAgXG4gICAgLy8gVmFsaWRhw6fDo28gZG9zIGRhZG9zXG4gICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHByZWZlcmVuY2lhU2NoZW1hLnNhZmVQYXJzZShib2R5KTtcbiAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IFxuICAgICAgICAgIGVycm9yOiAnRGFkb3MgaW52w6FsaWRvcycsXG4gICAgICAgICAgZGV0YWlsczogdmFsaWRhdGlvblJlc3VsdC5lcnJvci5lcnJvcnNcbiAgICAgICAgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XG4gICAgICApO1xuICAgIH1cblxuICAgIGNvbnN0IGRhZG9zID0gdmFsaWRhdGlvblJlc3VsdC5kYXRhIGFzIFByZWZlcmVuY2lhc05vdGlmaWNhY2FvSW5wdXQ7XG4gICAgXG4gICAgLy8gQ29udmVydGUgc3RyaW5ncyBkZSBkYXRhIHBhcmEgRGF0ZSBvYmplY3RzIHNlIG5lY2Vzc8OhcmlvXG4gICAgaWYgKGRhZG9zLnBhdXNhck5vdGlmaWNhY29lcykge1xuICAgICAgaWYgKGRhZG9zLnBhdXNhck5vdGlmaWNhY29lcy5kYXRhSW5pY2lvKSB7XG4gICAgICAgIGRhZG9zLnBhdXNhck5vdGlmaWNhY29lcy5kYXRhSW5pY2lvID0gbmV3IERhdGUoZGFkb3MucGF1c2FyTm90aWZpY2Fjb2VzLmRhdGFJbmljaW8pO1xuICAgICAgfVxuICAgICAgaWYgKGRhZG9zLnBhdXNhck5vdGlmaWNhY29lcy5kYXRhRmltKSB7XG4gICAgICAgIGRhZG9zLnBhdXNhck5vdGlmaWNhY29lcy5kYXRhRmltID0gbmV3IERhdGUoZGFkb3MucGF1c2FyTm90aWZpY2Fjb2VzLmRhdGFGaW0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNvbnN0IHByZWZlcmVuY2lhc0F0dWFsaXphZGFzID0gYXdhaXQgUHJlZmVyZW5jaWFzTm90aWZpY2FjYW9TZXJ2aWNlLmF0dWFsaXphcihcbiAgICAgIHNlc3Npb24udXNlci5pZCxcbiAgICAgIGRhZG9zXG4gICAgKTtcblxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgZGF0YTogcHJlZmVyZW5jaWFzQXR1YWxpemFkYXMsXG4gICAgICBtZXNzYWdlOiAnUHJlZmVyw6puY2lhcyBhdHVhbGl6YWRhcyBjb20gc3VjZXNzbycsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBhdHVhbGl6YXIgcHJlZmVyw6puY2lhcyBkZSBub3RpZmljYcOnw6NvOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBlcnJvcjogJ0Vycm8gaW50ZXJubyBkbyBzZXJ2aWRvcicsXG4gICAgICAgIGRldGFpbHM6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ0Vycm8gZGVzY29uaGVjaWRvJ1xuICAgICAgfSxcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxuICAgICk7XG4gIH1cbn1cblxuLyoqXG4gKiBERUxFVEUgL2FwaS9wcmVmZXJlbmNpYXMtbm90aWZpY2FjYW9cbiAqIFJlc2V0YSBhcyBwcmVmZXLDqm5jaWFzIHBhcmEgb3MgdmFsb3JlcyBwYWRyw6NvXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBERUxFVEUocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XG4gICAgXG4gICAgaWYgKCFzZXNzaW9uPy51c2VyPy5pZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnTsOjbyBhdXRvcml6YWRvJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAxIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgY29uc3QgcHJlZmVyZW5jaWFzUmVzZXRhZGFzID0gYXdhaXQgUHJlZmVyZW5jaWFzTm90aWZpY2FjYW9TZXJ2aWNlLnJlc2V0YXJQYXJhRGVmYXVsdChcbiAgICAgIHNlc3Npb24udXNlci5pZFxuICAgICk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IHByZWZlcmVuY2lhc1Jlc2V0YWRhcyxcbiAgICAgIG1lc3NhZ2U6ICdQcmVmZXLDqm5jaWFzIHJlc2V0YWRhcyBwYXJhIG9zIHZhbG9yZXMgcGFkcsOjbycsXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyByZXNldGFyIHByZWZlcsOqbmNpYXMgZGUgbm90aWZpY2HDp8OjbzonLCBlcnJvcik7XG4gICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgeyBcbiAgICAgICAgZXJyb3I6ICdFcnJvIGludGVybm8gZG8gc2Vydmlkb3InLFxuICAgICAgICBkZXRhaWxzOiBlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdFcnJvIGRlc2NvbmhlY2lkbydcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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R0FBQUMsQ0FBQTtFQUFBRCxhQUFBLEdBQUFFLENBQUE7RUFDL0MsSUFBSTtJQUNGLE1BQU1nRCxPQUFBO0lBQUE7SUFBQSxDQUFBbEQsYUFBQSxHQUFBRSxDQUFBLFFBQVUsTUFBTSxJQUFBaUQsU0FBQSxDQUFBQyxnQkFBZ0IsRUFBQ0MsTUFBQSxDQUFBQyxXQUFXO0lBQUE7SUFBQXRELGFBQUEsR0FBQUUsQ0FBQTtJQUVsRCxJQUFJLENBQUNnRCxPQUFBLEVBQVNLLElBQUEsRUFBTUMsRUFBQSxFQUFJO01BQUE7TUFBQXhELGFBQUEsR0FBQXlELENBQUE7TUFBQXpELGFBQUEsR0FBQUUsQ0FBQTtNQUN0QixPQUFPd0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FDdEI7UUFBRUMsS0FBQSxFQUFPO01BQWlCLEdBQzFCO1FBQUVDLE1BQUEsRUFBUTtNQUFJO0lBRWxCO0lBQUE7SUFBQTtNQUFBOUQsYUFBQSxHQUFBeUQsQ0FBQTtJQUFBO0lBRUEsTUFBTXdCLHFCQUFBO0lBQUE7SUFBQSxDQUFBakYsYUFBQSxHQUFBRSxDQUFBLFFBQXdCLE1BQU04RCx3QkFBQSxDQUFBQyw4QkFBOEIsQ0FBQ2lCLGtCQUFrQixDQUNuRmhDLE9BQUEsQ0FBUUssSUFBSSxDQUFDQyxFQUFFO0lBQUE7SUFBQXhELGFBQUEsR0FBQUUsQ0FBQTtJQUdqQixPQUFPd0QsT0FBQSxDQUFBQyxZQUFZLENBQUNDLElBQUksQ0FBQztNQUN2Qk8sT0FBQSxFQUFTO01BQ1RDLElBQUEsRUFBTWEscUJBQUE7TUFDTlQsT0FBQSxFQUFTO0lBQ1g7RUFDRixFQUFFLE9BQU9YLEtBQUEsRUFBTztJQUFBO0lBQUE3RCxhQUFBLEdBQUFFLENBQUE7SUFDZG1FLE9BQUEsQ0FBUVIsS0FBSyxDQUFDLGdEQUFnREEsS0FBQTtJQUFBO0lBQUE3RCxhQUFBLEdBQUFFLENBQUE7SUFDOUQsT0FBT3dELE9BQUEsQ0FBQUMsWUFBWSxDQUFDQyxJQUFJLENBQ3RCO01BQ0VDLEtBQUEsRUFBTztNQUNQUyxPQUFBLEVBQVNULEtBQUEsWUFBaUJVLEtBQUE7TUFBQTtNQUFBLENBQUF2RSxhQUFBLEdBQUF5RCxDQUFBLFVBQVFJLEtBQUEsQ0FBTVcsT0FBTztNQUFBO01BQUEsQ0FBQXhFLGFBQUEsR0FBQXlELENBQUEsVUFBRztJQUNwRCxHQUNBO01BQUVLLE1BQUEsRUFBUTtJQUFJO0VBRWxCO0FBQ0YiLCJpZ25vcmVMaXN0IjpbXX0=