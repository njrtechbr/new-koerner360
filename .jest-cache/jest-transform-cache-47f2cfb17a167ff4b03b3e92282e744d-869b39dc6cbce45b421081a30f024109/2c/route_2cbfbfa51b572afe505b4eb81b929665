468acbc132cc9daa8f2e8f764304b64e
"use strict";

/* istanbul ignore next */
function cov_27d08n9r2k() {
  var path = "C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\app\\api\\avaliacoes\\metricas\\comparativo\\route.ts";
  var hash = "7c4565bf20b284185e9df49fff8dddd4b1f70b06";
  var global = new Function("return this")();
  var gcv = "__coverage__";
  var coverageData = {
    path: "C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\app\\api\\avaliacoes\\metricas\\comparativo\\route.ts",
    statementMap: {
      "0": {
        start: {
          line: 2,
          column: 0
        },
        end: {
          line: 4,
          column: 3
        }
      },
      "1": {
        start: {
          line: 6,
          column: 4
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "2": {
        start: {
          line: 6,
          column: 24
        },
        end: {
          line: 9,
          column: 7
        }
      },
      "3": {
        start: {
          line: 11,
          column: 0
        },
        end: {
          line: 18,
          column: 3
        }
      },
      "4": {
        start: {
          line: 13,
          column: 8
        },
        end: {
          line: 13,
          column: 19
        }
      },
      "5": {
        start: {
          line: 16,
          column: 8
        },
        end: {
          line: 16,
          column: 20
        }
      },
      "6": {
        start: {
          line: 19,
          column: 16
        },
        end: {
          line: 19,
          column: 38
        }
      },
      "7": {
        start: {
          line: 20,
          column: 18
        },
        end: {
          line: 20,
          column: 38
        }
      },
      "8": {
        start: {
          line: 21,
          column: 14
        },
        end: {
          line: 21,
          column: 48
        }
      },
      "9": {
        start: {
          line: 22,
          column: 28
        },
        end: {
          line: 22,
          column: 83
        }
      },
      "10": {
        start: {
          line: 23,
          column: 13
        },
        end: {
          line: 23,
          column: 27
        }
      },
      "11": {
        start: {
          line: 25,
          column: 26
        },
        end: {
          line: 42,
          column: 2
        }
      },
      "12": {
        start: {
          line: 31,
          column: 53
        },
        end: {
          line: 31,
          column: 84
        }
      },
      "13": {
        start: {
          line: 32,
          column: 50
        },
        end: {
          line: 32,
          column: 81
        }
      },
      "14": {
        start: {
          line: 39,
          column: 53
        },
        end: {
          line: 39,
          column: 66
        }
      },
      "15": {
        start: {
          line: 40,
          column: 50
        },
        end: {
          line: 40,
          column: 63
        }
      },
      "16": {
        start: {
          line: 44,
          column: 4
        },
        end: {
          line: 117,
          column: 5
        }
      },
      "17": {
        start: {
          line: 46,
          column: 24
        },
        end: {
          line: 46,
          column: 80
        }
      },
      "18": {
        start: {
          line: 47,
          column: 8
        },
        end: {
          line: 53,
          column: 9
        }
      },
      "19": {
        start: {
          line: 48,
          column: 12
        },
        end: {
          line: 52,
          column: 15
        }
      },
      "20": {
        start: {
          line: 55,
          column: 8
        },
        end: {
          line: 64,
          column: 9
        }
      },
      "21": {
        start: {
          line: 59,
          column: 12
        },
        end: {
          line: 63,
          column: 15
        }
      },
      "22": {
        start: {
          line: 66,
          column: 21
        },
        end: {
          line: 66,
          column: 41
        }
      },
      "23": {
        start: {
          line: 67,
          column: 26
        },
        end: {
          line: 67,
          column: 59
        }
      },
      "24": {
        start: {
          line: 68,
          column: 8
        },
        end: {
          line: 75,
          column: 9
        }
      },
      "25": {
        start: {
          line: 69,
          column: 12
        },
        end: {
          line: 74,
          column: 15
        }
      },
      "26": {
        start: {
          line: 76,
          column: 43
        },
        end: {
          line: 76,
          column: 57
        }
      },
      "27": {
        start: {
          line: 78,
          column: 8
        },
        end: {
          line: 92,
          column: 9
        }
      },
      "28": {
        start: {
          line: 78,
          column: 20
        },
        end: {
          line: 78,
          column: 21
        }
      },
      "29": {
        start: {
          line: 79,
          column: 12
        },
        end: {
          line: 91,
          column: 13
        }
      },
      "30": {
        start: {
          line: 79,
          column: 24
        },
        end: {
          line: 79,
          column: 29
        }
      },
      "31": {
        start: {
          line: 80,
          column: 33
        },
        end: {
          line: 80,
          column: 44
        }
      },
      "32": {
        start: {
          line: 81,
          column: 33
        },
        end: {
          line: 81,
          column: 44
        }
      },
      "33": {
        start: {
          line: 83,
          column: 16
        },
        end: {
          line: 90,
          column: 17
        }
      },
      "34": {
        start: {
          line: 84,
          column: 20
        },
        end: {
          line: 89,
          column: 23
        }
      },
      "35": {
        start: {
          line: 94,
          column: 28
        },
        end: {
          line: 94,
          column: 102
        }
      },
      "36": {
        start: {
          line: 95,
          column: 8
        },
        end: {
          line: 108,
          column: 11
        }
      },
      "37": {
        start: {
          line: 101,
          column: 45
        },
        end: {
          line: 106,
          column: 21
        }
      },
      "38": {
        start: {
          line: 110,
          column: 8
        },
        end: {
          line: 110,
          column: 68
        }
      },
      "39": {
        start: {
          line: 111,
          column: 8
        },
        end: {
          line: 116,
          column: 11
        }
      },
      "40": {
        start: {
          line: 120,
          column: 4
        },
        end: {
          line: 176,
          column: 5
        }
      },
      "41": {
        start: {
          line: 122,
          column: 24
        },
        end: {
          line: 122,
          column: 80
        }
      },
      "42": {
        start: {
          line: 123,
          column: 8
        },
        end: {
          line: 129,
          column: 9
        }
      },
      "43": {
        start: {
          line: 124,
          column: 12
        },
        end: {
          line: 128,
          column: 15
        }
      },
      "44": {
        start: {
          line: 131,
          column: 8
        },
        end: {
          line: 140,
          column: 9
        }
      },
      "45": {
        start: {
          line: 135,
          column: 12
        },
        end: {
          line: 139,
          column: 15
        }
      },
      "46": {
        start: {
          line: 142,
          column: 33
        },
        end: {
          line: 142,
          column: 53
        }
      },
      "47": {
        start: {
          line: 143,
          column: 27
        },
        end: {
          line: 143,
          column: 55
        }
      },
      "48": {
        start: {
          line: 144,
          column: 27
        },
        end: {
          line: 144,
          column: 55
        }
      },
      "49": {
        start: {
          line: 145,
          column: 8
        },
        end: {
          line: 151,
          column: 9
        }
      },
      "50": {
        start: {
          line: 146,
          column: 12
        },
        end: {
          line: 150,
          column: 15
        }
      },
      "51": {
        start: {
          line: 152,
          column: 8
        },
        end: {
          line: 158,
          column: 9
        }
      },
      "52": {
        start: {
          line: 153,
          column: 12
        },
        end: {
          line: 157,
          column: 15
        }
      },
      "53": {
        start: {
          line: 162,
          column: 8
        },
        end: {
          line: 167,
          column: 11
        }
      },
      "54": {
        start: {
          line: 169,
          column: 8
        },
        end: {
          line: 169,
          column: 69
        }
      },
      "55": {
        start: {
          line: 170,
          column: 8
        },
        end: {
          line: 175,
          column: 11
        }
      }
    },
    fnMap: {
      "0": {
        name: "_export",
        decl: {
          start: {
            line: 5,
            column: 9
          },
          end: {
            line: 5,
            column: 16
          }
        },
        loc: {
          start: {
            line: 5,
            column: 30
          },
          end: {
            line: 10,
            column: 1
          }
        },
        line: 5
      },
      "1": {
        name: "(anonymous_1)",
        decl: {
          start: {
            line: 12,
            column: 4
          },
          end: {
            line: 12,
            column: 5
          }
        },
        loc: {
          start: {
            line: 12,
            column: 15
          },
          end: {
            line: 14,
            column: 5
          }
        },
        line: 12
      },
      "2": {
        name: "(anonymous_2)",
        decl: {
          start: {
            line: 15,
            column: 4
          },
          end: {
            line: 15,
            column: 5
          }
        },
        loc: {
          start: {
            line: 15,
            column: 16
          },
          end: {
            line: 17,
            column: 5
          }
        },
        line: 15
      },
      "3": {
        name: "(anonymous_3)",
        decl: {
          start: {
            line: 31,
            column: 46
          },
          end: {
            line: 31,
            column: 47
          }
        },
        loc: {
          start: {
            line: 31,
            column: 53
          },
          end: {
            line: 31,
            column: 84
          }
        },
        line: 31
      },
      "4": {
        name: "(anonymous_4)",
        decl: {
          start: {
            line: 32,
            column: 43
          },
          end: {
            line: 32,
            column: 44
          }
        },
        loc: {
          start: {
            line: 32,
            column: 50
          },
          end: {
            line: 32,
            column: 81
          }
        },
        line: 32
      },
      "5": {
        name: "(anonymous_5)",
        decl: {
          start: {
            line: 39,
            column: 46
          },
          end: {
            line: 39,
            column: 47
          }
        },
        loc: {
          start: {
            line: 39,
            column: 53
          },
          end: {
            line: 39,
            column: 66
          }
        },
        line: 39
      },
      "6": {
        name: "(anonymous_6)",
        decl: {
          start: {
            line: 40,
            column: 43
          },
          end: {
            line: 40,
            column: 44
          }
        },
        loc: {
          start: {
            line: 40,
            column: 50
          },
          end: {
            line: 40,
            column: 63
          }
        },
        line: 40
      },
      "7": {
        name: "POST",
        decl: {
          start: {
            line: 43,
            column: 15
          },
          end: {
            line: 43,
            column: 19
          }
        },
        loc: {
          start: {
            line: 43,
            column: 29
          },
          end: {
            line: 118,
            column: 1
          }
        },
        line: 43
      },
      "8": {
        name: "(anonymous_8)",
        decl: {
          start: {
            line: 101,
            column: 39
          },
          end: {
            line: 101,
            column: 40
          }
        },
        loc: {
          start: {
            line: 101,
            column: 45
          },
          end: {
            line: 106,
            column: 21
          }
        },
        line: 101
      },
      "9": {
        name: "GET",
        decl: {
          start: {
            line: 119,
            column: 15
          },
          end: {
            line: 119,
            column: 18
          }
        },
        loc: {
          start: {
            line: 119,
            column: 28
          },
          end: {
            line: 177,
            column: 1
          }
        },
        line: 119
      }
    },
    branchMap: {
      "0": {
        loc: {
          start: {
            line: 31,
            column: 53
          },
          end: {
            line: 31,
            column: 84
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 31,
            column: 59
          },
          end: {
            line: 31,
            column: 72
          }
        }, {
          start: {
            line: 31,
            column: 75
          },
          end: {
            line: 31,
            column: 84
          }
        }],
        line: 31
      },
      "1": {
        loc: {
          start: {
            line: 32,
            column: 50
          },
          end: {
            line: 32,
            column: 81
          }
        },
        type: "cond-expr",
        locations: [{
          start: {
            line: 32,
            column: 56
          },
          end: {
            line: 32,
            column: 69
          }
        }, {
          start: {
            line: 32,
            column: 72
          },
          end: {
            line: 32,
            column: 81
          }
        }],
        line: 32
      },
      "2": {
        loc: {
          start: {
            line: 47,
            column: 8
          },
          end: {
            line: 53,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 47,
            column: 8
          },
          end: {
            line: 53,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 47
      },
      "3": {
        loc: {
          start: {
            line: 55,
            column: 8
          },
          end: {
            line: 64,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 55,
            column: 8
          },
          end: {
            line: 64,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 55
      },
      "4": {
        loc: {
          start: {
            line: 68,
            column: 8
          },
          end: {
            line: 75,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 68,
            column: 8
          },
          end: {
            line: 75,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 68
      },
      "5": {
        loc: {
          start: {
            line: 76,
            column: 16
          },
          end: {
            line: 76,
            column: 28
          }
        },
        type: "default-arg",
        locations: [{
          start: {
            line: 76,
            column: 26
          },
          end: {
            line: 76,
            column: 28
          }
        }],
        line: 76
      },
      "6": {
        loc: {
          start: {
            line: 83,
            column: 16
          },
          end: {
            line: 90,
            column: 17
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 83,
            column: 16
          },
          end: {
            line: 90,
            column: 17
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 83
      },
      "7": {
        loc: {
          start: {
            line: 83,
            column: 20
          },
          end: {
            line: 83,
            column: 188
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 83,
            column: 20
          },
          end: {
            line: 83,
            column: 59
          }
        }, {
          start: {
            line: 83,
            column: 63
          },
          end: {
            line: 83,
            column: 102
          }
        }, {
          start: {
            line: 83,
            column: 106
          },
          end: {
            line: 83,
            column: 145
          }
        }, {
          start: {
            line: 83,
            column: 149
          },
          end: {
            line: 83,
            column: 188
          }
        }],
        line: 83
      },
      "8": {
        loc: {
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 129,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 123,
            column: 8
          },
          end: {
            line: 129,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 123
      },
      "9": {
        loc: {
          start: {
            line: 131,
            column: 8
          },
          end: {
            line: 140,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 131,
            column: 8
          },
          end: {
            line: 140,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 131
      },
      "10": {
        loc: {
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 151,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 145,
            column: 8
          },
          end: {
            line: 151,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 145
      },
      "11": {
        loc: {
          start: {
            line: 145,
            column: 12
          },
          end: {
            line: 145,
            column: 38
          }
        },
        type: "binary-expr",
        locations: [{
          start: {
            line: 145,
            column: 12
          },
          end: {
            line: 145,
            column: 23
          }
        }, {
          start: {
            line: 145,
            column: 27
          },
          end: {
            line: 145,
            column: 38
          }
        }],
        line: 145
      },
      "12": {
        loc: {
          start: {
            line: 152,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        },
        type: "if",
        locations: [{
          start: {
            line: 152,
            column: 8
          },
          end: {
            line: 158,
            column: 9
          }
        }, {
          start: {
            line: undefined,
            column: undefined
          },
          end: {
            line: undefined,
            column: undefined
          }
        }],
        line: 152
      }
    },
    s: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0,
      "10": 0,
      "11": 0,
      "12": 0,
      "13": 0,
      "14": 0,
      "15": 0,
      "16": 0,
      "17": 0,
      "18": 0,
      "19": 0,
      "20": 0,
      "21": 0,
      "22": 0,
      "23": 0,
      "24": 0,
      "25": 0,
      "26": 0,
      "27": 0,
      "28": 0,
      "29": 0,
      "30": 0,
      "31": 0,
      "32": 0,
      "33": 0,
      "34": 0,
      "35": 0,
      "36": 0,
      "37": 0,
      "38": 0,
      "39": 0,
      "40": 0,
      "41": 0,
      "42": 0,
      "43": 0,
      "44": 0,
      "45": 0,
      "46": 0,
      "47": 0,
      "48": 0,
      "49": 0,
      "50": 0,
      "51": 0,
      "52": 0,
      "53": 0,
      "54": 0,
      "55": 0
    },
    f: {
      "0": 0,
      "1": 0,
      "2": 0,
      "3": 0,
      "4": 0,
      "5": 0,
      "6": 0,
      "7": 0,
      "8": 0,
      "9": 0
    },
    b: {
      "0": [0, 0],
      "1": [0, 0],
      "2": [0, 0],
      "3": [0, 0],
      "4": [0, 0],
      "5": [0],
      "6": [0, 0],
      "7": [0, 0, 0, 0],
      "8": [0, 0],
      "9": [0, 0],
      "10": [0, 0],
      "11": [0, 0],
      "12": [0, 0]
    },
    inputSourceMap: {
      version: 3,
      sources: ["C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\app\\api\\avaliacoes\\metricas\\comparativo\\route.ts"],
      sourcesContent: ["import { NextRequest, NextResponse } from 'next/server';\nimport { getServerSession } from 'next-auth';\nimport { authOptions } from '@/lib/auth';\nimport { gerarComparativoTemporal, FiltrosMetricas } from '@/lib/utils/metricas-avaliacoes';\nimport { z } from 'zod';\n\n// Schema de valida\xE7\xE3o para os filtros e par\xE2metros\nconst comparativoSchema = z.object({\n  filtros: z.object({\n    periodoIds: z.array(z.string()).optional(),\n    atendenteIds: z.array(z.string()).optional(),\n    setores: z.array(z.string()).optional(),\n    departamentos: z.array(z.string()).optional(),\n    dataInicio: z.string().transform(str => str ? new Date(str) : undefined).optional(),\n    dataFim: z.string().transform(str => str ? new Date(str) : undefined).optional(),\n    notaMinima: z.number().min(1).max(5).optional(),\n    notaMaxima: z.number().min(1).max(5).optional()\n  }).optional(),\n  periodos: z.array(z.object({\n    id: z.string(),\n    nome: z.string(),\n    dataInicio: z.string().transform(str => new Date(str)),\n    dataFim: z.string().transform(str => new Date(str))\n  })).min(2, '\xC9 necess\xE1rio pelo menos 2 per\xEDodos para compara\xE7\xE3o')\n});\n\n/**\n * POST /api/avaliacoes/metricas/comparativo\n * Gera comparativo temporal entre diferentes per\xEDodos\n */\nexport async function POST(request: NextRequest) {\n  try {\n    // Verificar autentica\xE7\xE3o\n    const session = await getServerSession(authOptions);\n    if (!session) {\n      return NextResponse.json(\n        { error: 'N\xE3o autorizado' },\n        { status: 401 }\n      );\n    }\n\n    // Verificar permiss\xF5es (apenas ADMIN e GESTOR podem acessar m\xE9tricas)\n    if (!['ADMIN', 'GESTOR'].includes(session.user.userType)) {\n      return NextResponse.json(\n        { error: 'Acesso negado. Apenas administradores e gestores podem acessar m\xE9tricas.' },\n        { status: 403 }\n      );\n    }\n\n    // Validar dados da requisi\xE7\xE3o\n    const body = await request.json();\n    const validacao = comparativoSchema.safeParse(body);\n    \n    if (!validacao.success) {\n      return NextResponse.json(\n        { \n          error: 'Dados inv\xE1lidos',\n          details: validacao.error.errors\n        },\n        { status: 400 }\n      );\n    }\n\n    const { filtros = {}, periodos } = validacao.data;\n\n    // Validar se os per\xEDodos n\xE3o se sobrep\xF5em\n    for (let i = 0; i < periodos.length - 1; i++) {\n      for (let j = i + 1; j < periodos.length; j++) {\n        const periodo1 = periodos[i];\n        const periodo2 = periodos[j];\n        \n        // Verificar sobreposi\xE7\xE3o\n        if (\n          (periodo1.dataInicio <= periodo2.dataFim && periodo1.dataFim >= periodo2.dataInicio) ||\n          (periodo2.dataInicio <= periodo1.dataFim && periodo2.dataFim >= periodo1.dataInicio)\n        ) {\n          return NextResponse.json(\n            { \n              error: 'Per\xEDodos n\xE3o podem se sobrepor',\n              details: `Per\xEDodo '${periodo1.nome}' se sobrep\xF5e com '${periodo2.nome}'`\n            },\n            { status: 400 }\n          );\n        }\n      }\n    }\n\n    // Gerar comparativo temporal\n    const comparativo = await gerarComparativoTemporal(periodos, filtros);\n\n    return NextResponse.json({\n      success: true,\n      data: comparativo,\n      message: `Comparativo temporal entre ${periodos.length} per\xEDodos gerado com sucesso`,\n      meta: {\n        totalPeriodos: periodos.length,\n        periodos: periodos.map(p => ({\n          id: p.id,\n          nome: p.nome,\n          dataInicio: p.dataInicio.toISOString(),\n          dataFim: p.dataFim.toISOString()\n        }))\n      }\n    });\n\n  } catch (error) {\n    console.error('Erro ao gerar comparativo temporal:', error);\n    return NextResponse.json(\n      { \n        error: 'Erro interno do servidor',\n        message: 'N\xE3o foi poss\xEDvel gerar o comparativo temporal'\n      },\n      { status: 500 }\n    );\n  }\n}\n\n/**\n * GET /api/avaliacoes/metricas/comparativo\n * Busca comparativo temporal com par\xE2metros de query (vers\xE3o simplificada)\n */\nexport async function GET(request: NextRequest) {\n  try {\n    // Verificar autentica\xE7\xE3o\n    const session = await getServerSession(authOptions);\n    if (!session) {\n      return NextResponse.json(\n        { error: 'N\xE3o autorizado' },\n        { status: 401 }\n      );\n    }\n\n    // Verificar permiss\xF5es\n    if (!['ADMIN', 'GESTOR'].includes(session.user.userType)) {\n      return NextResponse.json(\n        { error: 'Acesso negado. Apenas administradores e gestores podem acessar m\xE9tricas.' },\n        { status: 403 }\n      );\n    }\n\n    // Extrair par\xE2metros de query\n    const { searchParams } = new URL(request.url);\n    const periodo1Id = searchParams.get('periodo1');\n    const periodo2Id = searchParams.get('periodo2');\n\n    if (!periodo1Id || !periodo2Id) {\n      return NextResponse.json(\n        { error: '\xC9 necess\xE1rio informar pelo menos 2 per\xEDodos (periodo1 e periodo2)' },\n        { status: 400 }\n      );\n    }\n\n    if (periodo1Id === periodo2Id) {\n      return NextResponse.json(\n        { error: 'Os per\xEDodos devem ser diferentes' },\n        { status: 400 }\n      );\n    }\n\n    // Buscar informa\xE7\xF5es dos per\xEDodos no banco de dados\n    // Nota: Aqui seria necess\xE1rio implementar a busca real dos per\xEDodos\n    // Por enquanto, retornamos um erro informativo\n    return NextResponse.json(\n      { \n        error: 'Funcionalidade n\xE3o implementada',\n        message: 'Use o m\xE9todo POST com os dados completos dos per\xEDodos'\n      },\n      { status: 501 }\n    );\n\n  } catch (error) {\n    console.error('Erro ao buscar comparativo temporal:', error);\n    return NextResponse.json(\n      { \n        error: 'Erro interno do servidor',\n        message: 'N\xE3o foi poss\xEDvel buscar o comparativo temporal'\n      },\n      { status: 500 }\n    );\n  }\n}"],
      names: ["GET", "POST", "comparativoSchema", "z", "object", "filtros", "periodoIds", "array", "string", "optional", "atendenteIds", "setores", "departamentos", "dataInicio", "transform", "str", "Date", "undefined", "dataFim", "notaMinima", "number", "min", "max", "notaMaxima", "periodos", "id", "nome", "request", "session", "getServerSession", "authOptions", "NextResponse", "json", "error", "status", "includes", "user", "userType", "body", "validacao", "safeParse", "success", "details", "errors", "data", "i", "length", "j", "periodo1", "periodo2", "comparativo", "gerarComparativoTemporal", "message", "meta", "totalPeriodos", "map", "p", "toISOString", "console", "searchParams", "URL", "url", "periodo1Id", "get", "periodo2Id"],
      mappings: "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"
    },
    _coverageSchema: "1a1c01bbd47fc00a2c39e90264f33305004495a9",
    hash: "7c4565bf20b284185e9df49fff8dddd4b1f70b06"
  };
  var coverage = global[gcv] || (global[gcv] = {});
  if (!coverage[path] || coverage[path].hash !== hash) {
    coverage[path] = coverageData;
  }
  var actualCoverage = coverage[path];
  {
    // @ts-ignore
    cov_27d08n9r2k = function () {
      return actualCoverage;
    };
  }
  return actualCoverage;
}
cov_27d08n9r2k();
cov_27d08n9r2k().s[0]++;
Object.defineProperty(exports, "__esModule", {
  value: true
});
function _export(target, all) {
  /* istanbul ignore next */
  cov_27d08n9r2k().f[0]++;
  cov_27d08n9r2k().s[1]++;
  for (var name in all) {
    /* istanbul ignore next */
    cov_27d08n9r2k().s[2]++;
    Object.defineProperty(target, name, {
      enumerable: true,
      get: Object.getOwnPropertyDescriptor(all, name).get
    });
  }
}
/* istanbul ignore next */
cov_27d08n9r2k().s[3]++;
_export(exports, {
  get GET() {
    /* istanbul ignore next */
    cov_27d08n9r2k().f[1]++;
    cov_27d08n9r2k().s[4]++;
    return GET;
  },
  get POST() {
    /* istanbul ignore next */
    cov_27d08n9r2k().f[2]++;
    cov_27d08n9r2k().s[5]++;
    return POST;
  }
});
const _server =
/* istanbul ignore next */
(cov_27d08n9r2k().s[6]++, require("next/server"));
const _nextauth =
/* istanbul ignore next */
(cov_27d08n9r2k().s[7]++, require("next-auth"));
const _auth =
/* istanbul ignore next */
(cov_27d08n9r2k().s[8]++, require("../../../../../lib/auth"));
const _metricasavaliacoes =
/* istanbul ignore next */
(cov_27d08n9r2k().s[9]++, require("../../../../../lib/utils/metricas-avaliacoes"));
const _zod =
/* istanbul ignore next */
(cov_27d08n9r2k().s[10]++, require("zod"));
// Schema de validação para os filtros e parâmetros
const comparativoSchema =
/* istanbul ignore next */
(cov_27d08n9r2k().s[11]++, _zod.z.object({
  filtros: _zod.z.object({
    periodoIds: _zod.z.array(_zod.z.string()).optional(),
    atendenteIds: _zod.z.array(_zod.z.string()).optional(),
    setores: _zod.z.array(_zod.z.string()).optional(),
    departamentos: _zod.z.array(_zod.z.string()).optional(),
    dataInicio: _zod.z.string().transform(str => {
      /* istanbul ignore next */
      cov_27d08n9r2k().f[3]++;
      cov_27d08n9r2k().s[12]++;
      return str ?
      /* istanbul ignore next */
      (cov_27d08n9r2k().b[0][0]++, new Date(str)) :
      /* istanbul ignore next */
      (cov_27d08n9r2k().b[0][1]++, undefined);
    }).optional(),
    dataFim: _zod.z.string().transform(str => {
      /* istanbul ignore next */
      cov_27d08n9r2k().f[4]++;
      cov_27d08n9r2k().s[13]++;
      return str ?
      /* istanbul ignore next */
      (cov_27d08n9r2k().b[1][0]++, new Date(str)) :
      /* istanbul ignore next */
      (cov_27d08n9r2k().b[1][1]++, undefined);
    }).optional(),
    notaMinima: _zod.z.number().min(1).max(5).optional(),
    notaMaxima: _zod.z.number().min(1).max(5).optional()
  }).optional(),
  periodos: _zod.z.array(_zod.z.object({
    id: _zod.z.string(),
    nome: _zod.z.string(),
    dataInicio: _zod.z.string().transform(str => {
      /* istanbul ignore next */
      cov_27d08n9r2k().f[5]++;
      cov_27d08n9r2k().s[14]++;
      return new Date(str);
    }),
    dataFim: _zod.z.string().transform(str => {
      /* istanbul ignore next */
      cov_27d08n9r2k().f[6]++;
      cov_27d08n9r2k().s[15]++;
      return new Date(str);
    })
  })).min(2, 'É necessário pelo menos 2 períodos para comparação')
}));
async function POST(request) {
  /* istanbul ignore next */
  cov_27d08n9r2k().f[7]++;
  cov_27d08n9r2k().s[16]++;
  try {
    // Verificar autenticação
    const session =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[17]++, await (0, _nextauth.getServerSession)(_auth.authOptions));
    /* istanbul ignore next */
    cov_27d08n9r2k().s[18]++;
    if (!session) {
      /* istanbul ignore next */
      cov_27d08n9r2k().b[2][0]++;
      cov_27d08n9r2k().s[19]++;
      return _server.NextResponse.json({
        error: 'Não autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_27d08n9r2k().b[2][1]++;
    }
    // Verificar permissões (apenas ADMIN e GESTOR podem acessar métricas)
    cov_27d08n9r2k().s[20]++;
    if (!['ADMIN', 'GESTOR'].includes(session.user.userType)) {
      /* istanbul ignore next */
      cov_27d08n9r2k().b[3][0]++;
      cov_27d08n9r2k().s[21]++;
      return _server.NextResponse.json({
        error: 'Acesso negado. Apenas administradores e gestores podem acessar métricas.'
      }, {
        status: 403
      });
    } else
    /* istanbul ignore next */
    {
      cov_27d08n9r2k().b[3][1]++;
    }
    // Validar dados da requisição
    const body =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[22]++, await request.json());
    const validacao =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[23]++, comparativoSchema.safeParse(body));
    /* istanbul ignore next */
    cov_27d08n9r2k().s[24]++;
    if (!validacao.success) {
      /* istanbul ignore next */
      cov_27d08n9r2k().b[4][0]++;
      cov_27d08n9r2k().s[25]++;
      return _server.NextResponse.json({
        error: 'Dados inválidos',
        details: validacao.error.errors
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_27d08n9r2k().b[4][1]++;
    }
    const {
      filtros =
      /* istanbul ignore next */
      (cov_27d08n9r2k().b[5][0]++, {}),
      periodos
    } =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[26]++, validacao.data);
    // Validar se os períodos não se sobrepõem
    /* istanbul ignore next */
    cov_27d08n9r2k().s[27]++;
    for (let i =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[28]++, 0); i < periodos.length - 1; i++) {
      /* istanbul ignore next */
      cov_27d08n9r2k().s[29]++;
      for (let j =
      /* istanbul ignore next */
      (cov_27d08n9r2k().s[30]++, i + 1); j < periodos.length; j++) {
        const periodo1 =
        /* istanbul ignore next */
        (cov_27d08n9r2k().s[31]++, periodos[i]);
        const periodo2 =
        /* istanbul ignore next */
        (cov_27d08n9r2k().s[32]++, periodos[j]);
        // Verificar sobreposição
        /* istanbul ignore next */
        cov_27d08n9r2k().s[33]++;
        if (
        /* istanbul ignore next */
        (cov_27d08n9r2k().b[7][0]++, periodo1.dataInicio <= periodo2.dataFim) &&
        /* istanbul ignore next */
        (cov_27d08n9r2k().b[7][1]++, periodo1.dataFim >= periodo2.dataInicio) ||
        /* istanbul ignore next */
        (cov_27d08n9r2k().b[7][2]++, periodo2.dataInicio <= periodo1.dataFim) &&
        /* istanbul ignore next */
        (cov_27d08n9r2k().b[7][3]++, periodo2.dataFim >= periodo1.dataInicio)) {
          /* istanbul ignore next */
          cov_27d08n9r2k().b[6][0]++;
          cov_27d08n9r2k().s[34]++;
          return _server.NextResponse.json({
            error: 'Períodos não podem se sobrepor',
            details: `Período '${periodo1.nome}' se sobrepõe com '${periodo2.nome}'`
          }, {
            status: 400
          });
        } else
        /* istanbul ignore next */
        {
          cov_27d08n9r2k().b[6][1]++;
        }
      }
    }
    // Gerar comparativo temporal
    const comparativo =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[35]++, await (0, _metricasavaliacoes.gerarComparativoTemporal)(periodos, filtros));
    /* istanbul ignore next */
    cov_27d08n9r2k().s[36]++;
    return _server.NextResponse.json({
      success: true,
      data: comparativo,
      message: `Comparativo temporal entre ${periodos.length} períodos gerado com sucesso`,
      meta: {
        totalPeriodos: periodos.length,
        periodos: periodos.map(p => {
          /* istanbul ignore next */
          cov_27d08n9r2k().f[8]++;
          cov_27d08n9r2k().s[37]++;
          return {
            id: p.id,
            nome: p.nome,
            dataInicio: p.dataInicio.toISOString(),
            dataFim: p.dataFim.toISOString()
          };
        })
      }
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_27d08n9r2k().s[38]++;
    console.error('Erro ao gerar comparativo temporal:', error);
    /* istanbul ignore next */
    cov_27d08n9r2k().s[39]++;
    return _server.NextResponse.json({
      error: 'Erro interno do servidor',
      message: 'Não foi possível gerar o comparativo temporal'
    }, {
      status: 500
    });
  }
}
async function GET(request) {
  /* istanbul ignore next */
  cov_27d08n9r2k().f[9]++;
  cov_27d08n9r2k().s[40]++;
  try {
    // Verificar autenticação
    const session =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[41]++, await (0, _nextauth.getServerSession)(_auth.authOptions));
    /* istanbul ignore next */
    cov_27d08n9r2k().s[42]++;
    if (!session) {
      /* istanbul ignore next */
      cov_27d08n9r2k().b[8][0]++;
      cov_27d08n9r2k().s[43]++;
      return _server.NextResponse.json({
        error: 'Não autorizado'
      }, {
        status: 401
      });
    } else
    /* istanbul ignore next */
    {
      cov_27d08n9r2k().b[8][1]++;
    }
    // Verificar permissões
    cov_27d08n9r2k().s[44]++;
    if (!['ADMIN', 'GESTOR'].includes(session.user.userType)) {
      /* istanbul ignore next */
      cov_27d08n9r2k().b[9][0]++;
      cov_27d08n9r2k().s[45]++;
      return _server.NextResponse.json({
        error: 'Acesso negado. Apenas administradores e gestores podem acessar métricas.'
      }, {
        status: 403
      });
    } else
    /* istanbul ignore next */
    {
      cov_27d08n9r2k().b[9][1]++;
    }
    // Extrair parâmetros de query
    const {
      searchParams
    } =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[46]++, new URL(request.url));
    const periodo1Id =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[47]++, searchParams.get('periodo1'));
    const periodo2Id =
    /* istanbul ignore next */
    (cov_27d08n9r2k().s[48]++, searchParams.get('periodo2'));
    /* istanbul ignore next */
    cov_27d08n9r2k().s[49]++;
    if (
    /* istanbul ignore next */
    (cov_27d08n9r2k().b[11][0]++, !periodo1Id) ||
    /* istanbul ignore next */
    (cov_27d08n9r2k().b[11][1]++, !periodo2Id)) {
      /* istanbul ignore next */
      cov_27d08n9r2k().b[10][0]++;
      cov_27d08n9r2k().s[50]++;
      return _server.NextResponse.json({
        error: 'É necessário informar pelo menos 2 períodos (periodo1 e periodo2)'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_27d08n9r2k().b[10][1]++;
    }
    cov_27d08n9r2k().s[51]++;
    if (periodo1Id === periodo2Id) {
      /* istanbul ignore next */
      cov_27d08n9r2k().b[12][0]++;
      cov_27d08n9r2k().s[52]++;
      return _server.NextResponse.json({
        error: 'Os períodos devem ser diferentes'
      }, {
        status: 400
      });
    } else
    /* istanbul ignore next */
    {
      cov_27d08n9r2k().b[12][1]++;
    }
    // Buscar informações dos períodos no banco de dados
    // Nota: Aqui seria necessário implementar a busca real dos períodos
    // Por enquanto, retornamos um erro informativo
    cov_27d08n9r2k().s[53]++;
    return _server.NextResponse.json({
      error: 'Funcionalidade não implementada',
      message: 'Use o método POST com os dados completos dos períodos'
    }, {
      status: 501
    });
  } catch (error) {
    /* istanbul ignore next */
    cov_27d08n9r2k().s[54]++;
    console.error('Erro ao buscar comparativo temporal:', error);
    /* istanbul ignore next */
    cov_27d08n9r2k().s[55]++;
    return _server.NextResponse.json({
      error: 'Erro interno do servidor',
      message: 'Não foi possível buscar o comparativo temporal'
    }, {
      status: 500
    });
  }
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJHRVQiLCJjb3ZfMjdkMDhuOXIyayIsImYiLCJzIiwiUE9TVCIsImNvbXBhcmF0aXZvU2NoZW1hIiwiX3pvZCIsInoiLCJvYmplY3QiLCJmaWx0cm9zIiwicGVyaW9kb0lkcyIsImFycmF5Iiwic3RyaW5nIiwib3B0aW9uYWwiLCJhdGVuZGVudGVJZHMiLCJzZXRvcmVzIiwiZGVwYXJ0YW1lbnRvcyIsImRhdGFJbmljaW8iLCJ0cmFuc2Zvcm0iLCJzdHIiLCJiIiwiRGF0ZSIsInVuZGVmaW5lZCIsImRhdGFGaW0iLCJub3RhTWluaW1hIiwibnVtYmVyIiwibWluIiwibWF4Iiwibm90YU1heGltYSIsInBlcmlvZG9zIiwiaWQiLCJub21lIiwicmVxdWVzdCIsInNlc3Npb24iLCJfbmV4dGF1dGgiLCJnZXRTZXJ2ZXJTZXNzaW9uIiwiX2F1dGgiLCJhdXRoT3B0aW9ucyIsIl9zZXJ2ZXIiLCJOZXh0UmVzcG9uc2UiLCJqc29uIiwiZXJyb3IiLCJzdGF0dXMiLCJpbmNsdWRlcyIsInVzZXIiLCJ1c2VyVHlwZSIsImJvZHkiLCJ2YWxpZGFjYW8iLCJzYWZlUGFyc2UiLCJzdWNjZXNzIiwiZGV0YWlscyIsImVycm9ycyIsImRhdGEiLCJpIiwibGVuZ3RoIiwiaiIsInBlcmlvZG8xIiwicGVyaW9kbzIiLCJjb21wYXJhdGl2byIsIl9tZXRyaWNhc2F2YWxpYWNvZXMiLCJnZXJhckNvbXBhcmF0aXZvVGVtcG9yYWwiLCJtZXNzYWdlIiwibWV0YSIsInRvdGFsUGVyaW9kb3MiLCJtYXAiLCJwIiwidG9JU09TdHJpbmciLCJjb25zb2xlIiwic2VhcmNoUGFyYW1zIiwiVVJMIiwidXJsIiwicGVyaW9kbzFJZCIsImdldCIsInBlcmlvZG8ySWQiXSwic291cmNlcyI6WyJDOlxcVXNlcnNcXE5lcmV1IEpyXFxEb2N1bWVudHNcXERldlxcbmV3XFxzcmNcXGFwcFxcYXBpXFxhdmFsaWFjb2VzXFxtZXRyaWNhc1xcY29tcGFyYXRpdm9cXHJvdXRlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XG5pbXBvcnQgeyBnZXRTZXJ2ZXJTZXNzaW9uIH0gZnJvbSAnbmV4dC1hdXRoJztcbmltcG9ydCB7IGF1dGhPcHRpb25zIH0gZnJvbSAnQC9saWIvYXV0aCc7XG5pbXBvcnQgeyBnZXJhckNvbXBhcmF0aXZvVGVtcG9yYWwsIEZpbHRyb3NNZXRyaWNhcyB9IGZyb20gJ0AvbGliL3V0aWxzL21ldHJpY2FzLWF2YWxpYWNvZXMnO1xuaW1wb3J0IHsgeiB9IGZyb20gJ3pvZCc7XG5cbi8vIFNjaGVtYSBkZSB2YWxpZGHDp8OjbyBwYXJhIG9zIGZpbHRyb3MgZSBwYXLDom1ldHJvc1xuY29uc3QgY29tcGFyYXRpdm9TY2hlbWEgPSB6Lm9iamVjdCh7XG4gIGZpbHRyb3M6IHoub2JqZWN0KHtcbiAgICBwZXJpb2RvSWRzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgYXRlbmRlbnRlSWRzOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgc2V0b3Jlczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGRlcGFydGFtZW50b3M6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBkYXRhSW5pY2lvOiB6LnN0cmluZygpLnRyYW5zZm9ybShzdHIgPT4gc3RyID8gbmV3IERhdGUoc3RyKSA6IHVuZGVmaW5lZCkub3B0aW9uYWwoKSxcbiAgICBkYXRhRmltOiB6LnN0cmluZygpLnRyYW5zZm9ybShzdHIgPT4gc3RyID8gbmV3IERhdGUoc3RyKSA6IHVuZGVmaW5lZCkub3B0aW9uYWwoKSxcbiAgICBub3RhTWluaW1hOiB6Lm51bWJlcigpLm1pbigxKS5tYXgoNSkub3B0aW9uYWwoKSxcbiAgICBub3RhTWF4aW1hOiB6Lm51bWJlcigpLm1pbigxKS5tYXgoNSkub3B0aW9uYWwoKVxuICB9KS5vcHRpb25hbCgpLFxuICBwZXJpb2Rvczogei5hcnJheSh6Lm9iamVjdCh7XG4gICAgaWQ6IHouc3RyaW5nKCksXG4gICAgbm9tZTogei5zdHJpbmcoKSxcbiAgICBkYXRhSW5pY2lvOiB6LnN0cmluZygpLnRyYW5zZm9ybShzdHIgPT4gbmV3IERhdGUoc3RyKSksXG4gICAgZGF0YUZpbTogei5zdHJpbmcoKS50cmFuc2Zvcm0oc3RyID0+IG5ldyBEYXRlKHN0cikpXG4gIH0pKS5taW4oMiwgJ8OJIG5lY2Vzc8OhcmlvIHBlbG8gbWVub3MgMiBwZXLDrW9kb3MgcGFyYSBjb21wYXJhw6fDo28nKVxufSk7XG5cbi8qKlxuICogUE9TVCAvYXBpL2F2YWxpYWNvZXMvbWV0cmljYXMvY29tcGFyYXRpdm9cbiAqIEdlcmEgY29tcGFyYXRpdm8gdGVtcG9yYWwgZW50cmUgZGlmZXJlbnRlcyBwZXLDrW9kb3NcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIFBPU1QocmVxdWVzdDogTmV4dFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBWZXJpZmljYXIgYXV0ZW50aWNhw6fDo29cbiAgICBjb25zdCBzZXNzaW9uID0gYXdhaXQgZ2V0U2VydmVyU2Vzc2lvbihhdXRoT3B0aW9ucyk7XG4gICAgaWYgKCFzZXNzaW9uKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdOw6NvIGF1dG9yaXphZG8nIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDEgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBWZXJpZmljYXIgcGVybWlzc8O1ZXMgKGFwZW5hcyBBRE1JTiBlIEdFU1RPUiBwb2RlbSBhY2Vzc2FyIG3DqXRyaWNhcylcbiAgICBpZiAoIVsnQURNSU4nLCAnR0VTVE9SJ10uaW5jbHVkZXMoc2Vzc2lvbi51c2VyLnVzZXJUeXBlKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnQWNlc3NvIG5lZ2Fkby4gQXBlbmFzIGFkbWluaXN0cmFkb3JlcyBlIGdlc3RvcmVzIHBvZGVtIGFjZXNzYXIgbcOpdHJpY2FzLicgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMyB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFZhbGlkYXIgZGFkb3MgZGEgcmVxdWlzacOnw6NvXG4gICAgY29uc3QgYm9keSA9IGF3YWl0IHJlcXVlc3QuanNvbigpO1xuICAgIGNvbnN0IHZhbGlkYWNhbyA9IGNvbXBhcmF0aXZvU2NoZW1hLnNhZmVQYXJzZShib2R5KTtcbiAgICBcbiAgICBpZiAoIXZhbGlkYWNhby5zdWNjZXNzKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgXG4gICAgICAgICAgZXJyb3I6ICdEYWRvcyBpbnbDoWxpZG9zJyxcbiAgICAgICAgICBkZXRhaWxzOiB2YWxpZGFjYW8uZXJyb3IuZXJyb3JzXG4gICAgICAgIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBjb25zdCB7IGZpbHRyb3MgPSB7fSwgcGVyaW9kb3MgfSA9IHZhbGlkYWNhby5kYXRhO1xuXG4gICAgLy8gVmFsaWRhciBzZSBvcyBwZXLDrW9kb3MgbsOjbyBzZSBzb2JyZXDDtWVtXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwZXJpb2Rvcy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IHBlcmlvZG9zLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGNvbnN0IHBlcmlvZG8xID0gcGVyaW9kb3NbaV07XG4gICAgICAgIGNvbnN0IHBlcmlvZG8yID0gcGVyaW9kb3Nbal07XG4gICAgICAgIFxuICAgICAgICAvLyBWZXJpZmljYXIgc29icmVwb3Npw6fDo29cbiAgICAgICAgaWYgKFxuICAgICAgICAgIChwZXJpb2RvMS5kYXRhSW5pY2lvIDw9IHBlcmlvZG8yLmRhdGFGaW0gJiYgcGVyaW9kbzEuZGF0YUZpbSA+PSBwZXJpb2RvMi5kYXRhSW5pY2lvKSB8fFxuICAgICAgICAgIChwZXJpb2RvMi5kYXRhSW5pY2lvIDw9IHBlcmlvZG8xLmRhdGFGaW0gJiYgcGVyaW9kbzIuZGF0YUZpbSA+PSBwZXJpb2RvMS5kYXRhSW5pY2lvKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgICAgICB7IFxuICAgICAgICAgICAgICBlcnJvcjogJ1BlcsOtb2RvcyBuw6NvIHBvZGVtIHNlIHNvYnJlcG9yJyxcbiAgICAgICAgICAgICAgZGV0YWlsczogYFBlcsOtb2RvICcke3BlcmlvZG8xLm5vbWV9JyBzZSBzb2JyZXDDtWUgY29tICcke3BlcmlvZG8yLm5vbWV9J2BcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gR2VyYXIgY29tcGFyYXRpdm8gdGVtcG9yYWxcbiAgICBjb25zdCBjb21wYXJhdGl2byA9IGF3YWl0IGdlcmFyQ29tcGFyYXRpdm9UZW1wb3JhbChwZXJpb2RvcywgZmlsdHJvcyk7XG5cbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oe1xuICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgIGRhdGE6IGNvbXBhcmF0aXZvLFxuICAgICAgbWVzc2FnZTogYENvbXBhcmF0aXZvIHRlbXBvcmFsIGVudHJlICR7cGVyaW9kb3MubGVuZ3RofSBwZXLDrW9kb3MgZ2VyYWRvIGNvbSBzdWNlc3NvYCxcbiAgICAgIG1ldGE6IHtcbiAgICAgICAgdG90YWxQZXJpb2RvczogcGVyaW9kb3MubGVuZ3RoLFxuICAgICAgICBwZXJpb2RvczogcGVyaW9kb3MubWFwKHAgPT4gKHtcbiAgICAgICAgICBpZDogcC5pZCxcbiAgICAgICAgICBub21lOiBwLm5vbWUsXG4gICAgICAgICAgZGF0YUluaWNpbzogcC5kYXRhSW5pY2lvLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgZGF0YUZpbTogcC5kYXRhRmltLnRvSVNPU3RyaW5nKClcbiAgICAgICAgfSkpXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvIGFvIGdlcmFyIGNvbXBhcmF0aXZvIHRlbXBvcmFsOicsIGVycm9yKTtcbiAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICB7IFxuICAgICAgICBlcnJvcjogJ0Vycm8gaW50ZXJubyBkbyBzZXJ2aWRvcicsXG4gICAgICAgIG1lc3NhZ2U6ICdOw6NvIGZvaSBwb3Nzw612ZWwgZ2VyYXIgbyBjb21wYXJhdGl2byB0ZW1wb3JhbCdcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59XG5cbi8qKlxuICogR0VUIC9hcGkvYXZhbGlhY29lcy9tZXRyaWNhcy9jb21wYXJhdGl2b1xuICogQnVzY2EgY29tcGFyYXRpdm8gdGVtcG9yYWwgY29tIHBhcsOibWV0cm9zIGRlIHF1ZXJ5ICh2ZXJzw6NvIHNpbXBsaWZpY2FkYSlcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIEdFVChyZXF1ZXN0OiBOZXh0UmVxdWVzdCkge1xuICB0cnkge1xuICAgIC8vIFZlcmlmaWNhciBhdXRlbnRpY2HDp8Ojb1xuICAgIGNvbnN0IHNlc3Npb24gPSBhd2FpdCBnZXRTZXJ2ZXJTZXNzaW9uKGF1dGhPcHRpb25zKTtcbiAgICBpZiAoIXNlc3Npb24pIHtcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgICAgeyBlcnJvcjogJ07Do28gYXV0b3JpemFkbycgfSxcbiAgICAgICAgeyBzdGF0dXM6IDQwMSB9XG4gICAgICApO1xuICAgIH1cblxuICAgIC8vIFZlcmlmaWNhciBwZXJtaXNzw7Vlc1xuICAgIGlmICghWydBRE1JTicsICdHRVNUT1InXS5pbmNsdWRlcyhzZXNzaW9uLnVzZXIudXNlclR5cGUpKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXG4gICAgICAgIHsgZXJyb3I6ICdBY2Vzc28gbmVnYWRvLiBBcGVuYXMgYWRtaW5pc3RyYWRvcmVzIGUgZ2VzdG9yZXMgcG9kZW0gYWNlc3NhciBtw6l0cmljYXMuJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAzIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gRXh0cmFpciBwYXLDom1ldHJvcyBkZSBxdWVyeVxuICAgIGNvbnN0IHsgc2VhcmNoUGFyYW1zIH0gPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICBjb25zdCBwZXJpb2RvMUlkID0gc2VhcmNoUGFyYW1zLmdldCgncGVyaW9kbzEnKTtcbiAgICBjb25zdCBwZXJpb2RvMklkID0gc2VhcmNoUGFyYW1zLmdldCgncGVyaW9kbzInKTtcblxuICAgIGlmICghcGVyaW9kbzFJZCB8fCAhcGVyaW9kbzJJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnw4kgbmVjZXNzw6FyaW8gaW5mb3JtYXIgcGVsbyBtZW5vcyAyIHBlcsOtb2RvcyAocGVyaW9kbzEgZSBwZXJpb2RvMiknIH0sXG4gICAgICAgIHsgc3RhdHVzOiA0MDAgfVxuICAgICAgKTtcbiAgICB9XG5cbiAgICBpZiAocGVyaW9kbzFJZCA9PT0gcGVyaW9kbzJJZCkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKFxuICAgICAgICB7IGVycm9yOiAnT3MgcGVyw61vZG9zIGRldmVtIHNlciBkaWZlcmVudGVzJyB9LFxuICAgICAgICB7IHN0YXR1czogNDAwIH1cbiAgICAgICk7XG4gICAgfVxuXG4gICAgLy8gQnVzY2FyIGluZm9ybWHDp8O1ZXMgZG9zIHBlcsOtb2RvcyBubyBiYW5jbyBkZSBkYWRvc1xuICAgIC8vIE5vdGE6IEFxdWkgc2VyaWEgbmVjZXNzw6FyaW8gaW1wbGVtZW50YXIgYSBidXNjYSByZWFsIGRvcyBwZXLDrW9kb3NcbiAgICAvLyBQb3IgZW5xdWFudG8sIHJldG9ybmFtb3MgdW0gZXJybyBpbmZvcm1hdGl2b1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIGVycm9yOiAnRnVuY2lvbmFsaWRhZGUgbsOjbyBpbXBsZW1lbnRhZGEnLFxuICAgICAgICBtZXNzYWdlOiAnVXNlIG8gbcOpdG9kbyBQT1NUIGNvbSBvcyBkYWRvcyBjb21wbGV0b3MgZG9zIHBlcsOtb2RvcydcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAxIH1cbiAgICApO1xuXG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJybyBhbyBidXNjYXIgY29tcGFyYXRpdm8gdGVtcG9yYWw6JywgZXJyb3IpO1xuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcbiAgICAgIHsgXG4gICAgICAgIGVycm9yOiAnRXJybyBpbnRlcm5vIGRvIHNlcnZpZG9yJyxcbiAgICAgICAgbWVzc2FnZTogJ07Do28gZm9pIHBvc3PDrXZlbCBidXNjYXIgbyBjb21wYXJhdGl2byB0ZW1wb3JhbCdcbiAgICAgIH0sXG4gICAgICB7IHN0YXR1czogNTAwIH1cbiAgICApO1xuICB9XG59Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7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