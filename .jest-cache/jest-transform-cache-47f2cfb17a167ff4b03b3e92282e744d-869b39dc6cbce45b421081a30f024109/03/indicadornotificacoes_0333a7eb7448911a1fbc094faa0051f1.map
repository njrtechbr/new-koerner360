{"version":3,"names":["cov_1bhhu184du","actualCoverage","s","IndicadorNotificacoes","f","NotificationBell","NotificationMenuItem","variant","b","size","showLabel","className","notificacoesPendentes","carregandoNotificacoes","_notificacoescontext","useNotificacoes","modalAberto","setModalAberto","_react","default","useState","totalNotificacoes","length","notificacoesAlta","filter","n","urgencia","hasNotificacoes","hasNotificacoesAlta","getTooltipText","textoBase","getBellIcon","_jsxruntime","jsx","_lucidereact","BellRing","Bell","trigger","_tooltip","TooltipProvider","jsxs","Tooltip","TooltipTrigger","asChild","_button","Button","onClick","_badge","Badge","TooltipContent","_modalnotificacoes","ModalNotificacoes","open","onOpenChange"],"sources":["C:\\Users\\Nereu Jr\\Documents\\Dev\\new\\src\\components\\notificacoes\\indicador-notificacoes.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { Bell, BellRing } from 'lucide-react';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport {\n  Tooltip,\n  TooltipContent,\n  TooltipProvider,\n  TooltipTrigger,\n} from '@/components/ui/tooltip';\nimport { ModalNotificacoes } from './modal-notificacoes';\nimport { useNotificacoes } from '@/contexts/notificacoes-context';\n\ninterface IndicadorNotificacoesProps {\n  variant?: 'default' | 'ghost' | 'outline';\n  size?: 'sm' | 'default' | 'lg';\n  showLabel?: boolean;\n  className?: string;\n}\n\nexport function IndicadorNotificacoes({\n  variant = 'ghost',\n  size = 'default',\n  showLabel = false,\n  className,\n}: IndicadorNotificacoesProps) {\n  const { notificacoesPendentes, carregandoNotificacoes } = useNotificacoes();\n  const [modalAberto, setModalAberto] = React.useState(false);\n\n  const totalNotificacoes = notificacoesPendentes.length;\n  const notificacoesAlta = notificacoesPendentes.filter(n => n.urgencia === 'alta').length;\n  const hasNotificacoes = totalNotificacoes > 0;\n  const hasNotificacoesAlta = notificacoesAlta > 0;\n\n  const getTooltipText = () => {\n    if (carregandoNotificacoes) {\n      return 'Carregando notificações...';\n    }\n    \n    if (!hasNotificacoes) {\n      return 'Nenhuma notificação pendente';\n    }\n\n    const textoBase = `${totalNotificacoes} notificação${totalNotificacoes !== 1 ? 'ões' : ''} pendente${totalNotificacoes !== 1 ? 's' : ''}`;\n    \n    if (hasNotificacoesAlta) {\n      return `${textoBase} (${notificacoesAlta} de alta urgência)`;\n    }\n    \n    return textoBase;\n  };\n\n  const getBellIcon = () => {\n    if (hasNotificacoesAlta) {\n      return <BellRing className={`${size === 'sm' ? 'h-4 w-4' : size === 'lg' ? 'h-6 w-6' : 'h-5 w-5'} ${hasNotificacoesAlta ? 'text-red-500 animate-pulse' : ''}`} />;\n    }\n    \n    return <Bell className={`${size === 'sm' ? 'h-4 w-4' : size === 'lg' ? 'h-6 w-6' : 'h-5 w-5'} ${hasNotificacoes ? 'text-orange-500' : ''}`} />;\n  };\n\n  const trigger = (\n    <TooltipProvider>\n      <Tooltip>\n        <TooltipTrigger asChild>\n          <Button\n            variant={variant}\n            size={size}\n            className={`relative ${className || ''}`}\n            onClick={() => setModalAberto(true)}\n          >\n            {getBellIcon()}\n            {showLabel && (\n              <span className=\"ml-2\">\n                Notificações\n              </span>\n            )}\n            \n            {/* Badge de contagem */}\n            {hasNotificacoes && (\n              <Badge\n                variant={hasNotificacoesAlta ? 'destructive' : 'secondary'}\n                className={`absolute -top-1 -right-1 h-5 w-5 rounded-full p-0 flex items-center justify-center text-xs font-bold ${\n                  hasNotificacoesAlta ? 'animate-pulse' : ''\n                }`}\n              >\n                {totalNotificacoes > 99 ? '99+' : totalNotificacoes}\n              </Badge>\n            )}\n            \n            {/* Indicador de carregamento */}\n            {carregandoNotificacoes && (\n              <div className=\"absolute -top-1 -right-1 h-3 w-3 rounded-full bg-blue-500 animate-pulse\" />\n            )}\n          </Button>\n        </TooltipTrigger>\n        <TooltipContent>\n          <p>{getTooltipText()}</p>\n        </TooltipContent>\n      </Tooltip>\n    </TooltipProvider>\n  );\n\n  return (\n    <ModalNotificacoes\n      trigger={trigger}\n      open={modalAberto}\n      onOpenChange={setModalAberto}\n    />\n  );\n}\n\n// Componente simplificado para uso em layouts\nexport function NotificationBell() {\n  return (\n    <IndicadorNotificacoes\n      variant=\"ghost\"\n      size=\"default\"\n      showLabel={false}\n    />\n  );\n}\n\n// Componente para sidebar com label\nexport function NotificationMenuItem() {\n  return (\n    <IndicadorNotificacoes\n      variant=\"ghost\"\n      size=\"default\"\n      showLabel={true}\n      className=\"w-full justify-start\"\n    />\n  );\n}"],"mappings":"AAAA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;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","ignoreList":[]}