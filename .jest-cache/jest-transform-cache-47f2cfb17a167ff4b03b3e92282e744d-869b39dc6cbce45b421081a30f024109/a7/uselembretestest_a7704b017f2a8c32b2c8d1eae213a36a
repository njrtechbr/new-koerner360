e25aba381334db42c5f8a2413bc3519a
"use strict";
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _vitest = require("vitest");
const _uselembretes = require("../use-lembretes");
const _usetoast = require("../use-toast");
// Mock do hook useToast
_vitest.vi.mock('../use-toast', ()=>({
        useToast: _vitest.vi.fn(()=>({
                toast: _vitest.vi.fn()
            }))
    }));
// Mock do fetch global
const mockFetch = _vitest.vi.fn();
global.fetch = mockFetch;
// Mock dos dados de teste
const mockLembretes = [
    {
        id: '1',
        tipo: 'AVALIACAO_PENDENTE',
        titulo: 'Lembrete de Avaliação',
        mensagem: 'Você tem uma avaliação pendente',
        dataEnvio: new Date().toISOString(),
        enviado: false,
        tentativas: 0,
        ultimaTentativa: null,
        proximaTentativa: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),
        erro: null,
        criadoEm: new Date().toISOString(),
        atualizadoEm: new Date().toISOString(),
        usuario: {
            id: '1',
            nome: 'João Silva',
            email: 'joao@teste.com'
        },
        avaliacao: {
            id: '1',
            titulo: 'Avaliação Q1 2024',
            prazo: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()
        }
    }
];
const mockResultadoLembretes = {
    lembretes: mockLembretes,
    total: 1,
    pagina: 1,
    totalPaginas: 1,
    porPagina: 10
};
(0, _vitest.describe)('useLembretes', ()=>{
    const mockToast = _vitest.vi.fn();
    (0, _vitest.beforeEach)(()=>{
        _vitest.vi.clearAllMocks();
        _usetoast.useToast.mockReturnValue({
            toast: mockToast
        });
    });
    (0, _vitest.afterEach)(()=>{
        _vitest.vi.resetAllMocks();
    });
    (0, _vitest.describe)('buscarLembretes', ()=>{
        (0, _vitest.it)('deve buscar lembretes com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockResultadoLembretes
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes();
            });
            (0, _vitest.expect)(result.current.lembretes).toEqual(mockLembretes);
            (0, _vitest.expect)(result.current.total).toBe(1);
            (0, _vitest.expect)(result.current.carregando).toBe(false);
            (0, _vitest.expect)(result.current.erro).toBeNull();
        });
        (0, _vitest.it)('deve lidar com erro na busca', async ()=>{
            const errorMessage = 'Erro ao buscar lembretes';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes();
            });
            (0, _vitest.expect)(result.current.lembretes).toEqual([]);
            (0, _vitest.expect)(result.current.carregando).toBe(false);
            (0, _vitest.expect)(result.current.erro).toBe(errorMessage);
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
        (0, _vitest.it)('deve aplicar filtros corretamente', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockResultadoLembretes
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const filtros = {
                tipo: 'AVALIACAO_PENDENTE',
                status: 'pendente',
                usuarioId: '1',
                avaliacaoId: '1',
                dataInicio: new Date('2024-01-01'),
                dataFim: new Date('2024-12-31')
            };
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes(filtros);
            });
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith(_vitest.expect.stringContaining('/api/lembretes'), _vitest.expect.objectContaining({
                method: 'GET'
            }));
            // Verificar se os parâmetros de query foram construídos corretamente
            const url = mockFetch.mock.calls[0][0];
            (0, _vitest.expect)(url).toContain('tipo=AVALIACAO_PENDENTE');
            (0, _vitest.expect)(url).toContain('status=pendente');
            (0, _vitest.expect)(url).toContain('usuarioId=1');
            (0, _vitest.expect)(url).toContain('avaliacaoId=1');
        });
    });
    (0, _vitest.describe)('buscarLembrete', ()=>{
        (0, _vitest.it)('deve buscar lembrete específico com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockLembretes[0]
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembrete;
            await (0, _react.act)(async ()=>{
                lembrete = await result.current.buscarLembrete('1');
            });
            (0, _vitest.expect)(lembrete).toEqual(mockLembretes[0]);
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _vitest.expect.objectContaining({
                method: 'GET'
            }));
        });
        (0, _vitest.it)('deve lidar com erro ao buscar lembrete específico', async ()=>{
            const errorMessage = 'Lembrete não encontrado';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembrete;
            await (0, _react.act)(async ()=>{
                lembrete = await result.current.buscarLembrete('999');
            });
            (0, _vitest.expect)(lembrete).toBeNull();
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
    });
    (0, _vitest.describe)('criarLembrete', ()=>{
        (0, _vitest.it)('deve criar lembrete com sucesso', async ()=>{
            const novoLembrete = {
                tipo: 'LEMBRETE_PERSONALIZADO',
                titulo: 'Novo Lembrete',
                mensagem: 'Mensagem do lembrete',
                dataEnvio: new Date().toISOString(),
                usuarioId: '1',
                avaliacaoId: '1'
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...novoLembrete,
                        id: '2'
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembreteCreated;
            await (0, _react.act)(async ()=>{
                lembreteCreated = await result.current.criarLembrete(novoLembrete);
            });
            (0, _vitest.expect)(lembreteCreated).toEqual({
                ...novoLembrete,
                id: '2'
            });
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes', _vitest.expect.objectContaining({
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(novoLembrete)
            }));
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete criado com sucesso'
            });
        });
        (0, _vitest.it)('deve lidar com erro ao criar lembrete', async ()=>{
            const errorMessage = 'Erro ao criar lembrete';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const novoLembrete = {
                tipo: 'LEMBRETE_PERSONALIZADO',
                titulo: 'Novo Lembrete',
                mensagem: 'Mensagem do lembrete',
                dataEnvio: new Date().toISOString(),
                usuarioId: '1'
            };
            let lembreteCreated;
            await (0, _react.act)(async ()=>{
                lembreteCreated = await result.current.criarLembrete(novoLembrete);
            });
            (0, _vitest.expect)(lembreteCreated).toBeNull();
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
    });
    (0, _vitest.describe)('atualizarLembrete', ()=>{
        (0, _vitest.it)('deve atualizar lembrete com sucesso', async ()=>{
            const dadosAtualizacao = {
                titulo: 'Título Atualizado',
                mensagem: 'Mensagem atualizada'
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...mockLembretes[0],
                        ...dadosAtualizacao
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembreteAtualizado;
            await (0, _react.act)(async ()=>{
                lembreteAtualizado = await result.current.atualizarLembrete('1', dadosAtualizacao);
            });
            (0, _vitest.expect)(lembreteAtualizado).toEqual({
                ...mockLembretes[0],
                ...dadosAtualizacao
            });
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _vitest.expect.objectContaining({
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dadosAtualizacao)
            }));
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete atualizado com sucesso'
            });
        });
    });
    (0, _vitest.describe)('removerLembrete', ()=>{
        (0, _vitest.it)('deve remover lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.removerLembrete('1');
            });
            (0, _vitest.expect)(sucesso).toBe(true);
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _vitest.expect.objectContaining({
                method: 'DELETE'
            }));
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete removido com sucesso'
            });
        });
    });
    (0, _vitest.describe)('removerLembretesEmLote', ()=>{
        (0, _vitest.it)('deve remover lembretes em lote com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        removidos: 3
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const filtros = {
                ids: [
                    '1',
                    '2',
                    '3'
                ]
            };
            let resultado;
            await (0, _react.act)(async ()=>{
                resultado = await result.current.removerLembretesEmLote(filtros);
            });
            (0, _vitest.expect)(resultado).toEqual({
                removidos: 3
            });
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes', _vitest.expect.objectContaining({
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(filtros)
            }));
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: '3 lembretes removidos com sucesso'
            });
        });
    });
    (0, _vitest.describe)('executarAcao', ()=>{
        (0, _vitest.it)('deve reenviar lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'reenviar');
            });
            (0, _vitest.expect)(sucesso).toBe(true);
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _vitest.expect.objectContaining({
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    acao: 'reenviar'
                })
            }));
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete reenviado com sucesso'
            });
        });
        (0, _vitest.it)('deve marcar como enviado com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'marcar_enviado');
            });
            (0, _vitest.expect)(sucesso).toBe(true);
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete marcado como enviado'
            });
        });
        (0, _vitest.it)('deve reagendar lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const novaData = new Date(Date.now() + 24 * 60 * 60 * 1000);
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'reagendar', {
                    novaData
                });
            });
            (0, _vitest.expect)(sucesso).toBe(true);
            (0, _vitest.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _vitest.expect.objectContaining({
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    acao: 'reagendar',
                    novaData: novaData.toISOString()
                })
            }));
            (0, _vitest.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete reagendado com sucesso'
            });
        });
    });
    (0, _vitest.describe)('estados de carregamento', ()=>{
        (0, _vitest.it)('deve gerenciar estado de carregamento corretamente', async ()=>{
            let resolvePromise;
            const promise = new Promise((resolve)=>{
                resolvePromise = resolve;
            });
            mockFetch.mockReturnValueOnce(promise);
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            // Iniciar busca
            (0, _react.act)(()=>{
                result.current.buscarLembretes();
            });
            // Verificar que está carregando
            (0, _vitest.expect)(result.current.carregando).toBe(true);
            // Resolver promise
            await (0, _react.act)(async ()=>{
                resolvePromise({
                    ok: true,
                    json: async ()=>mockResultadoLembretes
                });
            });
            // Verificar que não está mais carregando
            (0, _vitest.expect)(result.current.carregando).toBe(false);
        });
    });
    (0, _vitest.describe)('paginação', ()=>{
        (0, _vitest.it)('deve gerenciar paginação corretamente', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...mockResultadoLembretes,
                        pagina: 2,
                        totalPaginas: 3
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes({}, {
                    pagina: 2,
                    porPagina: 10
                });
            });
            (0, _vitest.expect)(result.current.pagina).toBe(2);
            (0, _vitest.expect)(result.current.totalPaginas).toBe(3);
            (0, _vitest.expect)(result.current.porPagina).toBe(10);
            // Verificar se os parâmetros de paginação foram enviados
            const url = mockFetch.mock.calls[0][0];
            (0, _vitest.expect)(url).toContain('pagina=2');
            (0, _vitest.expect)(url).toContain('porPagina=10');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTmVyZXUgSnJcXERvY3VtZW50c1xcRGV2XFxuZXdcXHNyY1xcaG9va3NcXF9fdGVzdHNfX1xcdXNlLWxlbWJyZXRlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIHZpLCBiZWZvcmVFYWNoLCBhZnRlckVhY2ggfSBmcm9tICd2aXRlc3QnO1xuaW1wb3J0IHsgdXNlTGVtYnJldGVzIH0gZnJvbSAnLi4vdXNlLWxlbWJyZXRlcyc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJy4uL3VzZS10b2FzdCc7XG5cbi8vIE1vY2sgZG8gaG9vayB1c2VUb2FzdFxudmkubW9jaygnLi4vdXNlLXRvYXN0JywgKCkgPT4gKHtcbiAgdXNlVG9hc3Q6IHZpLmZuKCgpID0+ICh7XG4gICAgdG9hc3Q6IHZpLmZuKCksXG4gIH0pKSxcbn0pKTtcblxuLy8gTW9jayBkbyBmZXRjaCBnbG9iYWxcbmNvbnN0IG1vY2tGZXRjaCA9IHZpLmZuKCk7XG5nbG9iYWwuZmV0Y2ggPSBtb2NrRmV0Y2g7XG5cbi8vIE1vY2sgZG9zIGRhZG9zIGRlIHRlc3RlXG5jb25zdCBtb2NrTGVtYnJldGVzID0gW1xuICB7XG4gICAgaWQ6ICcxJyxcbiAgICB0aXBvOiAnQVZBTElBQ0FPX1BFTkRFTlRFJyBhcyBjb25zdCxcbiAgICB0aXR1bG86ICdMZW1icmV0ZSBkZSBBdmFsaWHDp8OjbycsXG4gICAgbWVuc2FnZW06ICdWb2PDqiB0ZW0gdW1hIGF2YWxpYcOnw6NvIHBlbmRlbnRlJyxcbiAgICBkYXRhRW52aW86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBlbnZpYWRvOiBmYWxzZSxcbiAgICB0ZW50YXRpdmFzOiAwLFxuICAgIHVsdGltYVRlbnRhdGl2YTogbnVsbCxcbiAgICBwcm94aW1hVGVudGF0aXZhOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICBlcnJvOiBudWxsLFxuICAgIGNyaWFkb0VtOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgYXR1YWxpemFkb0VtOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgdXN1YXJpbzoge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIG5vbWU6ICdKb8OjbyBTaWx2YScsXG4gICAgICBlbWFpbDogJ2pvYW9AdGVzdGUuY29tJyxcbiAgICB9LFxuICAgIGF2YWxpYWNhbzoge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIHRpdHVsbzogJ0F2YWxpYcOnw6NvIFExIDIwMjQnLFxuICAgICAgcHJhem86IG5ldyBEYXRlKERhdGUubm93KCkgKyA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICB9LFxuICB9LFxuXTtcblxuY29uc3QgbW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyA9IHtcbiAgbGVtYnJldGVzOiBtb2NrTGVtYnJldGVzLFxuICB0b3RhbDogMSxcbiAgcGFnaW5hOiAxLFxuICB0b3RhbFBhZ2luYXM6IDEsXG4gIHBvclBhZ2luYTogMTAsXG59O1xuXG5kZXNjcmliZSgndXNlTGVtYnJldGVzJywgKCkgPT4ge1xuICBjb25zdCBtb2NrVG9hc3QgPSB2aS5mbigpO1xuXG4gIGJlZm9yZUVhY2goKCkgPT4ge1xuICAgIHZpLmNsZWFyQWxsTW9ja3MoKTtcbiAgICAodXNlVG9hc3QgYXMgYW55KS5tb2NrUmV0dXJuVmFsdWUoeyB0b2FzdDogbW9ja1RvYXN0IH0pO1xuICB9KTtcblxuICBhZnRlckVhY2goKCkgPT4ge1xuICAgIHZpLnJlc2V0QWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2J1c2NhckxlbWJyZXRlcycsICgpID0+IHtcbiAgICBpdCgnZGV2ZSBidXNjYXIgbGVtYnJldGVzIGNvbSBzdWNlc3NvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUmVzdWx0YWRvTGVtYnJldGVzLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGVzKCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxlbWJyZXRlcykudG9FcXVhbChtb2NrTGVtYnJldGVzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJyZWdhbmRvKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgbGlkYXIgY29tIGVycm8gbmEgYnVzY2EnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnRXJybyBhbyBidXNjYXIgbGVtYnJldGVzJztcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlcygpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sZW1icmV0ZXMpLnRvRXF1YWwoW10pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnJlZ2FuZG8pLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm8pLnRvQmUoZXJyb3JNZXNzYWdlKTtcbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdFcnJvJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgYXBsaWNhciBmaWx0cm9zIGNvcnJldGFtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGNvbnN0IGZpbHRyb3MgPSB7XG4gICAgICAgIHRpcG86ICdBVkFMSUFDQU9fUEVOREVOVEUnIGFzIGNvbnN0LFxuICAgICAgICBzdGF0dXM6ICdwZW5kZW50ZScgYXMgY29uc3QsXG4gICAgICAgIHVzdWFyaW9JZDogJzEnLFxuICAgICAgICBhdmFsaWFjYW9JZDogJzEnLFxuICAgICAgICBkYXRhSW5pY2lvOiBuZXcgRGF0ZSgnMjAyNC0wMS0wMScpLFxuICAgICAgICBkYXRhRmltOiBuZXcgRGF0ZSgnMjAyNC0xMi0zMScpLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGVzKGZpbHRyb3MpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnL2FwaS9sZW1icmV0ZXMnKSxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBWZXJpZmljYXIgc2Ugb3MgcGFyw6JtZXRyb3MgZGUgcXVlcnkgZm9yYW0gY29uc3RydcOtZG9zIGNvcnJldGFtZW50ZVxuICAgICAgY29uc3QgdXJsID0gbW9ja0ZldGNoLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBleHBlY3QodXJsKS50b0NvbnRhaW4oJ3RpcG89QVZBTElBQ0FPX1BFTkRFTlRFJyk7XG4gICAgICBleHBlY3QodXJsKS50b0NvbnRhaW4oJ3N0YXR1cz1wZW5kZW50ZScpO1xuICAgICAgZXhwZWN0KHVybCkudG9Db250YWluKCd1c3VhcmlvSWQ9MScpO1xuICAgICAgZXhwZWN0KHVybCkudG9Db250YWluKCdhdmFsaWFjYW9JZD0xJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdidXNjYXJMZW1icmV0ZScsICgpID0+IHtcbiAgICBpdCgnZGV2ZSBidXNjYXIgbGVtYnJldGUgZXNwZWPDrWZpY28gY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tMZW1icmV0ZXNbMF0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgbGVtYnJldGU7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZSA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlKCcxJyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGxlbWJyZXRlKS50b0VxdWFsKG1vY2tMZW1icmV0ZXNbMF0pO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcy8xJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgbGlkYXIgY29tIGVycm8gYW8gYnVzY2FyIGxlbWJyZXRlIGVzcGVjw61maWNvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gJ0xlbWJyZXRlIG7Do28gZW5jb250cmFkbyc7XG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgbGVtYnJldGU7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZSA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlKCc5OTknKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobGVtYnJldGUpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnRXJybycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NyaWFyTGVtYnJldGUnLCAoKSA9PiB7XG4gICAgaXQoJ2RldmUgY3JpYXIgbGVtYnJldGUgY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBub3ZvTGVtYnJldGUgPSB7XG4gICAgICAgIHRpcG86ICdMRU1CUkVURV9QRVJTT05BTElaQURPJyBhcyBjb25zdCxcbiAgICAgICAgdGl0dWxvOiAnTm92byBMZW1icmV0ZScsXG4gICAgICAgIG1lbnNhZ2VtOiAnTWVuc2FnZW0gZG8gbGVtYnJldGUnLFxuICAgICAgICBkYXRhRW52aW86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXN1YXJpb0lkOiAnMScsXG4gICAgICAgIGF2YWxpYWNhb0lkOiAnMScsXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IC4uLm5vdm9MZW1icmV0ZSwgaWQ6ICcyJyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBsZW1icmV0ZUNyZWF0ZWQ7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZUNyZWF0ZWQgPSBhd2FpdCByZXN1bHQuY3VycmVudC5jcmlhckxlbWJyZXRlKG5vdm9MZW1icmV0ZSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGxlbWJyZXRlQ3JlYXRlZCkudG9FcXVhbCh7IC4uLm5vdm9MZW1icmV0ZSwgaWQ6ICcyJyB9KTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMnLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5vdm9MZW1icmV0ZSksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnU3VjZXNzbycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTGVtYnJldGUgY3JpYWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgbGlkYXIgY29tIGVycm8gYW8gY3JpYXIgbGVtYnJldGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnRXJybyBhbyBjcmlhciBsZW1icmV0ZSc7XG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBjb25zdCBub3ZvTGVtYnJldGUgPSB7XG4gICAgICAgIHRpcG86ICdMRU1CUkVURV9QRVJTT05BTElaQURPJyBhcyBjb25zdCxcbiAgICAgICAgdGl0dWxvOiAnTm92byBMZW1icmV0ZScsXG4gICAgICAgIG1lbnNhZ2VtOiAnTWVuc2FnZW0gZG8gbGVtYnJldGUnLFxuICAgICAgICBkYXRhRW52aW86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXN1YXJpb0lkOiAnMScsXG4gICAgICB9O1xuXG4gICAgICBsZXQgbGVtYnJldGVDcmVhdGVkO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgbGVtYnJldGVDcmVhdGVkID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuY3JpYXJMZW1icmV0ZShub3ZvTGVtYnJldGUpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChsZW1icmV0ZUNyZWF0ZWQpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnRXJybycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2F0dWFsaXphckxlbWJyZXRlJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIGF0dWFsaXphciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRhZG9zQXR1YWxpemFjYW8gPSB7XG4gICAgICAgIHRpdHVsbzogJ1TDrXR1bG8gQXR1YWxpemFkbycsXG4gICAgICAgIG1lbnNhZ2VtOiAnTWVuc2FnZW0gYXR1YWxpemFkYScsXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IC4uLm1vY2tMZW1icmV0ZXNbMF0sIC4uLmRhZG9zQXR1YWxpemFjYW8gfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgbGVtYnJldGVBdHVhbGl6YWRvO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgbGVtYnJldGVBdHVhbGl6YWRvID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuYXR1YWxpemFyTGVtYnJldGUoJzEnLCBkYWRvc0F0dWFsaXphY2FvKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobGVtYnJldGVBdHVhbGl6YWRvKS50b0VxdWFsKHsgLi4ubW9ja0xlbWJyZXRlc1swXSwgLi4uZGFkb3NBdHVhbGl6YWNhbyB9KTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMvMScsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYWRvc0F0dWFsaXphY2FvKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdTdWNlc3NvJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMZW1icmV0ZSBhdHVhbGl6YWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVtb3ZlckxlbWJyZXRlJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIHJlbW92ZXIgbGVtYnJldGUgY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgc3VjZXNzbztcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN1Y2Vzc28gPSBhd2FpdCByZXN1bHQuY3VycmVudC5yZW1vdmVyTGVtYnJldGUoJzEnKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3VjZXNzbykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMvMScsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIHJlbW92aWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVtb3ZlckxlbWJyZXRlc0VtTG90ZScsICgpID0+IHtcbiAgICBpdCgnZGV2ZSByZW1vdmVyIGxlbWJyZXRlcyBlbSBsb3RlIGNvbSBzdWNlc3NvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyByZW1vdmlkb3M6IDMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBjb25zdCBmaWx0cm9zID0ge1xuICAgICAgICBpZHM6IFsnMScsICcyJywgJzMnXSxcbiAgICAgIH07XG5cbiAgICAgIGxldCByZXN1bHRhZG87XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXN1bHRhZG8gPSBhd2FpdCByZXN1bHQuY3VycmVudC5yZW1vdmVyTGVtYnJldGVzRW1Mb3RlKGZpbHRyb3MpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRhZG8pLnRvRXF1YWwoeyByZW1vdmlkb3M6IDMgfSk7XG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJy9hcGkvbGVtYnJldGVzJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZpbHRyb3MpLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJzMgbGVtYnJldGVzIHJlbW92aWRvcyBjb20gc3VjZXNzbycsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2V4ZWN1dGFyQWNhbycsICgpID0+IHtcbiAgICBpdCgnZGV2ZSByZWVudmlhciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBzdWNlc3NvO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgc3VjZXNzbyA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmV4ZWN1dGFyQWNhbygnMScsICdyZWVudmlhcicpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzdWNlc3NvKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcy8xJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY2FvOiAncmVlbnZpYXInIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIHJlZW52aWFkbyBjb20gc3VjZXNzbycsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZlIG1hcmNhciBjb21vIGVudmlhZG8gY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgc3VjZXNzbztcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN1Y2Vzc28gPSBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRhckFjYW8oJzEnLCAnbWFyY2FyX2VudmlhZG8nKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3VjZXNzbykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdTdWNlc3NvJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMZW1icmV0ZSBtYXJjYWRvIGNvbW8gZW52aWFkbycsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZlIHJlYWdlbmRhciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGNvbnN0IG5vdmFEYXRhID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuXG4gICAgICBsZXQgc3VjZXNzbztcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN1Y2Vzc28gPSBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRhckFjYW8oJzEnLCAncmVhZ2VuZGFyJywgeyBub3ZhRGF0YSB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3VjZXNzbykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMvMScsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYWNhbzogJ3JlYWdlbmRhcicsIG5vdmFEYXRhOiBub3ZhRGF0YS50b0lTT1N0cmluZygpIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIHJlYWdlbmRhZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdlc3RhZG9zIGRlIGNhcnJlZ2FtZW50bycsICgpID0+IHtcbiAgICBpdCgnZGV2ZSBnZXJlbmNpYXIgZXN0YWRvIGRlIGNhcnJlZ2FtZW50byBjb3JyZXRhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVzb2x2ZVByb21pc2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkO1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1JldHVyblZhbHVlT25jZShwcm9taXNlKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICAvLyBJbmljaWFyIGJ1c2NhXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5idXNjYXJMZW1icmV0ZXMoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIGVzdMOhIGNhcnJlZ2FuZG9cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJyZWdhbmRvKS50b0JlKHRydWUpO1xuXG4gICAgICAvLyBSZXNvbHZlciBwcm9taXNlXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXNvbHZlUHJvbWlzZSEoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tSZXN1bHRhZG9MZW1icmV0ZXMsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgbsOjbyBlc3TDoSBtYWlzIGNhcnJlZ2FuZG9cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJyZWdhbmRvKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3BhZ2luYcOnw6NvJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIGdlcmVuY2lhciBwYWdpbmHDp8OjbyBjb3JyZXRhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgLi4ubW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyxcbiAgICAgICAgICBwYWdpbmE6IDIsXG4gICAgICAgICAgdG90YWxQYWdpbmFzOiAzLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlcyh7fSwgeyBwYWdpbmE6IDIsIHBvclBhZ2luYTogMTAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnBhZ2luYSkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbFBhZ2luYXMpLnRvQmUoMyk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucG9yUGFnaW5hKS50b0JlKDEwKTtcblxuICAgICAgLy8gVmVyaWZpY2FyIHNlIG9zIHBhcsOibWV0cm9zIGRlIHBhZ2luYcOnw6NvIGZvcmFtIGVudmlhZG9zXG4gICAgICBjb25zdCB1cmwgPSBtb2NrRmV0Y2gubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGV4cGVjdCh1cmwpLnRvQ29udGFpbigncGFnaW5hPTInKTtcbiAgICAgIGV4cGVjdCh1cmwpLnRvQ29udGFpbigncG9yUGFnaW5hPTEwJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbInZpIiwibW9jayIsInVzZVRvYXN0IiwiZm4iLCJ0b2FzdCIsIm1vY2tGZXRjaCIsImdsb2JhbCIsImZldGNoIiwibW9ja0xlbWJyZXRlcyIsImlkIiwidGlwbyIsInRpdHVsbyIsIm1lbnNhZ2VtIiwiZGF0YUVudmlvIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiZW52aWFkbyIsInRlbnRhdGl2YXMiLCJ1bHRpbWFUZW50YXRpdmEiLCJwcm94aW1hVGVudGF0aXZhIiwibm93IiwiZXJybyIsImNyaWFkb0VtIiwiYXR1YWxpemFkb0VtIiwidXN1YXJpbyIsIm5vbWUiLCJlbWFpbCIsImF2YWxpYWNhbyIsInByYXpvIiwibW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyIsImxlbWJyZXRlcyIsInRvdGFsIiwicGFnaW5hIiwidG90YWxQYWdpbmFzIiwicG9yUGFnaW5hIiwiZGVzY3JpYmUiLCJtb2NrVG9hc3QiLCJiZWZvcmVFYWNoIiwiY2xlYXJBbGxNb2NrcyIsIm1vY2tSZXR1cm5WYWx1ZSIsImFmdGVyRWFjaCIsInJlc2V0QWxsTW9ja3MiLCJpdCIsIm1vY2tSZXNvbHZlZFZhbHVlT25jZSIsIm9rIiwianNvbiIsInJlc3VsdCIsInJlbmRlckhvb2siLCJ1c2VMZW1icmV0ZXMiLCJhY3QiLCJjdXJyZW50IiwiYnVzY2FyTGVtYnJldGVzIiwiZXhwZWN0IiwidG9FcXVhbCIsInRvQmUiLCJjYXJyZWdhbmRvIiwidG9CZU51bGwiLCJlcnJvck1lc3NhZ2UiLCJtb2NrUmVqZWN0ZWRWYWx1ZU9uY2UiLCJFcnJvciIsInRvSGF2ZUJlZW5DYWxsZWRXaXRoIiwidGl0bGUiLCJkZXNjcmlwdGlvbiIsInZhcmlhbnQiLCJmaWx0cm9zIiwic3RhdHVzIiwidXN1YXJpb0lkIiwiYXZhbGlhY2FvSWQiLCJkYXRhSW5pY2lvIiwiZGF0YUZpbSIsInN0cmluZ0NvbnRhaW5pbmciLCJvYmplY3RDb250YWluaW5nIiwibWV0aG9kIiwidXJsIiwiY2FsbHMiLCJ0b0NvbnRhaW4iLCJsZW1icmV0ZSIsImJ1c2NhckxlbWJyZXRlIiwibm92b0xlbWJyZXRlIiwibGVtYnJldGVDcmVhdGVkIiwiY3JpYXJMZW1icmV0ZSIsImhlYWRlcnMiLCJib2R5IiwiSlNPTiIsInN0cmluZ2lmeSIsImRhZG9zQXR1YWxpemFjYW8iLCJsZW1icmV0ZUF0dWFsaXphZG8iLCJhdHVhbGl6YXJMZW1icmV0ZSIsInN1Y2Nlc3MiLCJzdWNlc3NvIiwicmVtb3ZlckxlbWJyZXRlIiwicmVtb3ZpZG9zIiwiaWRzIiwicmVzdWx0YWRvIiwicmVtb3ZlckxlbWJyZXRlc0VtTG90ZSIsImV4ZWN1dGFyQWNhbyIsImFjYW8iLCJub3ZhRGF0YSIsInJlc29sdmVQcm9taXNlIiwicHJvbWlzZSIsIlByb21pc2UiLCJyZXNvbHZlIiwibW9ja1JldHVyblZhbHVlT25jZSJdLCJtYXBwaW5ncyI6Ijs7Ozt1QkFBZ0M7d0JBQ2dDOzhCQUNuQzswQkFDSjtBQUV6Qix3QkFBd0I7QUFDeEJBLFVBQUUsQ0FBQ0MsSUFBSSxDQUFDLGdCQUFnQixJQUFPLENBQUE7UUFDN0JDLFVBQVVGLFVBQUUsQ0FBQ0csRUFBRSxDQUFDLElBQU8sQ0FBQTtnQkFDckJDLE9BQU9KLFVBQUUsQ0FBQ0csRUFBRTtZQUNkLENBQUE7SUFDRixDQUFBO0FBRUEsdUJBQXVCO0FBQ3ZCLE1BQU1FLFlBQVlMLFVBQUUsQ0FBQ0csRUFBRTtBQUN2QkcsT0FBT0MsS0FBSyxHQUFHRjtBQUVmLDBCQUEwQjtBQUMxQixNQUFNRyxnQkFBZ0I7SUFDcEI7UUFDRUMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7UUFDakNDLFNBQVM7UUFDVEMsWUFBWTtRQUNa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