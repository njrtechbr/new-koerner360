3a5a615d1b1113c773be8b07a37203b4
"use strict";
// Mock do hook useToast
jest.mock('../use-toast', ()=>({
        useToast: vi.fn(()=>({
                toast: jest.fn()
            }))
    }));
Object.defineProperty(exports, "__esModule", {
    value: true
});
const _react = require("@testing-library/react");
const _globals = require("@jest/globals");
const _uselembretes = require("../use-lembretes");
const _usetoast = require("../use-toast");
// Mock do fetch global
const mockFetch = jest.fn();
global.fetch = mockFetch;
// Mock dos dados de teste
const mockLembretes = [
    {
        id: '1',
        tipo: 'AVALIACAO_PENDENTE',
        titulo: 'Lembrete de Avaliação',
        mensagem: 'Você tem uma avaliação pendente',
        dataEnvio: new Date().toISOString(),
        enviado: false,
        tentativas: 0,
        ultimaTentativa: null,
        proximaTentativa: new Date(Date.now() + 24 * 60 * 60 * 1000).toISOString(),
        erro: null,
        criadoEm: new Date().toISOString(),
        atualizadoEm: new Date().toISOString(),
        usuario: {
            id: '1',
            nome: 'João Silva',
            email: 'joao@teste.com'
        },
        avaliacao: {
            id: '1',
            titulo: 'Avaliação Q1 2024',
            prazo: new Date(Date.now() + 7 * 24 * 60 * 60 * 1000).toISOString()
        }
    }
];
const mockResultadoLembretes = {
    lembretes: mockLembretes,
    total: 1,
    pagina: 1,
    totalPaginas: 1,
    porPagina: 10
};
(0, _globals.describe)('useLembretes', ()=>{
    const mockToast = jest.fn();
    (0, _globals.beforeEach)(()=>{
        jest.clearAllMocks();
        _usetoast.useToast.mockReturnValue({
            toast: mockToast
        });
    });
    (0, _globals.afterEach)(()=>{
        jest.resetAllMocks();
    });
    (0, _globals.describe)('buscarLembretes', ()=>{
        (0, _globals.it)('deve buscar lembretes com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockResultadoLembretes
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes();
            });
            (0, _globals.expect)(result.current.lembretes).toEqual(mockLembretes);
            (0, _globals.expect)(result.current.total).toBe(1);
            (0, _globals.expect)(result.current.carregando).toBe(false);
            (0, _globals.expect)(result.current.erro).toBeNull();
        });
        (0, _globals.it)('deve lidar com erro na busca', async ()=>{
            const errorMessage = 'Erro ao buscar lembretes';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes();
            });
            (0, _globals.expect)(result.current.lembretes).toEqual([]);
            (0, _globals.expect)(result.current.carregando).toBe(false);
            (0, _globals.expect)(result.current.erro).toBe(errorMessage);
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
        (0, _globals.it)('deve aplicar filtros corretamente', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockResultadoLembretes
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const filtros = {
                tipo: 'AVALIACAO_PENDENTE',
                status: 'pendente',
                usuarioId: '1',
                avaliacaoId: '1',
                dataInicio: new Date('2024-01-01'),
                dataFim: new Date('2024-12-31')
            };
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes(filtros);
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith(_globals.expect.stringContaining('/api/lembretes'), _globals.expect.objectContaining({
                method: 'GET'
            }));
            // Verificar se os parâmetros de query foram construídos corretamente
            const url = mockFetch.mock.calls[0][0];
            (0, _globals.expect)(url).toContain('tipo=AVALIACAO_PENDENTE');
            (0, _globals.expect)(url).toContain('status=pendente');
            (0, _globals.expect)(url).toContain('usuarioId=1');
            (0, _globals.expect)(url).toContain('avaliacaoId=1');
        });
    });
    (0, _globals.describe)('buscarLembrete', ()=>{
        (0, _globals.it)('deve buscar lembrete específico com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>mockLembretes[0]
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembrete;
            await (0, _react.act)(async ()=>{
                lembrete = await result.current.buscarLembrete('1');
            });
            (0, _globals.expect)(lembrete).toEqual(mockLembretes[0]);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'GET'
            }));
        });
        (0, _globals.it)('deve lidar com erro ao buscar lembrete específico', async ()=>{
            const errorMessage = 'Lembrete não encontrado';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembrete;
            await (0, _react.act)(async ()=>{
                lembrete = await result.current.buscarLembrete('999');
            });
            (0, _globals.expect)(lembrete).toBeNull();
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
    });
    (0, _globals.describe)('criarLembrete', ()=>{
        (0, _globals.it)('deve criar lembrete com sucesso', async ()=>{
            const novoLembrete = {
                tipo: 'LEMBRETE_PERSONALIZADO',
                titulo: 'Novo Lembrete',
                mensagem: 'Mensagem do lembrete',
                dataEnvio: new Date().toISOString(),
                usuarioId: '1',
                avaliacaoId: '1'
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...novoLembrete,
                        id: '2'
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembreteCreated;
            await (0, _react.act)(async ()=>{
                lembreteCreated = await result.current.criarLembrete(novoLembrete);
            });
            (0, _globals.expect)(lembreteCreated).toEqual({
                ...novoLembrete,
                id: '2'
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes', _globals.expect.objectContaining({
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(novoLembrete)
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete criado com sucesso'
            });
        });
        (0, _globals.it)('deve lidar com erro ao criar lembrete', async ()=>{
            const errorMessage = 'Erro ao criar lembrete';
            mockFetch.mockRejectedValueOnce(new Error(errorMessage));
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const novoLembrete = {
                tipo: 'LEMBRETE_PERSONALIZADO',
                titulo: 'Novo Lembrete',
                mensagem: 'Mensagem do lembrete',
                dataEnvio: new Date().toISOString(),
                usuarioId: '1'
            };
            let lembreteCreated;
            await (0, _react.act)(async ()=>{
                lembreteCreated = await result.current.criarLembrete(novoLembrete);
            });
            (0, _globals.expect)(lembreteCreated).toBeNull();
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Erro',
                description: errorMessage,
                variant: 'destructive'
            });
        });
    });
    (0, _globals.describe)('atualizarLembrete', ()=>{
        (0, _globals.it)('deve atualizar lembrete com sucesso', async ()=>{
            const dadosAtualizacao = {
                titulo: 'Título Atualizado',
                mensagem: 'Mensagem atualizada'
            };
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...mockLembretes[0],
                        ...dadosAtualizacao
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let lembreteAtualizado;
            await (0, _react.act)(async ()=>{
                lembreteAtualizado = await result.current.atualizarLembrete('1', dadosAtualizacao);
            });
            (0, _globals.expect)(lembreteAtualizado).toEqual({
                ...mockLembretes[0],
                ...dadosAtualizacao
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(dadosAtualizacao)
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete atualizado com sucesso'
            });
        });
    });
    (0, _globals.describe)('removerLembrete', ()=>{
        (0, _globals.it)('deve remover lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.removerLembrete('1');
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'DELETE'
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete removido com sucesso'
            });
        });
    });
    (0, _globals.describe)('removerLembretesEmLote', ()=>{
        (0, _globals.it)('deve remover lembretes em lote com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        removidos: 3
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const filtros = {
                ids: [
                    '1',
                    '2',
                    '3'
                ]
            };
            let resultado;
            await (0, _react.act)(async ()=>{
                resultado = await result.current.removerLembretesEmLote(filtros);
            });
            (0, _globals.expect)(resultado).toEqual({
                removidos: 3
            });
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes', _globals.expect.objectContaining({
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(filtros)
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: '3 lembretes removidos com sucesso'
            });
        });
    });
    (0, _globals.describe)('executarAcao', ()=>{
        (0, _globals.it)('deve reenviar lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'reenviar');
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    acao: 'reenviar'
                })
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete reenviado com sucesso'
            });
        });
        (0, _globals.it)('deve marcar como enviado com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'marcar_enviado');
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete marcado como enviado'
            });
        });
        (0, _globals.it)('deve reagendar lembrete com sucesso', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        success: true
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            const novaData = new Date(Date.now() + 24 * 60 * 60 * 1000);
            let sucesso;
            await (0, _react.act)(async ()=>{
                sucesso = await result.current.executarAcao('1', 'reagendar', {
                    novaData
                });
            });
            (0, _globals.expect)(sucesso).toBe(true);
            (0, _globals.expect)(mockFetch).toHaveBeenCalledWith('/api/lembretes/1', _globals.expect.objectContaining({
                method: 'PATCH',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({
                    acao: 'reagendar',
                    novaData: novaData.toISOString()
                })
            }));
            (0, _globals.expect)(mockToast).toHaveBeenCalledWith({
                title: 'Sucesso',
                description: 'Lembrete reagendado com sucesso'
            });
        });
    });
    (0, _globals.describe)('estados de carregamento', ()=>{
        (0, _globals.it)('deve gerenciar estado de carregamento corretamente', async ()=>{
            let resolvePromise;
            const promise = new Promise((resolve)=>{
                resolvePromise = resolve;
            });
            mockFetch.mockReturnValueOnce(promise);
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            // Iniciar busca
            (0, _react.act)(()=>{
                result.current.buscarLembretes();
            });
            // Verificar que está carregando
            (0, _globals.expect)(result.current.carregando).toBe(true);
            // Resolver promise
            await (0, _react.act)(async ()=>{
                resolvePromise({
                    ok: true,
                    json: async ()=>mockResultadoLembretes
                });
            });
            // Verificar que não está mais carregando
            (0, _globals.expect)(result.current.carregando).toBe(false);
        });
    });
    (0, _globals.describe)('paginação', ()=>{
        (0, _globals.it)('deve gerenciar paginação corretamente', async ()=>{
            mockFetch.mockResolvedValueOnce({
                ok: true,
                json: async ()=>({
                        ...mockResultadoLembretes,
                        pagina: 2,
                        totalPaginas: 3
                    })
            });
            const { result } = (0, _react.renderHook)(()=>(0, _uselembretes.useLembretes)());
            await (0, _react.act)(async ()=>{
                await result.current.buscarLembretes({}, {
                    pagina: 2,
                    porPagina: 10
                });
            });
            (0, _globals.expect)(result.current.pagina).toBe(2);
            (0, _globals.expect)(result.current.totalPaginas).toBe(3);
            (0, _globals.expect)(result.current.porPagina).toBe(10);
            // Verificar se os parâmetros de paginação foram enviados
            const url = mockFetch.mock.calls[0][0];
            (0, _globals.expect)(url).toContain('pagina=2');
            (0, _globals.expect)(url).toContain('porPagina=10');
        });
    });
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcTmVyZXUgSnJcXERvY3VtZW50c1xcRGV2XFxuZXdcXHNyY1xcaG9va3NcXF9fdGVzdHNfX1xcdXNlLWxlbWJyZXRlcy50ZXN0LnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHJlbmRlckhvb2ssIGFjdCB9IGZyb20gJ0B0ZXN0aW5nLWxpYnJhcnkvcmVhY3QnO1xuaW1wb3J0IHsgZGVzY3JpYmUsIGl0LCBleHBlY3QsIGJlZm9yZUVhY2gsIGFmdGVyRWFjaCB9IGZyb20gJ0BqZXN0L2dsb2JhbHMnO1xuaW1wb3J0IHsgdXNlTGVtYnJldGVzIH0gZnJvbSAnLi4vdXNlLWxlbWJyZXRlcyc7XG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJy4uL3VzZS10b2FzdCc7XG5cbi8vIE1vY2sgZG8gaG9vayB1c2VUb2FzdFxuamVzdC5tb2NrKCcuLi91c2UtdG9hc3QnLCAoKSA9PiAoe1xuICB1c2VUb2FzdDogdmkuZm4oKCkgPT4gKHtcbiAgICB0b2FzdDogamVzdC5mbigpLFxuICB9KSksXG59KSk7XG5cbi8vIE1vY2sgZG8gZmV0Y2ggZ2xvYmFsXG5jb25zdCBtb2NrRmV0Y2ggPSBqZXN0LmZuKCk7XG5nbG9iYWwuZmV0Y2ggPSBtb2NrRmV0Y2g7XG5cbi8vIE1vY2sgZG9zIGRhZG9zIGRlIHRlc3RlXG5jb25zdCBtb2NrTGVtYnJldGVzID0gW1xuICB7XG4gICAgaWQ6ICcxJyxcbiAgICB0aXBvOiAnQVZBTElBQ0FPX1BFTkRFTlRFJyBhcyBjb25zdCxcbiAgICB0aXR1bG86ICdMZW1icmV0ZSBkZSBBdmFsaWHDp8OjbycsXG4gICAgbWVuc2FnZW06ICdWb2PDqiB0ZW0gdW1hIGF2YWxpYcOnw6NvIHBlbmRlbnRlJyxcbiAgICBkYXRhRW52aW86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBlbnZpYWRvOiBmYWxzZSxcbiAgICB0ZW50YXRpdmFzOiAwLFxuICAgIHVsdGltYVRlbnRhdGl2YTogbnVsbCxcbiAgICBwcm94aW1hVGVudGF0aXZhOiBuZXcgRGF0ZShEYXRlLm5vdygpICsgMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICBlcnJvOiBudWxsLFxuICAgIGNyaWFkb0VtOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgYXR1YWxpemFkb0VtOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgdXN1YXJpbzoge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIG5vbWU6ICdKb8OjbyBTaWx2YScsXG4gICAgICBlbWFpbDogJ2pvYW9AdGVzdGUuY29tJyxcbiAgICB9LFxuICAgIGF2YWxpYWNhbzoge1xuICAgICAgaWQ6ICcxJyxcbiAgICAgIHRpdHVsbzogJ0F2YWxpYcOnw6NvIFExIDIwMjQnLFxuICAgICAgcHJhem86IG5ldyBEYXRlKERhdGUubm93KCkgKyA3ICogMjQgKiA2MCAqIDYwICogMTAwMCkudG9JU09TdHJpbmcoKSxcbiAgICB9LFxuICB9LFxuXTtcblxuY29uc3QgbW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyA9IHtcbiAgbGVtYnJldGVzOiBtb2NrTGVtYnJldGVzLFxuICB0b3RhbDogMSxcbiAgcGFnaW5hOiAxLFxuICB0b3RhbFBhZ2luYXM6IDEsXG4gIHBvclBhZ2luYTogMTAsXG59O1xuXG5kZXNjcmliZSgndXNlTGVtYnJldGVzJywgKCkgPT4ge1xuICBjb25zdCBtb2NrVG9hc3QgPSBqZXN0LmZuKCk7XG5cbiAgYmVmb3JlRWFjaCgoKSA9PiB7XG4gICAgamVzdC5jbGVhckFsbE1vY2tzKCk7XG4gICAgKHVzZVRvYXN0IGFzIGFueSkubW9ja1JldHVyblZhbHVlKHsgdG9hc3Q6IG1vY2tUb2FzdCB9KTtcbiAgfSk7XG5cbiAgYWZ0ZXJFYWNoKCgpID0+IHtcbiAgICBqZXN0LnJlc2V0QWxsTW9ja3MoKTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2J1c2NhckxlbWJyZXRlcycsICgpID0+IHtcbiAgICBpdCgnZGV2ZSBidXNjYXIgbGVtYnJldGVzIGNvbSBzdWNlc3NvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiBtb2NrUmVzdWx0YWRvTGVtYnJldGVzLFxuICAgICAgfSk7XG5cbiAgICAgIGNvbnN0IHsgcmVzdWx0IH0gPSByZW5kZXJIb29rKCgpID0+IHVzZUxlbWJyZXRlcygpKTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGVzKCk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmxlbWJyZXRlcykudG9FcXVhbChtb2NrTGVtYnJldGVzKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbCkudG9CZSgxKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJyZWdhbmRvKS50b0JlKGZhbHNlKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5lcnJvKS50b0JlTnVsbCgpO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgbGlkYXIgY29tIGVycm8gbmEgYnVzY2EnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnRXJybyBhbyBidXNjYXIgbGVtYnJldGVzJztcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVqZWN0ZWRWYWx1ZU9uY2UobmV3IEVycm9yKGVycm9yTWVzc2FnZSkpO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlcygpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5sZW1icmV0ZXMpLnRvRXF1YWwoW10pO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmNhcnJlZ2FuZG8pLnRvQmUoZmFsc2UpO1xuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LmVycm8pLnRvQmUoZXJyb3JNZXNzYWdlKTtcbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdFcnJvJyxcbiAgICAgICAgZGVzY3JpcHRpb246IGVycm9yTWVzc2FnZSxcbiAgICAgICAgdmFyaWFudDogJ2Rlc3RydWN0aXZlJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgYXBsaWNhciBmaWx0cm9zIGNvcnJldGFtZW50ZScsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gbW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGNvbnN0IGZpbHRyb3MgPSB7XG4gICAgICAgIHRpcG86ICdBVkFMSUFDQU9fUEVOREVOVEUnIGFzIGNvbnN0LFxuICAgICAgICBzdGF0dXM6ICdwZW5kZW50ZScgYXMgY29uc3QsXG4gICAgICAgIHVzdWFyaW9JZDogJzEnLFxuICAgICAgICBhdmFsaWFjYW9JZDogJzEnLFxuICAgICAgICBkYXRhSW5pY2lvOiBuZXcgRGF0ZSgnMjAyNC0wMS0wMScpLFxuICAgICAgICBkYXRhRmltOiBuZXcgRGF0ZSgnMjAyNC0xMi0zMScpLFxuICAgICAgfTtcblxuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgcmVzdWx0LmN1cnJlbnQuYnVzY2FyTGVtYnJldGVzKGZpbHRyb3MpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICBleHBlY3Quc3RyaW5nQ29udGFpbmluZygnL2FwaS9sZW1icmV0ZXMnKSxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICAvLyBWZXJpZmljYXIgc2Ugb3MgcGFyw6JtZXRyb3MgZGUgcXVlcnkgZm9yYW0gY29uc3RydcOtZG9zIGNvcnJldGFtZW50ZVxuICAgICAgY29uc3QgdXJsID0gbW9ja0ZldGNoLm1vY2suY2FsbHNbMF1bMF07XG4gICAgICBleHBlY3QodXJsKS50b0NvbnRhaW4oJ3RpcG89QVZBTElBQ0FPX1BFTkRFTlRFJyk7XG4gICAgICBleHBlY3QodXJsKS50b0NvbnRhaW4oJ3N0YXR1cz1wZW5kZW50ZScpO1xuICAgICAgZXhwZWN0KHVybCkudG9Db250YWluKCd1c3VhcmlvSWQ9MScpO1xuICAgICAgZXhwZWN0KHVybCkudG9Db250YWluKCdhdmFsaWFjYW9JZD0xJyk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdidXNjYXJMZW1icmV0ZScsICgpID0+IHtcbiAgICBpdCgnZGV2ZSBidXNjYXIgbGVtYnJldGUgZXNwZWPDrWZpY28gY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tMZW1icmV0ZXNbMF0sXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgbGVtYnJldGU7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZSA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlKCcxJyk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGxlbWJyZXRlKS50b0VxdWFsKG1vY2tMZW1icmV0ZXNbMF0pO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcy8xJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ0dFVCcsXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgbGlkYXIgY29tIGVycm8gYW8gYnVzY2FyIGxlbWJyZXRlIGVzcGVjw61maWNvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gJ0xlbWJyZXRlIG7Do28gZW5jb250cmFkbyc7XG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgbGVtYnJldGU7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZSA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlKCc5OTknKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobGVtYnJldGUpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnRXJybycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2NyaWFyTGVtYnJldGUnLCAoKSA9PiB7XG4gICAgaXQoJ2RldmUgY3JpYXIgbGVtYnJldGUgY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBub3ZvTGVtYnJldGUgPSB7XG4gICAgICAgIHRpcG86ICdMRU1CUkVURV9QRVJTT05BTElaQURPJyBhcyBjb25zdCxcbiAgICAgICAgdGl0dWxvOiAnTm92byBMZW1icmV0ZScsXG4gICAgICAgIG1lbnNhZ2VtOiAnTWVuc2FnZW0gZG8gbGVtYnJldGUnLFxuICAgICAgICBkYXRhRW52aW86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXN1YXJpb0lkOiAnMScsXG4gICAgICAgIGF2YWxpYWNhb0lkOiAnMScsXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IC4uLm5vdm9MZW1icmV0ZSwgaWQ6ICcyJyB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBsZW1icmV0ZUNyZWF0ZWQ7XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICBsZW1icmV0ZUNyZWF0ZWQgPSBhd2FpdCByZXN1bHQuY3VycmVudC5jcmlhckxlbWJyZXRlKG5vdm9MZW1icmV0ZSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KGxlbWJyZXRlQ3JlYXRlZCkudG9FcXVhbCh7IC4uLm5vdm9MZW1icmV0ZSwgaWQ6ICcyJyB9KTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMnLFxuICAgICAgICBleHBlY3Qub2JqZWN0Q29udGFpbmluZyh7XG4gICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5vdm9MZW1icmV0ZSksXG4gICAgICAgIH0pXG4gICAgICApO1xuXG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnU3VjZXNzbycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAnTGVtYnJldGUgY3JpYWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgaXQoJ2RldmUgbGlkYXIgY29tIGVycm8gYW8gY3JpYXIgbGVtYnJldGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnRXJybyBhbyBjcmlhciBsZW1icmV0ZSc7XG4gICAgICBtb2NrRmV0Y2gubW9ja1JlamVjdGVkVmFsdWVPbmNlKG5ldyBFcnJvcihlcnJvck1lc3NhZ2UpKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBjb25zdCBub3ZvTGVtYnJldGUgPSB7XG4gICAgICAgIHRpcG86ICdMRU1CUkVURV9QRVJTT05BTElaQURPJyBhcyBjb25zdCxcbiAgICAgICAgdGl0dWxvOiAnTm92byBMZW1icmV0ZScsXG4gICAgICAgIG1lbnNhZ2VtOiAnTWVuc2FnZW0gZG8gbGVtYnJldGUnLFxuICAgICAgICBkYXRhRW52aW86IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICAgICAgdXN1YXJpb0lkOiAnMScsXG4gICAgICB9O1xuXG4gICAgICBsZXQgbGVtYnJldGVDcmVhdGVkO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgbGVtYnJldGVDcmVhdGVkID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuY3JpYXJMZW1icmV0ZShub3ZvTGVtYnJldGUpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChsZW1icmV0ZUNyZWF0ZWQpLnRvQmVOdWxsKCk7XG4gICAgICBleHBlY3QobW9ja1RvYXN0KS50b0hhdmVCZWVuQ2FsbGVkV2l0aCh7XG4gICAgICAgIHRpdGxlOiAnRXJybycsXG4gICAgICAgIGRlc2NyaXB0aW9uOiBlcnJvck1lc3NhZ2UsXG4gICAgICAgIHZhcmlhbnQ6ICdkZXN0cnVjdGl2ZScsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2F0dWFsaXphckxlbWJyZXRlJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIGF0dWFsaXphciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGRhZG9zQXR1YWxpemFjYW8gPSB7XG4gICAgICAgIHRpdHVsbzogJ1TDrXR1bG8gQXR1YWxpemFkbycsXG4gICAgICAgIG1lbnNhZ2VtOiAnTWVuc2FnZW0gYXR1YWxpemFkYScsXG4gICAgICB9O1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IC4uLm1vY2tMZW1icmV0ZXNbMF0sIC4uLmRhZG9zQXR1YWxpemFjYW8gfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgbGVtYnJldGVBdHVhbGl6YWRvO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgbGVtYnJldGVBdHVhbGl6YWRvID0gYXdhaXQgcmVzdWx0LmN1cnJlbnQuYXR1YWxpemFyTGVtYnJldGUoJzEnLCBkYWRvc0F0dWFsaXphY2FvKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3QobGVtYnJldGVBdHVhbGl6YWRvKS50b0VxdWFsKHsgLi4ubW9ja0xlbWJyZXRlc1swXSwgLi4uZGFkb3NBdHVhbGl6YWNhbyB9KTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMvMScsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXG4gICAgICAgICAgfSxcbiAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkYWRvc0F0dWFsaXphY2FvKSxcbiAgICAgICAgfSlcbiAgICAgICk7XG5cbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdTdWNlc3NvJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMZW1icmV0ZSBhdHVhbGl6YWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVtb3ZlckxlbWJyZXRlJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIHJlbW92ZXIgbGVtYnJldGUgY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgc3VjZXNzbztcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN1Y2Vzc28gPSBhd2FpdCByZXN1bHQuY3VycmVudC5yZW1vdmVyTGVtYnJldGUoJzEnKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3VjZXNzbykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMvMScsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIHJlbW92aWRvIGNvbSBzdWNlc3NvJyxcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBkZXNjcmliZSgncmVtb3ZlckxlbWJyZXRlc0VtTG90ZScsICgpID0+IHtcbiAgICBpdCgnZGV2ZSByZW1vdmVyIGxlbWJyZXRlcyBlbSBsb3RlIGNvbSBzdWNlc3NvJywgYXN5bmMgKCkgPT4ge1xuICAgICAgbW9ja0ZldGNoLm1vY2tSZXNvbHZlZFZhbHVlT25jZSh7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBqc29uOiBhc3luYyAoKSA9PiAoeyByZW1vdmlkb3M6IDMgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBjb25zdCBmaWx0cm9zID0ge1xuICAgICAgICBpZHM6IFsnMScsICcyJywgJzMnXSxcbiAgICAgIH07XG5cbiAgICAgIGxldCByZXN1bHRhZG87XG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXN1bHRhZG8gPSBhd2FpdCByZXN1bHQuY3VycmVudC5yZW1vdmVyTGVtYnJldGVzRW1Mb3RlKGZpbHRyb3MpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChyZXN1bHRhZG8pLnRvRXF1YWwoeyByZW1vdmlkb3M6IDMgfSk7XG4gICAgICBleHBlY3QobW9ja0ZldGNoKS50b0hhdmVCZWVuQ2FsbGVkV2l0aChcbiAgICAgICAgJy9hcGkvbGVtYnJldGVzJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZpbHRyb3MpLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJzMgbGVtYnJldGVzIHJlbW92aWRvcyBjb20gc3VjZXNzbycsXG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ2V4ZWN1dGFyQWNhbycsICgpID0+IHtcbiAgICBpdCgnZGV2ZSByZWVudmlhciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGxldCBzdWNlc3NvO1xuICAgICAgYXdhaXQgYWN0KGFzeW5jICgpID0+IHtcbiAgICAgICAgc3VjZXNzbyA9IGF3YWl0IHJlc3VsdC5jdXJyZW50LmV4ZWN1dGFyQWNhbygnMScsICdyZWVudmlhcicpO1xuICAgICAgfSk7XG5cbiAgICAgIGV4cGVjdChzdWNlc3NvKS50b0JlKHRydWUpO1xuICAgICAgZXhwZWN0KG1vY2tGZXRjaCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoXG4gICAgICAgICcvYXBpL2xlbWJyZXRlcy8xJyxcbiAgICAgICAgZXhwZWN0Lm9iamVjdENvbnRhaW5pbmcoe1xuICAgICAgICAgIG1ldGhvZDogJ1BBVENIJyxcbiAgICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBhY2FvOiAncmVlbnZpYXInIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIHJlZW52aWFkbyBjb20gc3VjZXNzbycsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZlIG1hcmNhciBjb21vIGVudmlhZG8gY29tIHN1Y2Vzc28nLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7IHN1Y2Nlc3M6IHRydWUgfSksXG4gICAgICB9KTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICBsZXQgc3VjZXNzbztcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN1Y2Vzc28gPSBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRhckFjYW8oJzEnLCAnbWFyY2FyX2VudmlhZG8nKTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3VjZXNzbykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrVG9hc3QpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKHtcbiAgICAgICAgdGl0bGU6ICdTdWNlc3NvJyxcbiAgICAgICAgZGVzY3JpcHRpb246ICdMZW1icmV0ZSBtYXJjYWRvIGNvbW8gZW52aWFkbycsXG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGl0KCdkZXZlIHJlYWdlbmRhciBsZW1icmV0ZSBjb20gc3VjZXNzbycsIGFzeW5jICgpID0+IHtcbiAgICAgIG1vY2tGZXRjaC5tb2NrUmVzb2x2ZWRWYWx1ZU9uY2Uoe1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAganNvbjogYXN5bmMgKCkgPT4gKHsgc3VjY2VzczogdHJ1ZSB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGNvbnN0IG5vdmFEYXRhID0gbmV3IERhdGUoRGF0ZS5ub3coKSArIDI0ICogNjAgKiA2MCAqIDEwMDApO1xuXG4gICAgICBsZXQgc3VjZXNzbztcbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIHN1Y2Vzc28gPSBhd2FpdCByZXN1bHQuY3VycmVudC5leGVjdXRhckFjYW8oJzEnLCAncmVhZ2VuZGFyJywgeyBub3ZhRGF0YSB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBleHBlY3Qoc3VjZXNzbykudG9CZSh0cnVlKTtcbiAgICAgIGV4cGVjdChtb2NrRmV0Y2gpLnRvSGF2ZUJlZW5DYWxsZWRXaXRoKFxuICAgICAgICAnL2FwaS9sZW1icmV0ZXMvMScsXG4gICAgICAgIGV4cGVjdC5vYmplY3RDb250YWluaW5nKHtcbiAgICAgICAgICBtZXRob2Q6ICdQQVRDSCcsXG4gICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICB9LFxuICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYWNhbzogJ3JlYWdlbmRhcicsIG5vdmFEYXRhOiBub3ZhRGF0YS50b0lTT1N0cmluZygpIH0pLFxuICAgICAgICB9KVxuICAgICAgKTtcblxuICAgICAgZXhwZWN0KG1vY2tUb2FzdCkudG9IYXZlQmVlbkNhbGxlZFdpdGgoe1xuICAgICAgICB0aXRsZTogJ1N1Y2Vzc28nLFxuICAgICAgICBkZXNjcmlwdGlvbjogJ0xlbWJyZXRlIHJlYWdlbmRhZG8gY29tIHN1Y2Vzc28nLFxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRlc2NyaWJlKCdlc3RhZG9zIGRlIGNhcnJlZ2FtZW50bycsICgpID0+IHtcbiAgICBpdCgnZGV2ZSBnZXJlbmNpYXIgZXN0YWRvIGRlIGNhcnJlZ2FtZW50byBjb3JyZXRhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBsZXQgcmVzb2x2ZVByb21pc2U6ICh2YWx1ZTogYW55KSA9PiB2b2lkO1xuICAgICAgY29uc3QgcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgIHJlc29sdmVQcm9taXNlID0gcmVzb2x2ZTtcbiAgICAgIH0pO1xuXG4gICAgICBtb2NrRmV0Y2gubW9ja1JldHVyblZhbHVlT25jZShwcm9taXNlKTtcblxuICAgICAgY29uc3QgeyByZXN1bHQgfSA9IHJlbmRlckhvb2soKCkgPT4gdXNlTGVtYnJldGVzKCkpO1xuXG4gICAgICAvLyBJbmljaWFyIGJ1c2NhXG4gICAgICBhY3QoKCkgPT4ge1xuICAgICAgICByZXN1bHQuY3VycmVudC5idXNjYXJMZW1icmV0ZXMoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBWZXJpZmljYXIgcXVlIGVzdMOhIGNhcnJlZ2FuZG9cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJyZWdhbmRvKS50b0JlKHRydWUpO1xuXG4gICAgICAvLyBSZXNvbHZlciBwcm9taXNlXG4gICAgICBhd2FpdCBhY3QoYXN5bmMgKCkgPT4ge1xuICAgICAgICByZXNvbHZlUHJvbWlzZSEoe1xuICAgICAgICAgIG9rOiB0cnVlLFxuICAgICAgICAgIGpzb246IGFzeW5jICgpID0+IG1vY2tSZXN1bHRhZG9MZW1icmV0ZXMsXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFZlcmlmaWNhciBxdWUgbsOjbyBlc3TDoSBtYWlzIGNhcnJlZ2FuZG9cbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC5jYXJyZWdhbmRvKS50b0JlKGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgZGVzY3JpYmUoJ3BhZ2luYcOnw6NvJywgKCkgPT4ge1xuICAgIGl0KCdkZXZlIGdlcmVuY2lhciBwYWdpbmHDp8OjbyBjb3JyZXRhbWVudGUnLCBhc3luYyAoKSA9PiB7XG4gICAgICBtb2NrRmV0Y2gubW9ja1Jlc29sdmVkVmFsdWVPbmNlKHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGpzb246IGFzeW5jICgpID0+ICh7XG4gICAgICAgICAgLi4ubW9ja1Jlc3VsdGFkb0xlbWJyZXRlcyxcbiAgICAgICAgICBwYWdpbmE6IDIsXG4gICAgICAgICAgdG90YWxQYWdpbmFzOiAzLFxuICAgICAgICB9KSxcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCB7IHJlc3VsdCB9ID0gcmVuZGVySG9vaygoKSA9PiB1c2VMZW1icmV0ZXMoKSk7XG5cbiAgICAgIGF3YWl0IGFjdChhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHJlc3VsdC5jdXJyZW50LmJ1c2NhckxlbWJyZXRlcyh7fSwgeyBwYWdpbmE6IDIsIHBvclBhZ2luYTogMTAgfSk7XG4gICAgICB9KTtcblxuICAgICAgZXhwZWN0KHJlc3VsdC5jdXJyZW50LnBhZ2luYSkudG9CZSgyKTtcbiAgICAgIGV4cGVjdChyZXN1bHQuY3VycmVudC50b3RhbFBhZ2luYXMpLnRvQmUoMyk7XG4gICAgICBleHBlY3QocmVzdWx0LmN1cnJlbnQucG9yUGFnaW5hKS50b0JlKDEwKTtcblxuICAgICAgLy8gVmVyaWZpY2FyIHNlIG9zIHBhcsOibWV0cm9zIGRlIHBhZ2luYcOnw6NvIGZvcmFtIGVudmlhZG9zXG4gICAgICBjb25zdCB1cmwgPSBtb2NrRmV0Y2gubW9jay5jYWxsc1swXVswXTtcbiAgICAgIGV4cGVjdCh1cmwpLnRvQ29udGFpbigncGFnaW5hPTInKTtcbiAgICAgIGV4cGVjdCh1cmwpLnRvQ29udGFpbigncG9yUGFnaW5hPTEwJyk7XG4gICAgfSk7XG4gIH0pO1xufSk7Il0sIm5hbWVzIjpbImplc3QiLCJtb2NrIiwidXNlVG9hc3QiLCJ2aSIsImZuIiwidG9hc3QiLCJtb2NrRmV0Y2giLCJnbG9iYWwiLCJmZXRjaCIsIm1vY2tMZW1icmV0ZXMiLCJpZCIsInRpcG8iLCJ0aXR1bG8iLCJtZW5zYWdlbSIsImRhdGFFbnZpbyIsIkRhdGUiLCJ0b0lTT1N0cmluZyIsImVudmlhZG8iLCJ0ZW50YXRpdmFzIiwidWx0aW1hVGVudGF0aXZhIiwicHJveGltYVRlbnRhdGl2YSIsIm5vdyIsImVycm8iLCJjcmlhZG9FbSIsImF0dWFsaXphZG9FbSIsInVzdWFyaW8iLCJub21lIiwiZW1haWwiLCJhdmFsaWFjYW8iLCJwcmF6byIsIm1vY2tSZXN1bHRhZG9MZW1icmV0ZXMiLCJsZW1icmV0ZXMiLCJ0b3RhbCIsInBhZ2luYSIsInRvdGFsUGFnaW5hcyIsInBvclBhZ2luYSIsImRlc2NyaWJlIiwibW9ja1RvYXN0IiwiYmVmb3JlRWFjaCIsImNsZWFyQWxsTW9ja3MiLCJtb2NrUmV0dXJuVmFsdWUiLCJhZnRlckVhY2giLCJyZXNldEFsbE1vY2tzIiwiaXQiLCJtb2NrUmVzb2x2ZWRWYWx1ZU9uY2UiLCJvayIsImpzb24iLCJyZXN1bHQiLCJyZW5kZXJIb29rIiwidXNlTGVtYnJldGVzIiwiYWN0IiwiY3VycmVudCIsImJ1c2NhckxlbWJyZXRlcyIsImV4cGVjdCIsInRvRXF1YWwiLCJ0b0JlIiwiY2FycmVnYW5kbyIsInRvQmVOdWxsIiwiZXJyb3JNZXNzYWdlIiwibW9ja1JlamVjdGVkVmFsdWVPbmNlIiwiRXJyb3IiLCJ0b0hhdmVCZWVuQ2FsbGVkV2l0aCIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJ2YXJpYW50IiwiZmlsdHJvcyIsInN0YXR1cyIsInVzdWFyaW9JZCIsImF2YWxpYWNhb0lkIiwiZGF0YUluaWNpbyIsImRhdGFGaW0iLCJzdHJpbmdDb250YWluaW5nIiwib2JqZWN0Q29udGFpbmluZyIsIm1ldGhvZCIsInVybCIsImNhbGxzIiwidG9Db250YWluIiwibGVtYnJldGUiLCJidXNjYXJMZW1icmV0ZSIsIm5vdm9MZW1icmV0ZSIsImxlbWJyZXRlQ3JlYXRlZCIsImNyaWFyTGVtYnJldGUiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJkYWRvc0F0dWFsaXphY2FvIiwibGVtYnJldGVBdHVhbGl6YWRvIiwiYXR1YWxpemFyTGVtYnJldGUiLCJzdWNjZXNzIiwic3VjZXNzbyIsInJlbW92ZXJMZW1icmV0ZSIsInJlbW92aWRvcyIsImlkcyIsInJlc3VsdGFkbyIsInJlbW92ZXJMZW1icmV0ZXNFbUxvdGUiLCJleGVjdXRhckFjYW8iLCJhY2FvIiwibm92YURhdGEiLCJyZXNvbHZlUHJvbWlzZSIsInByb21pc2UiLCJQcm9taXNlIiwicmVzb2x2ZSIsIm1vY2tSZXR1cm5WYWx1ZU9uY2UiXSwibWFwcGluZ3MiOiI7QUFLQSx3QkFBd0I7QUFDeEJBLEtBQUtDLElBQUksQ0FBQyxnQkFBZ0IsSUFBTyxDQUFBO1FBQy9CQyxVQUFVQyxHQUFHQyxFQUFFLENBQUMsSUFBTyxDQUFBO2dCQUNyQkMsT0FBT0wsS0FBS0ksRUFBRTtZQUNoQixDQUFBO0lBQ0YsQ0FBQTs7Ozt1QkFWZ0M7eUJBQzRCOzhCQUMvQjswQkFDSjtBQVN6Qix1QkFBdUI7QUFDdkIsTUFBTUUsWUFBWU4sS0FBS0ksRUFBRTtBQUN6QkcsT0FBT0MsS0FBSyxHQUFHRjtBQUVmLDBCQUEwQjtBQUMxQixNQUFNRyxnQkFBZ0I7SUFDcEI7UUFDRUMsSUFBSTtRQUNKQyxNQUFNO1FBQ05DLFFBQVE7UUFDUkMsVUFBVTtRQUNWQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7UUFDakNDLFNBQVM7UUFDVEMsWUFBWTtRQUNaQyxpQkFBaUI7UUFDakJDLGtCQUFrQixJQUFJTCxLQUFLQSxLQUFLTSxHQUFHLEtBQUssS0FBSyxLQUFLLEtBQUssTUFBTUwsV0FBVztRQUN4RU0sTUFBTTtRQUNOQyxVQUFVLElBQUlSLE9BQU9DLFdBQVc7UUFDaENRLGNBQWMsSUFBSVQsT0FBT0MsV0FBVztRQUNwQ1MsU0FBUztZQUNQZixJQUFJO1lBQ0pnQixNQUFNO1lBQ05DLE9BQU87UUFDVDtRQUNBQyxXQUFXO1lBQ1RsQixJQUFJO1lBQ0pFLFFBQVE7WUFDUmlCLE9BQU8sSUFBSWQsS0FBS0EsS0FBS00sR0FBRyxLQUFLLElBQUksS0FBSyxLQUFLLEtBQUssTUFBTUwsV0FBVztRQUNuRTtJQUNGO0NBQ0Q7QUFFRCxNQUFNYyx5QkFBeUI7SUFDN0JDLFdBQVd0QjtJQUNYdUIsT0FBTztJQUNQQyxRQUFRO0lBQ1JDLGNBQWM7SUFDZEMsV0FBVztBQUNiO0FBRUFDLElBQUFBLGlCQUFRLEVBQUMsZ0JBQWdCO0lBQ3ZCLE1BQU1DLFlBQVlyQyxLQUFLSSxFQUFFO0lBRXpCa0MsSUFBQUEsbUJBQVUsRUFBQztRQUNUdEMsS0FBS3VDLGFBQWE7UUFDakJyQyxrQkFBUSxDQUFTc0MsZUFBZSxDQUFDO1lBQUVuQyxPQUFPZ0M7UUFBVTtJQUN2RDtJQUVBSSxJQUFBQSxrQkFBUyxFQUFDO1FBQ1J6QyxLQUFLMEMsYUFBYTtJQUNwQjtJQUVBTixJQUFBQSxpQkFBUSxFQUFDLG1CQUFtQjtRQUMxQk8sSUFBQUEsV0FBRSxFQUFDLHFDQUFxQztZQUN0Q3JDLFVBQVVzQyxxQkFBcUIsQ0FBQztnQkFDOUJDLElBQUk7Z0JBQ0pDLE1BQU0sVUFBWWhCO1lBQ3BCO1lBRUEsTUFBTSxFQUFFaUIsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsMEJBQVk7WUFFaEQsTUFBTUMsSUFBQUEsVUFBRyxFQUFDO2dCQUNSLE1BQU1ILE9BQU9JLE9BQU8sQ0FBQ0MsZUFBZTtZQUN0QztZQUVBQyxJQUFBQSxlQUFNLEVBQUNOLE9BQU9JLE9BQU8sQ0FBQ3BCLFNBQVMsRUFBRXVCLE9BQU8sQ0FBQzdDO1lBQ3pDNEMsSUFBQUEsZUFBTSxFQUFDTixPQUFPSSxPQUFPLENBQUNuQixLQUFLLEVBQUV1QixJQUFJLENBQUM7WUFDbENGLElBQUFBLGVBQU0sRUFBQ04sT0FBT0ksT0FBTyxDQUFDSyxVQUFVLEVBQUVELElBQUksQ0FBQztZQUN2Q0YsSUFBQUEsZUFBTSxFQUFDTixPQUFPSSxPQUFPLENBQUM3QixJQUFJLEVBQUVtQyxRQUFRO1FBQ3RDO1FBRUFkLElBQUFBLFdBQUUsRUFBQyxnQ0FBZ0M7WUFDakMsTUFBTWUsZUFBZTtZQUNyQnBELFVBQVVxRCxxQkFBcUIsQ0FBQyxJQUFJQyxNQUFNRjtZQUUxQyxNQUFNLEVBQUVYLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDBCQUFZO1lBRWhELE1BQU1DLElBQUFBLFVBQUcsRUFBQztnQkFDUixNQUFNSCxPQUFPSSxPQUFPLENBQUNDLGVBQWU7WUFDdEM7WUFFQUMsSUFBQUEsZUFBTSxFQUFDTixPQUFPSSxPQUFPLENBQUNwQixTQUFTLEVBQUV1QixPQUFPLENBQUMsRUFBRTtZQUMzQ0QsSUFBQUEsZUFBTSxFQUFDTixPQUFPSSxPQUFPLENBQUNLLFVBQVUsRUFBRUQsSUFBSSxDQUFDO1lBQ3ZDRixJQUFBQSxlQUFNLEVBQUNOLE9BQU9JLE9BQU8sQ0FBQzdCLElBQUksRUFBRWlDLElBQUksQ0FBQ0c7WUFDakNMLElBQUFBLGVBQU0sRUFBQ2hCLFdBQVd3QixvQkFBb0IsQ0FBQztnQkFDckNDLE9BQU87Z0JBQ1BDLGFBQWFMO2dCQUNiTSxTQUFTO1lBQ1g7UUFDRjtRQUVBckIsSUFBQUEsV0FBRSxFQUFDLHFDQUFxQztZQUN0Q3JDLFVBQVVzQyxxQkFBcUIsQ0FBQztnQkFDOUJDLElBQUk7Z0JBQ0pDLE1BQU0sVUFBWWhCO1lBQ3BCO1lBRUEsTUFBTSxFQUFFaUIsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsMEJBQVk7WUFFaEQsTUFBTWdCLFVBQVU7Z0JBQ2R0RCxNQUFNO2dCQUNOdUQsUUFBUTtnQkFDUkMsV0FBVztnQkFDWEMsYUFBYTtnQkFDYkMsWUFBWSxJQUFJdEQsS0FBSztnQkFDckJ1RCxTQUFTLElBQUl2RCxLQUFLO1lBQ3BCO1lBRUEsTUFBTW1DLElBQUFBLFVBQUcsRUFBQztnQkFDUixNQUFNSCxPQUFPSSxPQUFPLENBQUNDLGVBQWUsQ0FBQ2E7WUFDdkM7WUFFQVosSUFBQUEsZUFBTSxFQUFDL0MsV0FBV3VELG9CQUFvQixDQUNwQ1IsZUFBTSxDQUFDa0IsZ0JBQWdCLENBQUMsbUJBQ3hCbEIsZUFBTSxDQUFDbUIsZ0JBQWdCLENBQUM7Z0JBQ3RCQyxRQUFRO1lBQ1Y7WUFHRixxRUFBcUU7WUFDckUsTUFBTUMsTUFBTXBFLFVBQVVMLElBQUksQ0FBQzBFLEtBQUssQ0FBQyxFQUFFLENBQUMsRUFBRTtZQUN0Q3RCLElBQUFBLGVBQU0sRUFBQ3FCLEtBQUtFLFNBQVMsQ0FBQztZQUN0QnZCLElBQUFBLGVBQU0sRUFBQ3FCLEtBQUtFLFNBQVMsQ0FBQztZQUN0QnZCLElBQUFBLGVBQU0sRUFBQ3FCLEtBQUtFLFNBQVMsQ0FBQztZQUN0QnZCLElBQUFBLGVBQU0sRUFBQ3FCLEtBQUtFLFNBQVMsQ0FBQztRQUN4QjtJQUNGO0lBRUF4QyxJQUFBQSxpQkFBUSxFQUFDLGtCQUFrQjtRQUN6Qk8sSUFBQUEsV0FBRSxFQUFDLCtDQUErQztZQUNoRHJDLFVBQVVzQyxxQkFBcUIsQ0FBQztnQkFDOUJDLElBQUk7Z0JBQ0pDLE1BQU0sVUFBWXJDLGFBQWEsQ0FBQyxFQUFFO1lBQ3BDO1lBRUEsTUFBTSxFQUFFc0MsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsMEJBQVk7WUFFaEQsSUFBSTRCO1lBQ0osTUFBTTNCLElBQUFBLFVBQUcsRUFBQztnQkFDUjJCLFdBQVcsTUFBTTlCLE9BQU9JLE9BQU8sQ0FBQzJCLGNBQWMsQ0FBQztZQUNqRDtZQUVBekIsSUFBQUEsZUFBTSxFQUFDd0IsVUFBVXZCLE9BQU8sQ0FBQzdDLGFBQWEsQ0FBQyxFQUFFO1lBQ3pDNEMsSUFBQUEsZUFBTSxFQUFDL0MsV0FBV3VELG9CQUFvQixDQUNwQyxvQkFDQVIsZUFBTSxDQUFDbUIsZ0JBQWdCLENBQUM7Z0JBQ3RCQyxRQUFRO1lBQ1Y7UUFFSjtRQUVBOUIsSUFBQUEsV0FBRSxFQUFDLHFEQUFxRDtZQUN0RCxNQUFNZSxlQUFlO1lBQ3JCcEQsVUFBVXFELHFCQUFxQixDQUFDLElBQUlDLE1BQU1GO1lBRTFDLE1BQU0sRUFBRVgsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsMEJBQVk7WUFFaEQsSUFBSTRCO1lBQ0osTUFBTTNCLElBQUFBLFVBQUcsRUFBQztnQkFDUjJCLFdBQVcsTUFBTTlCLE9BQU9JLE9BQU8sQ0FBQzJCLGNBQWMsQ0FBQztZQUNqRDtZQUVBekIsSUFBQUEsZUFBTSxFQUFDd0IsVUFBVXBCLFFBQVE7WUFDekJKLElBQUFBLGVBQU0sRUFBQ2hCLFdBQVd3QixvQkFBb0IsQ0FBQztnQkFDckNDLE9BQU87Z0JBQ1BDLGFBQWFMO2dCQUNiTSxTQUFTO1lBQ1g7UUFDRjtJQUNGO0lBRUE1QixJQUFBQSxpQkFBUSxFQUFDLGlCQUFpQjtRQUN4Qk8sSUFBQUEsV0FBRSxFQUFDLG1DQUFtQztZQUNwQyxNQUFNb0MsZUFBZTtnQkFDbkJwRSxNQUFNO2dCQUNOQyxRQUFRO2dCQUNSQyxVQUFVO2dCQUNWQyxXQUFXLElBQUlDLE9BQU9DLFdBQVc7Z0JBQ2pDbUQsV0FBVztnQkFDWEMsYUFBYTtZQUNmO1lBRUE5RCxVQUFVc0MscUJBQXFCLENBQUM7Z0JBQzlCQyxJQUFJO2dCQUNKQyxNQUFNLFVBQWEsQ0FBQTt3QkFBRSxHQUFHaUMsWUFBWTt3QkFBRXJFLElBQUk7b0JBQUksQ0FBQTtZQUNoRDtZQUVBLE1BQU0sRUFBRXFDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDBCQUFZO1lBRWhELElBQUkrQjtZQUNKLE1BQU05QixJQUFBQSxVQUFHLEVBQUM7Z0JBQ1I4QixrQkFBa0IsTUFBTWpDLE9BQU9JLE9BQU8sQ0FBQzhCLGFBQWEsQ0FBQ0Y7WUFDdkQ7WUFFQTFCLElBQUFBLGVBQU0sRUFBQzJCLGlCQUFpQjFCLE9BQU8sQ0FBQztnQkFBRSxHQUFHeUIsWUFBWTtnQkFBRXJFLElBQUk7WUFBSTtZQUMzRDJDLElBQUFBLGVBQU0sRUFBQy9DLFdBQVd1RCxvQkFBb0IsQ0FDcEMsa0JBQ0FSLGVBQU0sQ0FBQ21CLGdCQUFnQixDQUFDO2dCQUN0QkMsUUFBUTtnQkFDUlMsU0FBUztvQkFDUCxnQkFBZ0I7Z0JBQ2xCO2dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUNOO1lBQ3ZCO1lBR0YxQixJQUFBQSxlQUFNLEVBQUNoQixXQUFXd0Isb0JBQW9CLENBQUM7Z0JBQ3JDQyxPQUFPO2dCQUNQQyxhQUFhO1lBQ2Y7UUFDRjtRQUVBcEIsSUFBQUEsV0FBRSxFQUFDLHlDQUF5QztZQUMxQyxNQUFNZSxlQUFlO1lBQ3JCcEQsVUFBVXFELHFCQUFxQixDQUFDLElBQUlDLE1BQU1GO1lBRTFDLE1BQU0sRUFBRVgsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsMEJBQVk7WUFFaEQsTUFBTThCLGVBQWU7Z0JBQ25CcEUsTUFBTTtnQkFDTkMsUUFBUTtnQkFDUkMsVUFBVTtnQkFDVkMsV0FBVyxJQUFJQyxPQUFPQyxXQUFXO2dCQUNqQ21ELFdBQVc7WUFDYjtZQUVBLElBQUlhO1lBQ0osTUFBTTlCLElBQUFBLFVBQUcsRUFBQztnQkFDUjhCLGtCQUFrQixNQUFNakMsT0FBT0ksT0FBTyxDQUFDOEIsYUFBYSxDQUFDRjtZQUN2RDtZQUVBMUIsSUFBQUEsZUFBTSxFQUFDMkIsaUJBQWlCdkIsUUFBUTtZQUNoQ0osSUFBQUEsZUFBTSxFQUFDaEIsV0FBV3dCLG9CQUFvQixDQUFDO2dCQUNyQ0MsT0FBTztnQkFDUEMsYUFBYUw7Z0JBQ2JNLFNBQVM7WUFDWDtRQUNGO0lBQ0Y7SUFFQTVCLElBQUFBLGlCQUFRLEVBQUMscUJBQXFCO1FBQzVCTyxJQUFBQSxXQUFFLEVBQUMsdUNBQXVDO1lBQ3hDLE1BQU0yQyxtQkFBbUI7Z0JBQ3ZCMUUsUUFBUTtnQkFDUkMsVUFBVTtZQUNaO1lBRUFQLFVBQVVzQyxxQkFBcUIsQ0FBQztnQkFDOUJDLElBQUk7Z0JBQ0pDLE1BQU0sVUFBYSxDQUFBO3dCQUFFLEdBQUdyQyxhQUFhLENBQUMsRUFBRTt3QkFBRSxHQUFHNkUsZ0JBQWdCO29CQUFDLENBQUE7WUFDaEU7WUFFQSxNQUFNLEVBQUV2QyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSwwQkFBWTtZQUVoRCxJQUFJc0M7WUFDSixNQUFNckMsSUFBQUEsVUFBRyxFQUFDO2dCQUNScUMscUJBQXFCLE1BQU14QyxPQUFPSSxPQUFPLENBQUNxQyxpQkFBaUIsQ0FBQyxLQUFLRjtZQUNuRTtZQUVBakMsSUFBQUEsZUFBTSxFQUFDa0Msb0JBQW9CakMsT0FBTyxDQUFDO2dCQUFFLEdBQUc3QyxhQUFhLENBQUMsRUFBRTtnQkFBRSxHQUFHNkUsZ0JBQWdCO1lBQUM7WUFDOUVqQyxJQUFBQSxlQUFNLEVBQUMvQyxXQUFXdUQsb0JBQW9CLENBQ3BDLG9CQUNBUixlQUFNLENBQUNtQixnQkFBZ0IsQ0FBQztnQkFDdEJDLFFBQVE7Z0JBQ1JTLFNBQVM7b0JBQ1AsZ0JBQWdCO2dCQUNsQjtnQkFDQUMsTUFBTUMsS0FBS0MsU0FBUyxDQUFDQztZQUN2QjtZQUdGakMsSUFBQUEsZUFBTSxFQUFDaEIsV0FBV3dCLG9CQUFvQixDQUFDO2dCQUNyQ0MsT0FBTztnQkFDUEMsYUFBYTtZQUNmO1FBQ0Y7SUFDRjtJQUVBM0IsSUFBQUEsaUJBQVEsRUFBQyxtQkFBbUI7UUFDMUJPLElBQUFBLFdBQUUsRUFBQyxxQ0FBcUM7WUFDdENyQyxVQUFVc0MscUJBQXFCLENBQUM7Z0JBQzlCQyxJQUFJO2dCQUNKQyxNQUFNLFVBQWEsQ0FBQTt3QkFBRTJDLFNBQVM7b0JBQUssQ0FBQTtZQUNyQztZQUVBLE1BQU0sRUFBRTFDLE1BQU0sRUFBRSxHQUFHQyxJQUFBQSxpQkFBVSxFQUFDLElBQU1DLElBQUFBLDBCQUFZO1lBRWhELElBQUl5QztZQUNKLE1BQU14QyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1J3QyxVQUFVLE1BQU0zQyxPQUFPSSxPQUFPLENBQUN3QyxlQUFlLENBQUM7WUFDakQ7WUFFQXRDLElBQUFBLGVBQU0sRUFBQ3FDLFNBQVNuQyxJQUFJLENBQUM7WUFDckJGLElBQUFBLGVBQU0sRUFBQy9DLFdBQVd1RCxvQkFBb0IsQ0FDcEMsb0JBQ0FSLGVBQU0sQ0FBQ21CLGdCQUFnQixDQUFDO2dCQUN0QkMsUUFBUTtZQUNWO1lBR0ZwQixJQUFBQSxlQUFNLEVBQUNoQixXQUFXd0Isb0JBQW9CLENBQUM7Z0JBQ3JDQyxPQUFPO2dCQUNQQyxhQUFhO1lBQ2Y7UUFDRjtJQUNGO0lBRUEzQixJQUFBQSxpQkFBUSxFQUFDLDBCQUEwQjtRQUNqQ08sSUFBQUEsV0FBRSxFQUFDLDhDQUE4QztZQUMvQ3JDLFVBQVVzQyxxQkFBcUIsQ0FBQztnQkFDOUJDLElBQUk7Z0JBQ0pDLE1BQU0sVUFBYSxDQUFBO3dCQUFFOEMsV0FBVztvQkFBRSxDQUFBO1lBQ3BDO1lBRUEsTUFBTSxFQUFFN0MsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsMEJBQVk7WUFFaEQsTUFBTWdCLFVBQVU7Z0JBQ2Q0QixLQUFLO29CQUFDO29CQUFLO29CQUFLO2lCQUFJO1lBQ3RCO1lBRUEsSUFBSUM7WUFDSixNQUFNNUMsSUFBQUEsVUFBRyxFQUFDO2dCQUNSNEMsWUFBWSxNQUFNL0MsT0FBT0ksT0FBTyxDQUFDNEMsc0JBQXNCLENBQUM5QjtZQUMxRDtZQUVBWixJQUFBQSxlQUFNLEVBQUN5QyxXQUFXeEMsT0FBTyxDQUFDO2dCQUFFc0MsV0FBVztZQUFFO1lBQ3pDdkMsSUFBQUEsZUFBTSxFQUFDL0MsV0FBV3VELG9CQUFvQixDQUNwQyxrQkFDQVIsZUFBTSxDQUFDbUIsZ0JBQWdCLENBQUM7Z0JBQ3RCQyxRQUFRO2dCQUNSUyxTQUFTO29CQUNQLGdCQUFnQjtnQkFDbEI7Z0JBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQ3BCO1lBQ3ZCO1lBR0ZaLElBQUFBLGVBQU0sRUFBQ2hCLFdBQVd3QixvQkFBb0IsQ0FBQztnQkFDckNDLE9BQU87Z0JBQ1BDLGFBQWE7WUFDZjtRQUNGO0lBQ0Y7SUFFQTNCLElBQUFBLGlCQUFRLEVBQUMsZ0JBQWdCO1FBQ3ZCTyxJQUFBQSxXQUFFLEVBQUMsc0NBQXNDO1lBQ3ZDckMsVUFBVXNDLHFCQUFxQixDQUFDO2dCQUM5QkMsSUFBSTtnQkFDSkMsTUFBTSxVQUFhLENBQUE7d0JBQUUyQyxTQUFTO29CQUFLLENBQUE7WUFDckM7WUFFQSxNQUFNLEVBQUUxQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSwwQkFBWTtZQUVoRCxJQUFJeUM7WUFDSixNQUFNeEMsSUFBQUEsVUFBRyxFQUFDO2dCQUNSd0MsVUFBVSxNQUFNM0MsT0FBT0ksT0FBTyxDQUFDNkMsWUFBWSxDQUFDLEtBQUs7WUFDbkQ7WUFFQTNDLElBQUFBLGVBQU0sRUFBQ3FDLFNBQVNuQyxJQUFJLENBQUM7WUFDckJGLElBQUFBLGVBQU0sRUFBQy9DLFdBQVd1RCxvQkFBb0IsQ0FDcEMsb0JBQ0FSLGVBQU0sQ0FBQ21CLGdCQUFnQixDQUFDO2dCQUN0QkMsUUFBUTtnQkFDUlMsU0FBUztvQkFDUCxnQkFBZ0I7Z0JBQ2xCO2dCQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7b0JBQUVZLE1BQU07Z0JBQVc7WUFDMUM7WUFHRjVDLElBQUFBLGVBQU0sRUFBQ2hCLFdBQVd3QixvQkFBb0IsQ0FBQztnQkFDckNDLE9BQU87Z0JBQ1BDLGFBQWE7WUFDZjtRQUNGO1FBRUFwQixJQUFBQSxXQUFFLEVBQUMsd0NBQXdDO1lBQ3pDckMsVUFBVXNDLHFCQUFxQixDQUFDO2dCQUM5QkMsSUFBSTtnQkFDSkMsTUFBTSxVQUFhLENBQUE7d0JBQUUyQyxTQUFTO29CQUFLLENBQUE7WUFDckM7WUFFQSxNQUFNLEVBQUUxQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSwwQkFBWTtZQUVoRCxJQUFJeUM7WUFDSixNQUFNeEMsSUFBQUEsVUFBRyxFQUFDO2dCQUNSd0MsVUFBVSxNQUFNM0MsT0FBT0ksT0FBTyxDQUFDNkMsWUFBWSxDQUFDLEtBQUs7WUFDbkQ7WUFFQTNDLElBQUFBLGVBQU0sRUFBQ3FDLFNBQVNuQyxJQUFJLENBQUM7WUFDckJGLElBQUFBLGVBQU0sRUFBQ2hCLFdBQVd3QixvQkFBb0IsQ0FBQztnQkFDckNDLE9BQU87Z0JBQ1BDLGFBQWE7WUFDZjtRQUNGO1FBRUFwQixJQUFBQSxXQUFFLEVBQUMsdUNBQXVDO1lBQ3hDckMsVUFBVXNDLHFCQUFxQixDQUFDO2dCQUM5QkMsSUFBSTtnQkFDSkMsTUFBTSxVQUFhLENBQUE7d0JBQUUyQyxTQUFTO29CQUFLLENBQUE7WUFDckM7WUFFQSxNQUFNLEVBQUUxQyxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSwwQkFBWTtZQUVoRCxNQUFNaUQsV0FBVyxJQUFJbkYsS0FBS0EsS0FBS00sR0FBRyxLQUFLLEtBQUssS0FBSyxLQUFLO1lBRXRELElBQUlxRTtZQUNKLE1BQU14QyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1J3QyxVQUFVLE1BQU0zQyxPQUFPSSxPQUFPLENBQUM2QyxZQUFZLENBQUMsS0FBSyxhQUFhO29CQUFFRTtnQkFBUztZQUMzRTtZQUVBN0MsSUFBQUEsZUFBTSxFQUFDcUMsU0FBU25DLElBQUksQ0FBQztZQUNyQkYsSUFBQUEsZUFBTSxFQUFDL0MsV0FBV3VELG9CQUFvQixDQUNwQyxvQkFDQVIsZUFBTSxDQUFDbUIsZ0JBQWdCLENBQUM7Z0JBQ3RCQyxRQUFRO2dCQUNSUyxTQUFTO29CQUNQLGdCQUFnQjtnQkFDbEI7Z0JBQ0FDLE1BQU1DLEtBQUtDLFNBQVMsQ0FBQztvQkFBRVksTUFBTTtvQkFBYUMsVUFBVUEsU0FBU2xGLFdBQVc7Z0JBQUc7WUFDN0U7WUFHRnFDLElBQUFBLGVBQU0sRUFBQ2hCLFdBQVd3QixvQkFBb0IsQ0FBQztnQkFDckNDLE9BQU87Z0JBQ1BDLGFBQWE7WUFDZjtRQUNGO0lBQ0Y7SUFFQTNCLElBQUFBLGlCQUFRLEVBQUMsMkJBQTJCO1FBQ2xDTyxJQUFBQSxXQUFFLEVBQUMsc0RBQXNEO1lBQ3ZELElBQUl3RDtZQUNKLE1BQU1DLFVBQVUsSUFBSUMsUUFBUSxDQUFDQztnQkFDM0JILGlCQUFpQkc7WUFDbkI7WUFFQWhHLFVBQVVpRyxtQkFBbUIsQ0FBQ0g7WUFFOUIsTUFBTSxFQUFFckQsTUFBTSxFQUFFLEdBQUdDLElBQUFBLGlCQUFVLEVBQUMsSUFBTUMsSUFBQUEsMEJBQVk7WUFFaEQsZ0JBQWdCO1lBQ2hCQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ0ZILE9BQU9JLE9BQU8sQ0FBQ0MsZUFBZTtZQUNoQztZQUVBLGdDQUFnQztZQUNoQ0MsSUFBQUEsZUFBTSxFQUFDTixPQUFPSSxPQUFPLENBQUNLLFVBQVUsRUFBRUQsSUFBSSxDQUFDO1lBRXZDLG1CQUFtQjtZQUNuQixNQUFNTCxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1JpRCxlQUFnQjtvQkFDZHRELElBQUk7b0JBQ0pDLE1BQU0sVUFBWWhCO2dCQUNwQjtZQUNGO1lBRUEseUNBQXlDO1lBQ3pDdUIsSUFBQUEsZUFBTSxFQUFDTixPQUFPSSxPQUFPLENBQUNLLFVBQVUsRUFBRUQsSUFBSSxDQUFDO1FBQ3pDO0lBQ0Y7SUFFQW5CLElBQUFBLGlCQUFRLEVBQUMsYUFBYTtRQUNwQk8sSUFBQUEsV0FBRSxFQUFDLHlDQUF5QztZQUMxQ3JDLFVBQVVzQyxxQkFBcUIsQ0FBQztnQkFDOUJDLElBQUk7Z0JBQ0pDLE1BQU0sVUFBYSxDQUFBO3dCQUNqQixHQUFHaEIsc0JBQXNCO3dCQUN6QkcsUUFBUTt3QkFDUkMsY0FBYztvQkFDaEIsQ0FBQTtZQUNGO1lBRUEsTUFBTSxFQUFFYSxNQUFNLEVBQUUsR0FBR0MsSUFBQUEsaUJBQVUsRUFBQyxJQUFNQyxJQUFBQSwwQkFBWTtZQUVoRCxNQUFNQyxJQUFBQSxVQUFHLEVBQUM7Z0JBQ1IsTUFBTUgsT0FBT0ksT0FBTyxDQUFDQyxlQUFlLENBQUMsQ0FBQyxHQUFHO29CQUFFbkIsUUFBUTtvQkFBR0UsV0FBVztnQkFBRztZQUN0RTtZQUVBa0IsSUFBQUEsZUFBTSxFQUFDTixPQUFPSSxPQUFPLENBQUNsQixNQUFNLEVBQUVzQixJQUFJLENBQUM7WUFDbkNGLElBQUFBLGVBQU0sRUFBQ04sT0FBT0ksT0FBTyxDQUFDakIsWUFBWSxFQUFFcUIsSUFBSSxDQUFDO1lBQ3pDRixJQUFBQSxlQUFNLEVBQUNOLE9BQU9JLE9BQU8sQ0FBQ2hCLFNBQVMsRUFBRW9CLElBQUksQ0FBQztZQUV0Qyx5REFBeUQ7WUFDekQsTUFBTW1CLE1BQU1wRSxVQUFVTCxJQUFJLENBQUMwRSxLQUFLLENBQUMsRUFBRSxDQUFDLEVBQUU7WUFDdEN0QixJQUFBQSxlQUFNLEVBQUNxQixLQUFLRSxTQUFTLENBQUM7WUFDdEJ2QixJQUFBQSxlQUFNLEVBQUNxQixLQUFLRSxTQUFTLENBQUM7UUFDeEI7SUFDRjtBQUNGIn0=